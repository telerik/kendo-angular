<div class="content-container">
    <h3>Fetching Data from the Server</h3>
    <p>
        <a href="https://www.telerik.com/kendo-angular-ui/components/grid/"
            >Grid component</a
        >
        demonstrating fetching data from the server with CRUD operations. The
        sorting, grouping, filtering, and paging are handled by the
        <a
            href="https://www.telerik.com/kendo-angular-ui/components/data-query/bulk-operations"
            >process helper</a
        >.
    </p>

    <kendo-grid
      [data]="gridData() ?? { data: [], total: 0 }"
        [groupable]="true"
        [sortable]="true"
        [pageable]="true"
        [filterable]="true"
        [skip]="state().skip"
        [pageSize]="state().take"
        [group]="state().group"
        [sort]="state().sort"
        [filter]="state().filter"
        (edit)="editHandler($event)"
        (cancel)="cancelHandler($event)"
        (save)="saveHandler($event)"
        (remove)="removeHandler($event)"
        (add)="addHandler($event)"
        (dataStateChange)="dataStateChange($event)"
        style="margin-bottom: 10px"
    >
        <ng-template kendoGridToolbarTemplate>
            <button kendoGridAddCommand>Add new</button>
            @if (error()) {
                <span style="color: red; margin-left: 10px;">Error: {{ error() }}</span>
            }
        </ng-template>
        <kendo-grid-column
            field="productID"
            title="ID"
            editor="numeric"
            filter="numeric"
        >
        </kendo-grid-column>
        <kendo-grid-column
            field="productName"
            title="Name"
            editor="text"
            filter="text"
        >
        </kendo-grid-column>
        <kendo-grid-column
            field="unitPrice"
            title="Price"
            editor="numeric"
            filter="numeric"
        >
        </kendo-grid-column>
        <kendo-grid-command-column title="command" [width]="220">
            <ng-template kendoGridCellTemplate let-isNew="isNew">
                <button kendoGridEditCommand [primary]="true">Edit</button>
                <button kendoGridRemoveCommand>Remove</button>
                <button
                    kendoGridSaveCommand
                    [disabled]="formGroup()?.invalid ?? false"
                >
                    {{ isNew ? "Add" : "Update" }}
                </button>
                <button kendoGridCancelCommand>
                    {{ isNew ? "Discard changes" : "Cancel" }}
                </button>
            </ng-template>
        </kendo-grid-command-column>
    </kendo-grid>

    <h3>Upload Files to the Server</h3>
    <div class="row">
        <div class="info">
            <p>
                The Upload helps users send files from their file systems to
                dedicated server handlers which are configured to receive them.
            </p>
            <p>
                It is a richer version of an
                <code>&lt;input type="file" /&gt;</code> element and supports
                model binding, templates, forms, and more.
            </p>
            <p>
                For more information check the
                <a
                    href="https://www.telerik.com/kendo-angular-ui/components/uploads/upload/"
                    >Upload documentation</a
                >.
            </p>
        </div>
        <div class="component">
            <kendo-upload
                [saveUrl]="'http://localhost:8080/upload'"
                [removeUrl]="'http://localhost:8080/upload/remove'"
            >
            </kendo-upload>
        </div>
    </div>

    <div class="row">
        <div class="info">
            <p>
                The Chunk Upload allows splitting files into smaller chunks and
                sending them asynchronously through multiple requests to the
                server.
            </p>
            <p>
                The
                <a
                    href="https://www.telerik.com/kendo-angular-ui/components/uploads/api/ChunkSettings/"
                    >ChunkSettings</a
                >
                parameter enables you to specify the size of each chunk, number
                of attempts to retry uploading a failed chunk, pause, and later
                resume the process.
            </p>
            <p>
                For more information check the
                <a
                    href="https://www.telerik.com/kendo-angular-ui/components/uploads/upload/chunk-upload/"
                >
                    Chunk Upload documentation.
                </a>
            </p>
        </div>
        <div class="component">
            <kendo-upload
                [saveUrl]="'http://localhost:8080/upload'"
                [removeUrl]="'http://localhost:8080/chunk/remove'"
                [chunkable]="chunkSettings"
            >
            </kendo-upload>
        </div>
    </div>
</div>
