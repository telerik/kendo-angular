import{b as rt,c as yt,d as Lt,k as _n,l as bi,m as Ei,n as mn}from"./chunk-BRFW33MK.js";import{r as cn,s as hn}from"./chunk-WJRNDAQE.js";import{c as Ve}from"./chunk-ZOBE32OV.js";import{e as pn,f as Ci}from"./chunk-SRVYF3JF.js";import{a as Ze,c as Qi,f as Ye,g as $i,l as qi,t as Ji,u as Xi}from"./chunk-TDB5YJF6.js";import{Ac as Dt,Ba as Wt,Bc as Pe,Cc as tt,Dc as O,Fc as Ie,Lc as it,Mc as nt,Nc as Ge,Rc as $t,Sc as Si,Tc as Re,Uc as an,Wb as en,Wc as ln,Xb as Se,Yb as Et,Yc as st,Zc as Q,_c as dn,a as kt,ac as U,bc as Ae,bd as Ue,cc as et,dc as k,ec as B,fc as jt,ja as Zi,jc as tn,kd as ot,la as mt,ld as un,m as Ht,ma as Yi,mc as nn,nc as sn,oc as on,pc as Qt,uc as rn}from"./chunk-LQCEIJVJ.js";import{$a as h,A as re,Aa as q,Ab as Ui,B as G,Ba as Pi,Bb as Vi,Ca as Z,Cb as x,D as yi,Dc as Xe,Eb as u,Ec as Bt,Fb as zi,Fc as Ne,G as hi,Gb as Ki,H as _i,Hb as N,I as mi,Ib as I,J as $e,Jb as C,Jc as vi,Kb as b,Kc as Fe,La as d,Lb as z,Mb as ee,Na as ae,Nb as xe,Pb as Me,Qa as ge,Qb as K,Ra as c,Rb as te,Sb as qe,T as fi,Ta as pt,Tb as Bi,V as Li,Vb as ct,Wa as le,Wb as ht,X as gi,Xb as _t,Ya as F,Z as ne,_ as Mi,_a as ve,_b as Te,a as It,ac as R,b as zt,ba as V,bc as pe,ca as bt,cc as Kt,dc as Hi,eb as y,f as we,ga as Rt,i as Qe,ic as Wi,la as _,ma as m,mb as a,nb as v,nc as $,o as Tt,ob as S,pa as Le,pb as P,s as me,ta as g,tb as de,tc as Je,ua as fe,ub as ue,uc as Oe,vb as H,wb as T,wc as ji,y as ki,ya as Fi,z as ci,zb as Gi}from"./chunk-USDRQVEU.js";var Wn=["kendoSearchbar",""],jn=["content"],Qn=["list"],$n=["virtualContainer"],On=n=>({"k-disabled":n}),ye=(n,r)=>({templateRef:n,$implicit:r}),Nn=(n,r,e)=>({"height.px":n,"minHeight.px":r,boxSizing:e}),In=(n,r)=>({"k-disabled":n,"k-table-alt-row":r});function qn(n,r){if(n&1&&(v(0,"div",12),K(1),S()),n&2){let e=u();a("ngClass",R(3,On,e.isDisabledDefaultItem))("index",-1),d(),qe(" ",e.getDefaultItemText()," ")}}function Jn(n,r){}function Xn(n,r){if(n&1&&(v(0,"div",12),h(1,Jn,0,0,"ng-template",13),S()),n&2){let e=u();a("ngClass",R(3,On,e.isDisabledDefaultItem))("index",-1),d(),a("templateContext",pe(5,ye,e.template.templateRef,e.defaultItem))}}function Zn(n,r){}function Yn(n,r){if(n&1&&h(0,Zn,0,0,"ng-template",13),n&2){let e=u(2);a("templateContext",pe(1,ye,e.customItemTemplate.templateRef,e.text))}}function es(n,r){if(n&1&&K(0),n&2){let e=u(2);qe(" ",e.useCustomValueText," ")}}function ts(n,r){if(n&1&&(v(0,"div",14),h(1,Yn,1,4,null,15)(2,es,1,1,"ng-template",null,1,$),S()),n&2){let e=z(3),t=u();a("multipleSelection",!0)("index",-1),d(),a("ngIf",t.customItemTemplate)("ngIfElse",e)}}function is(n,r){}function ns(n,r){if(n&1&&h(0,is,0,0,"ng-template",13),n&2){let e=u(2);a("templateContext",pe(1,ye,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function ss(n,r){if(n&1&&(v(0,"span"),K(1),S()),n&2){let e=u(2);Me(e.listGroupStickyHeaderTextClass),d(),te(e.currentGroup)}}function os(n,r){if(n&1&&(v(0,"div",16),h(1,ns,1,4,null,10)(2,ss,2,3,"ng-template",17),S()),n&2){let e=u();Me(e.listGroupStickyHeaderClass),a("ngStyle",Kt(5,Nn,e.virtual==null?null:e.virtual.itemHeight,e.virtual==null?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),d(),a("ngIf",e.fixedGroupTemplate),d(),a("ngIf",!e.fixedGroupTemplate)}}function rs(n,r){if(n&1){let e=T();v(0,"input",22),x("change",function(i){_(e);let s=u().index,o=u(2);return m(o.onCheckedChange(i,s+o.startFrom))}),S()}if(n&2){let e=u().index,t=u(2);a("ngClass",t.checkboxClasses)("checked",t.isChecked(e))}}function as(n,r){}function ls(n,r){if(n&1&&h(0,as,0,0,"ng-template",13),n&2){let e=u().$implicit,t=u(2);a("templateContext",pe(1,ye,t.template.templateRef,e))}}function ds(n,r){if(n&1&&(v(0,"span",23),K(1),S()),n&2){let e=u().$implicit,t=u(2);d(),te(t.getText(e))}}function us(n,r){if(n&1&&(de(0),v(1,"li",20),h(2,rs,1,2,"input",21)(3,ls,1,4,null,10)(4,ds,2,1,"ng-template",17),S(),ue()),n&2){let e=r.index,t=u(2);d(),Me(t.listItemClass),ee("width",t.rowWidth??null,"px"),a("checkboxes",t.checkboxes)("height",t.virtual==null?null:t.virtual.itemHeight)("index",e+t.startFrom)("multipleSelection",t.multipleSelection)("ngClass",pe(15,In,t.isDisabled(e),t.isAltRow(e))),y("id",t.optionPrefix+"-"+e)("tabIndex",-1)("aria-selected",t.isItemSelected(e)),d(),a("ngIf",t.checkboxes.enabled),d(),a("ngIf",t.template),d(),a("ngIf",!t.template)}}function ps(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",24),x("resize",function(){_(e);let i=u(2);return m(i.listResize.emit())}),S()}}function cs(n,r){if(n&1&&(v(0,"ul",null,2),h(2,us,5,18,"ng-container",18)(3,ps,1,0,"kendo-resize-sensor",19),S()),n&2){let e=u();Me(e.listClass),y("role","listbox")("id",e.id)("aria-live",e.ariaLive)("aria-multiselectable",e.isMultiselect)("aria-hidden",!e.show),d(2),a("ngForOf",e.data),d(),a("ngIf",!e.virtual)}}function hs(n,r){}function _s(n,r){if(n&1&&h(0,hs,0,0,"ng-template",13),n&2){let e=u(2).$implicit,t=u(2);a("templateContext",pe(1,ye,t.groupTemplate.templateRef,e.value))}}function ms(n,r){if(n&1&&K(0),n&2){let e=u(2).$implicit;te(e.value)}}function fs(n,r){if(n&1&&(v(0,"li",29)(1,"span"),h(2,_s,1,4,null,10)(3,ms,1,1,"ng-template",17),S()()),n&2){let e=u().$implicit,t=z(1),i=u(2);Me(i.listGroupItemClass),ee("width",i.rowWidth??null,"px"),xe("k-table-alt-row",i.isAltRow(e.index-1)),a("ngStyle",Kt(13,Nn,i.virtual==null?null:i.virtual.itemHeight,i.virtual==null?null:i.virtual.itemHeight,i.virtual?"border-box":"inherit")),y("group-index",e.index)("id",t.getAttribute("aria-labelledby")),d(),Me(i.listGroupItemTextClass),d(),a("ngIf",i.groupTemplate),d(),a("ngIf",!i.groupTemplate)}}function gs(n,r){}function vs(n,r){if(n&1&&h(0,gs,0,0,"ng-template",13),n&2){let e=u().$implicit,t=u(3);a("templateContext",pe(1,ye,t.template.templateRef,e.value))}}function Ss(n,r){if(n&1&&(v(0,"span",23),K(1),S()),n&2){let e=u().$implicit,t=u(3);d(),te(t.getText(e.value))}}function Cs(n,r){if(n&1&&(v(0,"li",30),h(1,vs,1,4,null,10)(2,Ss,2,1,"ng-template",17),S()),n&2){let e=r.$implicit,t=u(3);Me(t.listItemClass),ee("width",t.rowWidth??null,"px"),a("height",t.virtual==null?null:t.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",t.multipleSelection)("ngClass",pe(14,In,t.isDisabled(e.offsetIndex),t.isAltRow(e.index-1))),y("absolute-index",e.index)("id",t.optionPrefix+"-"+(e.index-1-e.groupIndex))("tabIndex",-1)("aria-selected",t.isItemSelected(e.offsetIndex)),d(),a("ngIf",t.template),d(),a("ngIf",!t.template)}}function bs(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",24),x("resize",function(){_(e);let i=u(3);return m(i.listResize.emit())}),S()}}function Es(n,r){if(n&1&&(v(0,"ul",26,3),h(2,fs,4,17,"li",27)(3,Cs,3,17,"li",28)(4,bs,1,0,"kendo-resize-sensor",19),S()),n&2){let e=r.$implicit,t=u(2);y("role","group")("aria-labelledby",t.generateGroupId(e)),d(2),a("ngIf",e.header),d(),a("ngForOf",e.items),d(),a("ngIf",!t.virtual)}}function Ds(n,r){if(n&1&&(de(0,null,2),h(2,Es,5,5,"ul",25),ue()),n&2){let e=u();d(2),a("ngForOf",e.groupedData)}}function As(n,r){if(n&1){let e=T();v(0,"div",31,4)(2,"div")(3,"kendo-resize-sensor",24),x("resize",function(){_(e);let i=u();return m(i.listResize.emit())}),S()()()}if(n&2){let e=u();d(2),ee("height",e.scrollHeight,"px")}}var ws=["actionSheetSearchBar"],xs=n=>({duration:n}),Os=(n,r)=>({"k-adaptive-actionsheet":!0,"k-actionsheet-fullscreen":n,"k-actionsheet-bottom":r}),Ns=n=>({height:n});function Is(n,r){if(n&1&&(v(0,"div",15),K(1),S()),n&2){let e=u(2);d(),te(e.title)}}function Ts(n,r){if(n&1&&(v(0,"div",16),K(1),S()),n&2){let e=u(2);d(),te(e.subtitle)}}function Rs(n,r){n&1&&P(0,"kendo-icon",21)}function ks(n,r){n&1&&h(0,Rs,1,0,"ng-template",20)}function ys(n,r){if(n&1){let e=T();v(0,"div",17)(1,"kendo-textbox",18,1),x("valueChange",function(i){_(e);let s=u(2);return m(s.onValueChange(i))}),h(3,ks,1,0,null,19),S()()}if(n&2){let e=u(2);d(),a("value",e.searchBarValue||"")("placeholder",e.filterable?e.messageFor("filterInputPlaceholder"):e.placeholder),d(2),a("ngIf",e.filterable)}}function Ls(n,r){n&1&&H(0)}function Ms(n,r){if(n&1){let e=T();v(0,"div",4)(1,"div",5)(2,"div",6),h(3,Is,2,1,"div",7)(4,Ts,2,1,"div",8),S(),v(5,"div",9)(6,"button",10),x("click",function(){_(e);let i=u();return m(i.handleClose())}),S()()(),h(7,ys,4,3,"div",11),S(),v(8,"div",12)(9,"div",13),h(10,Ls,1,0,"ng-container",14),S()()}if(n&2){let e=u();d(3),a("ngIf",e.title),d(),a("ngIf",e.subtitle),d(2),a("svgIcon",e.checkIcon)("tabIndex",-1),y("title",e.messageFor("adaptiveCloseButtonTitle")),d(),a("ngIf",e.showTextInput),d(3),a("ngTemplateOutlet",e.sharedPopupActionSheetTemplate)}}var wt=["container"],xt=["popupTemplate"],si=["optionsList"],j=n=>({templateRef:n});function Fs(n,r){}function Ps(n,r){if(n&1&&(v(0,"span",14),h(1,Fs,0,0,"ng-template",15),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Gs(n,r){n&1&&P(0,"kendo-separator")}function Us(n,r){if(n&1){let e=T();v(0,"span",16),x("click",function(i){_(e);let s=u();return m(s.clearValue(i))})("mousedown",function(i){return _(e),m(i.preventDefault())}),P(1,"kendo-icon-wrapper",17),S()}if(n&2){let e=u();ee("visibility",e.clearButtonVisibility),y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function Vs(n,r){n&1&&P(0,"span",18)}function zs(n,r){n&1&&P(0,"kendo-separator")}function Ks(n,r){}function Bs(n,r){if(n&1&&(v(0,"span",19),h(1,Ks,0,0,"ng-template",15),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function Hs(n,r){n&1&&H(0)}function Ws(n,r){if(n&1&&h(0,Hs,1,0,"ng-container",20),n&2){u();let e=z(16);a("ngTemplateOutlet",e)}}function js(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",21),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}function Qs(n,r){}function $s(n,r){if(n&1&&h(0,Qs,0,0,"ng-template",24),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate.templateRef))}}function qs(n,r){}function Js(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function Xs(n,r){if(n&1&&(v(0,"div",25),h(1,qs,0,0,"ng-template",26)(2,Js,2,1,"ng-template",27),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function Zs(n,r){}function Ys(n,r){if(n&1&&h(0,Zs,0,0,"ng-template",24),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate.templateRef))}}function eo(n,r){if(n&1){let e=T();h(0,$s,1,3,null,7),v(1,"kendo-list",22,3),x("pageChange",function(i){_(e);let s=u();return m(s.pageChange(i))}),S(),h(3,Xs,3,5,"div",23)(4,Ys,1,3,null,7)}if(n&2){let e=u();a("ngIf",e.headerTemplate),d(),a("size",e.isAdaptive?"large":e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var to=["select"],Ft=n=>({mousedown:n});function io(n,r){}function no(n,r){if(n&1&&(v(0,"span",17),h(1,io,0,0,"ng-template",18),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function so(n,r){n&1&&P(0,"kendo-separator")}function oo(n,r){if(n&1){let e=T();v(0,"span",19),x("click",function(i){_(e);let s=u();return m(s.clearValue(i))}),P(1,"kendo-icon-wrapper",20),S()}if(n&2){let e=u();ee("visibility",e.clearButtonVisibility),a("kendoEventsOutsideAngular",R(5,Ft,e.preventEventDefault)),y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function ro(n,r){n&1&&P(0,"span",21)}function ao(n,r){n&1&&P(0,"kendo-separator")}function lo(n,r){}function uo(n,r){if(n&1&&(v(0,"span",22),h(1,lo,0,0,"ng-template",18),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function po(n,r){n&1&&H(0)}function co(n,r){if(n&1&&h(0,po,1,0,"ng-container",23),n&2){u();let e=z(19);a("ngTemplateOutlet",e)}}function ho(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",24),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}function _o(n,r){}function mo(n,r){if(n&1&&h(0,_o,0,0,"ng-template",27),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate.templateRef))}}function fo(n,r){}function go(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function vo(n,r){if(n&1&&(v(0,"div",28),h(1,fo,0,0,"ng-template",29)(2,go,2,1,"ng-template",30),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function So(n,r){}function Co(n,r){if(n&1&&h(0,So,0,0,"ng-template",27),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate.templateRef))}}function bo(n,r){if(n&1){let e=T();h(0,mo,1,3,null,8),v(1,"kendo-list",25,4),x("pageChange",function(i){_(e);let s=u();return m(s.pageChange(i))}),S(),h(3,vo,3,5,"div",26)(4,Co,1,3,null,8)}if(n&2){let e=u();a("ngIf",e.headerTemplate),d(),a("size",e.isAdaptive?"large":e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var Eo=["searchInput"];function Do(n,r){}function Ao(n,r){if(n&1&&h(0,Do,0,0,"ng-template",15),n&2){let e=u();a("templateContext",pe(1,ye,e.valueTemplate.templateRef,e.dataItem))}}function wo(n,r){if(n&1&&K(0),n&2){let e=u();te(e.getText())}}function xo(n,r){n&1&&P(0,"span",16)}function Oo(n,r){n&1&&H(0)}function No(n,r){if(n&1&&h(0,Oo,1,0,"ng-container",17),n&2){u();let e=z(15);a("ngTemplateOutlet",e)}}function Io(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",18),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}function To(n,r){if(n&1){let e=T();v(0,"div",21),x("click",function(i){return _(e),m(i.stopImmediatePropagation())}),v(1,"span",22),P(2,"kendo-icon-wrapper",23),v(3,"input",24,4),_t("ngModelChange",function(i){_(e);let s=u(2);return ht(s.filterText,i)||(s.filterText=i),m(i)}),x("keydown",function(i){_(e);let s=z(4),o=u(2);return m(o.keydown(i,s))})("input",function(i){_(e);let s=u(2);return m(s.handleFilter(i))})("focus",function(){_(e);let i=u(2);return m(i.onFilterFocus())})("blur",function(){_(e);let i=u(2);return m(i.blurFilterInput())})("click",function(){_(e);let i=u(2);return m(i.handleClick())}),S()()()}if(n&2){let e=u(2);d(),a("ngClass",e.filterInputClasses),d(),a("svgIcon",e.searchIcon),d(),a("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction),ct("ngModel",e.filterText),y("aria-controls",e.listBoxId)("aria-label",e.messageFor("filterInputLabel"))}}function Ro(n,r){}function ko(n,r){if(n&1&&h(0,Ro,0,0,"ng-template",15),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate.templateRef))}}function yo(n,r){}function Lo(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function Mo(n,r){if(n&1&&(v(0,"div",25),h(1,yo,0,0,"ng-template",26)(2,Lo,2,1,"ng-template",9),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function Fo(n,r){}function Po(n,r){if(n&1&&h(0,Fo,0,0,"ng-template",15),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate.templateRef))}}function Go(n,r){if(n&1){let e=T();h(0,To,5,7,"ng-template",9)(1,ko,1,3,null,8),v(2,"kendo-list",19,3),x("pageChange",function(i){_(e);let s=u();return m(s.pageChange(i))}),S(),h(4,Mo,3,5,"div",20)(5,Po,1,3,null,8)}if(n&2){let e=u();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.headerTemplate),d(),a("id",e.listBoxId)("size",e.isAdaptive?"large":e.size)("rounded",e.rounded)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("ariaLive",e.ariaLive)("showStickyHeader",e.showStickyHeader)("defaultItem",e.defaultItem),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var Uo=["*"],Vo=(n,r,e,t,i,s,o,l,f,D,w,M)=>({"k-focus":n,"k-disabled":r,"k-chip-sm":e,"k-chip-md":t,"k-chip-lg":i,"k-rounded-sm":s,"k-rounded-md":o,"k-rounded-lg":l,"k-rounded-full":f,"k-chip-solid k-chip-solid-base":D,"k-chip-flat k-chip-flat-base":w,"k-chip-outline k-chip-outline-base":M});function zo(n,r){}function Ko(n,r){n&1&&h(0,zo,0,0,"ng-template")}function Bo(n,r){}function Ho(n,r){if(n&1&&h(0,Bo,0,0,"ng-template",12),n&2){let e=u(2).$implicit,t=u();a("templateContext",pe(1,ye,t.groupTemplate.templateRef,e))}}function Wo(n,r){if(n&1&&K(0),n&2){let e=u(2).$implicit;Bi("",e.length," ",e.length===1?"item":"items"," selected")}}function jo(n,r){if(n&1&&(v(0,"span",9),h(1,Ho,1,4,null,10)(2,Wo,1,2,"ng-template",11),S()),n&2){let e=u(2);d(),a("ngIf",e.groupTemplate),d(),a("ngIf",!e.groupTemplate)}}function Qo(n,r){}function $o(n,r){if(n&1&&h(0,Qo,0,0,"ng-template",12),n&2){let e=u(2).$implicit,t=u();a("templateContext",pe(1,ye,t.template.templateRef,e))}}function qo(n,r){if(n&1&&K(0),n&2){let e=u(2),t=e.$implicit,i=e.index,s=u();te(s.tagProp(t,s.textField,i))}}function Jo(n,r){if(n&1&&(v(0,"span",9),h(1,$o,1,4,null,10)(2,qo,1,1,"ng-template",11),S()),n&2){let e=u(2);d(),a("ngIf",e.template),d(),a("ngIf",!e.template)}}function Xo(n,r){if(n&1){let e=T();v(0,"div",3)(1,"span",4),h(2,Ko,1,0,null,5)(3,jo,3,2,"ng-template",null,0,$)(5,Jo,3,2,"ng-template",null,1,$),S(),v(7,"span",6)(8,"span",7)(9,"kendo-icon-wrapper",8),x("mousedown",function(i){let s=_(e),o=s.$implicit,l=s.index,f=u();return m(f.deleteTag(i,o,l))}),S()()()()}if(n&2){let e=r.$implicit,t=r.index,i=z(4),s=z(6),o=u();a("ngClass",Wi(9,Vo,[t===o.focused,o.isTagDisabled(e,t),o.size==="small",o.size==="medium",o.size==="large",o.rounded==="small",o.rounded==="medium",o.rounded==="large",o.rounded==="full",o.fillMode==="solid",o.fillMode==="flat",o.fillMode==="outline"])),y("id",o.itemId(e,t))("aria-selected",!0)("role","option"),d(2),a("ngIf",o.isGroupTag(e))("ngIfThen",i)("ngIfElse",s),d(6),y("aria-hidden",t!==o.focused),d(),a("svgIcon",o.xCircleIcon)}}function Zo(n,r){}function Yo(n,r){if(n&1&&(v(0,"span",17),h(1,Zo,0,0,"ng-template",18),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function er(n,r){n&1&&P(0,"kendo-separator")}function tr(n,r){if(n&1){let e=T();v(0,"span",19),x("mousedown",function(i){_(e);let s=u();return m(s.clearAll(i))}),P(1,"kendo-icon-wrapper",20),S()}if(n&2){let e=u();ee("visibility",e.clearButtonVisibility),y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function ir(n,r){n&1&&P(0,"span",21)}function nr(n,r){n&1&&P(0,"kendo-separator")}function sr(n,r){}function or(n,r){if(n&1&&(v(0,"span",22),h(1,sr,0,0,"ng-template",18),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function rr(n,r){n&1&&H(0)}function ar(n,r){if(n&1&&h(0,rr,1,0,"ng-container",23),n&2){u();let e=z(19);a("ngTemplateOutlet",e)}}function lr(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",24),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}function dr(n,r){}function ur(n,r){if(n&1&&h(0,dr,0,0,"ng-template",27),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate.templateRef))}}function pr(n,r){}function cr(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function hr(n,r){if(n&1&&(v(0,"div",28),h(1,pr,0,0,"ng-template",29)(2,cr,2,1,"ng-template",30),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function _r(n,r){}function mr(n,r){if(n&1&&h(0,_r,0,0,"ng-template",27),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate.templateRef))}}function fr(n,r){if(n&1){let e=T();h(0,ur,1,3,null,8),v(1,"kendo-list",25,3),x("pageChange",function(i){_(e);let s=u();return m(s.pageChange(i))}),S(),h(3,hr,3,5,"div",26)(4,mr,1,3,null,8)}if(n&2){let e=u();a("ngIf",e.headerTemplate),d(),a("size",e.isAdaptive?"large":e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual)("checkboxes",e.checkboxes)("isMultiselect",!0)("isActionSheetExpanded",e.isActionSheetExpanded)("showStickyHeader",e.showStickyHeader)("customItemTemplate",e.customItemTemplate)("text",e.text)("allowCustom",e.allowCustom),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var gr=["header"],vr=["headerTable"],Sr=["columnHeader"],Cr=(n,r,e)=>({templateRef:n,$implicit:r,column:e}),br=(n,r,e,t)=>({templateRef:n,$implicit:r,dataItem:e,column:t});function Er(n,r){}function Dr(n,r){if(n&1&&(v(0,"span",22),h(1,Er,0,0,"ng-template",23),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Ar(n,r){n&1&&P(0,"kendo-separator")}function wr(n,r){if(n&1){let e=T();v(0,"span",24),x("click",function(i){_(e);let s=u();return m(s.clearValue(i))}),P(1,"kendo-icon-wrapper",25),S()}if(n&2){let e=u();ee("visibility",e.clearButtonVisibility),a("kendoEventsOutsideAngular",R(5,Ft,e.preventEventDefault)),y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function xr(n,r){n&1&&P(0,"span",26)}function Or(n,r){n&1&&P(0,"kendo-separator")}function Nr(n,r){}function Ir(n,r){if(n&1&&(v(0,"span",27),h(1,Nr,0,0,"ng-template",23),S()),n&2){let e=u();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function Tr(n,r){n&1&&H(0)}function Rr(n,r){if(n&1&&h(0,Tr,1,0,"ng-container",28),n&2){u();let e=z(19);a("ngTemplateOutlet",e)}}function kr(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",29),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}function yr(n,r){}function Lr(n,r){if(n&1&&h(0,yr,0,0,"ng-template",39),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function Mr(n,r){if(n&1&&P(0,"col"),n&2){let e=u().$implicit;ee("width",e.width,"px")}}function Fr(n,r){if(n&1&&(de(0),h(1,Mr,1,2,"col",40),ue()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function Pr(n,r){if(n&1&&(de(0),K(1),ue()),n&2){let e=u(2).$implicit;d(),qe(" ",e.title||e.field," ")}}function Gr(n,r){}function Ur(n,r){if(n&1&&h(0,Gr,0,0,"ng-template",39),n&2){let e=u(2).$implicit;a("templateContext",Kt(1,Cr,e.headerTemplate==null?null:e.headerTemplate.templateRef,e,e))}}function Vr(n,r){if(n&1&&(v(0,"th",42,9),h(2,Pr,2,1,"ng-container",13)(3,Ur,1,5,null,13),S()),n&2){let e=u().$implicit;a("ngStyle",e.headerStyle)("ngClass",e.headerClass),d(2),a("ngIf",!e.headerTemplate),d(),a("ngIf",e.headerTemplate)}}function zr(n,r){if(n&1&&(de(0),h(1,Vr,4,4,"th",41),ue()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function Kr(n,r){if(n&1&&(de(0),K(1),ue()),n&2){let e=u(2).$implicit,t=u().$implicit,i=u(2);d(),qe(" ",i.textFrom(t,e.field)," ")}}function Br(n,r){}function Hr(n,r){if(n&1&&h(0,Br,0,0,"ng-template",39),n&2){let e=u(2).$implicit,t=u().$implicit;a("templateContext",Hi(1,br,e.cellTemplate==null?null:e.cellTemplate.templateRef,t,t,e))}}function Wr(n,r){if(n&1&&(v(0,"span",44),h(1,Kr,2,1,"ng-container",13)(2,Hr,1,6,null,13),S()),n&2){let e=u(),t=e.$implicit,i=e.index,s=u(3);ee("width",s.getColumnWidth(i),"px")("max-width",s.getColumnWidth(i),"px"),a("ngClass",t.class)("ngStyle",t.style),d(),a("ngIf",!t.cellTemplate),d(),a("ngIf",t.cellTemplate)}}function jr(n,r){if(n&1&&(de(0),h(1,Wr,3,8,"span",43),ue()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function Qr(n,r){if(n&1&&h(0,jr,2,1,"ng-container",34),n&2){let e=u(2);a("ngForOf",e.columns)}}function $r(n,r){}function qr(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function Jr(n,r){if(n&1&&(v(0,"div",45),h(1,$r,0,0,"ng-template",46)(2,qr,2,1,"ng-template",47),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function Xr(n,r){}function Zr(n,r){if(n&1&&(de(0),v(1,"div",48)(2,"table",49)(3,"tfoot",50)(4,"tr",36)(5,"td",51),h(6,Xr,0,0,"ng-template",39),S()()()()(),ue()),n&2){let e=u(2);d(6),a("templateContext",R(1,j,e.footerTemplate.templateRef))}}function Yr(n,r){if(n&1){let e=T();h(0,Lr,1,3,null,13),v(1,"div",30)(2,"div",31,4)(4,"div",32,5)(6,"table",33,6)(8,"colgroup"),h(9,Fr,2,1,"ng-container",34),S(),v(10,"thead",35)(11,"tr",36),h(12,zr,2,1,"ng-container",34),S()()()()(),h(13,Qr,1,1,"ng-template",null,7,$),v(15,"kendo-list",37,8),x("pageChange",function(i){_(e);let s=u();return m(s.pageChange(i))})("listResize",function(){_(e);let i=z(3),s=u();return m(s.updateHeaderPadding(i))})("popupListScroll",function(i){_(e);let s=z(5);return m(s.scrollLeft=i.target.scrollLeft)}),S(),h(17,Jr,3,5,"div",38)(18,Zr,7,3,"ng-container",13),S()}if(n&2){let e=z(14),t=u();a("ngIf",t.headerTemplate),d(),a("ngClass",t.tableSizeClass),d(8),a("ngForOf",t.columns),d(3),a("ngForOf",t.columns),d(3),a("optionPrefix",t.optionPrefix)("data",t.data)("size",t.isAdaptive?"large":t.size)("textField",t.textField)("valueField",t.valueField)("template",R(21,j,e))("groupTemplate",t.groupTemplate)("fixedGroupTemplate",t.fixedGroupTemplate)("height",t.listHeight)("show",t.isOpen)("id",t.listBoxId)("virtual",t.virtual)("type","dropdowngrid")("rowWidth",t.rowWidth)("showStickyHeader",t.showStickyHeader),d(2),a("ngIf",t.data.length===0),d(),a("ngIf",t.footerTemplate)}}var Tn=["treeview"],Rn=["filterInput"],Ni=n=>({blur:n});function ea(n,r){}function ta(n,r){if(n&1&&h(0,ea,0,0,"ng-template",17),n&2){let e=u(2);a("templateContext",pe(1,ye,e.valueTemplate.templateRef,e.dataItem))}}function ia(n,r){if(n&1&&K(0),n&2){let e=u(2);qe(" ",e.text||e.placeholder," ")}}function na(n,r){if(n&1&&(v(0,"span",14),h(1,ta,1,4,null,15)(2,ia,1,1,"ng-template",16),S()),n&2){let e=u();d(),a("ngIf",e.valueTemplate),d(),a("ngIf",!e.valueTemplate)}}function sa(n,r){if(n&1){let e=T();v(0,"span",18),x("click",function(i){_(e);let s=u();return m(s.clearValue(i))}),P(1,"kendo-icon-wrapper",19),S()}if(n&2){let e=u();ee("visibility",e.clearButtonVisibility),y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function oa(n,r){n&1&&P(0,"span",20)}function ra(n,r){n&1&&H(0)}function aa(n,r){if(n&1&&h(0,ra,1,0,"ng-container",21),n&2){u();let e=z(13);a("ngTemplateOutlet",e)}}function la(n,r){if(n&1){let e=T();v(0,"span",25)(1,"span",26)(2,"span",27),P(3,"kendo-icon-wrapper",28),S(),v(4,"input",29,3),x("input",function(i){_(e);let s=u(2);return m(s.handleFilterInputChange(i.target))})("keydown.arrowdown",function(i){_(e);let s=z(5),o=u(2);return m(o.handleKeydown(i,s))})("keydown.alt.arrowup",function(i){_(e);let s=z(5),o=u(2);return m(o.handleKeydown(i,s))})("keydown.escape",function(i){_(e);let s=z(5),o=u(2);return m(o.handleKeydown(i,s))}),S()()()}if(n&2){let e=u(2);d(),a("ngClass",e.filterInputClasses),d(2),a("svgIcon",e.searchIcon),d(),a("filterInput",e.filterable&&!e.touchEnabled)("value",e.filter)("kendoEventsOutsideAngular",R(7,Ni,e.handleBlur))("scope",e),y("aria-label",e.messageFor("filterInputLabel"))}}function da(n,r){}function ua(n,r){if(n&1&&h(0,da,0,0,"ng-template",17),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function pa(n,r){if(n&1){let e=T();v(0,"kendo-treeview",30,4),_t("selectedKeysChange",function(i){_(e);let s=u(2);return ht(s.selectedKeys,i)||(s.selectedKeys=i),m(i)}),x("focusout",function(i){_(e);let s=u(2);return m(s.handleBlur(i))})("keydown",function(i){_(e);let s=u(2);return m(s.handleKeydown(i))})("selectionChange",function(i){_(e);let s=u(2);return m(s.onSelectionChange(i))})("expand",function(i){_(e);let s=u(2);return m(s.nodeExpand.emit(i))})("collapse",function(i){_(e);let s=u(2);return m(s.nodeCollapse.emit(i))})("childrenLoaded",function(){_(e);let i=u(2);return m(i.onChildrenLoaded())}),S()}if(n&2){let e=u(2);ee("max-height",e.listHeight,"px"),a("size",e.windowSize!=="large"?"large":e.size)("nodes",e.data)("animate",!1),ct("selectedKeys",e.selectedKeys),a("selectBy",e.selectBy)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("loadOnDemand",e.loadOnDemand)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("filter",e.filter)("isVisible",e.isNodeVisible),y("id",e.treeViewId)}}function ca(n,r){}function ha(n,r){if(n&1&&h(0,ca,0,0,"ng-template",17),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate==null?null:e.footerTemplate.templateRef))}}function _a(n,r){}function ma(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function fa(n,r){if(n&1&&(v(0,"div",31),h(1,_a,0,0,"ng-template",32)(2,ma,2,1,"ng-template",16),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function ga(n,r){if(n&1&&h(0,la,6,9,"span",22)(1,ua,1,3,null,15)(2,pa,2,17,"kendo-treeview",23)(3,ha,1,3,null,15)(4,fa,3,5,"div",24),n&2){let e=u();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.headerTemplate),d(),a("ngIf",e.data.length!==0&&!e.allNodesHidden),d(),a("ngIf",e.footerTemplate),d(),a("ngIf",e.data.length===0||e.allNodesHidden)}}function va(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",33),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}var Sa=["checkAllInput"],Ca=n=>({focusout:n});function ba(n,r){if(n&1&&(v(0,"span",14),K(1),S()),n&2){let e=u();d(),qe(" ",e.placeholder," ")}}function Ea(n,r){if(n&1){let e=T();v(0,"span",15),x("click",function(i){_(e);let s=u();return m(s.clearAll(i))}),P(1,"kendo-icon-wrapper",16),S()}if(n&2){let e=u();y("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function Da(n,r){n&1&&P(0,"span",17)}function Aa(n,r){n&1&&H(0)}function wa(n,r){if(n&1&&h(0,Aa,1,0,"ng-container",18),n&2){u();let e=z(12);a("ngTemplateOutlet",e)}}function xa(n,r){if(n&1){let e=T();v(0,"div",24)(1,"span",25)(2,"span",26),P(3,"kendo-icon-wrapper",27),S(),v(4,"input",28,4),x("input",function(i){_(e);let s=u(2);return m(s.handleFilterInputChange(i.target))})("keydown",function(i){_(e);let s=z(5),o=u(2);return m(o.handleKeydown(i,s))}),S()()()}if(n&2){let e=u(2);d(),a("ngClass",e.filterInputClasses),d(2),a("svgIcon",e.searchIcon),d(),a("filterInput",e.filterable&&!e.touchEnabled)("value",e.filter)("kendoEventsOutsideAngular",R(7,Ni,e.handleBlur))("scope",e),y("aria-label",e.messageFor("filterInputLabel"))}}function Oa(n,r){}function Na(n,r){if(n&1&&h(0,Oa,0,0,"ng-template",29),n&2){let e=u(2);a("templateContext",R(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function Ia(n,r){if(n&1){let e=T();v(0,"div",30)(1,"span",31)(2,"input",32,5),x("checkedItemsChange",function(i){_(e);let s=u(2);return m(s.handleCheckedItemsChange(i))})("keydown",function(i){_(e);let s=u(2);return m(s.handleKeydown(i))}),S()(),v(4,"span",33),x("click",function(){_(e);let i=u(2);return m(i.toggleCheckAll())})("mousedown",function(i){return _(e),m(i.preventDefault())}),K(5),S()()}if(n&2){u();let e=z(4),t=u();d(2),a("checkAll",!t.filterable&&!t.touchEnabled)("ngClass",t.checkAllCheckboxClasses)("treeview",e)("checkedItems",t.checkedItems)("valueField",t.valueField)("lastAction",t.lastAction)("kendoEventsOutsideAngular",R(9,Ni,t.handleBlur))("scope",t),d(3),qe(" ",t.messageFor("checkAllText")," ")}}function Ta(n,r){}function Ra(n,r){if(n&1&&h(0,Ta,0,0,"ng-template",29),n&2){let e=u(2);a("templateContext",R(1,j,e.footerTemplate==null?null:e.footerTemplate.templateRef))}}function ka(n,r){}function ya(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=u(3);d(),te(e.messageFor("noDataText"))}}function La(n,r){if(n&1&&(v(0,"div",34),h(1,ka,0,0,"ng-template",35)(2,ya,2,1,"ng-template",36),S()),n&2){let e=u(2);d(),a("ngIf",e.noDataTemplate)("templateContext",R(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function Ma(n,r){if(n&1){let e=T();h(0,xa,6,9,"div",19)(1,Na,1,3,null,20)(2,Ia,6,11,"div",21),v(3,"kendo-treeview",22,3),x("keydown",function(i){_(e);let s=u();return m(s.handleKeydown(i))})("nodeClick",function(i){_(e);let s=u();return m(s.handleNodeClick(i))})("expand",function(i){_(e);let s=u();return m(s.nodeExpand.emit(i))})("collapse",function(i){_(e);let s=u();return m(s.nodeCollapse.emit(i))})("checkedItemsChange",function(i){_(e);let s=u();return m(s.handleCheckedItemsChange(i))})("childrenLoaded",function(){_(e);let i=u();return m(i.onChildrenLoaded())}),S(),h(5,Ra,1,3,null,20)(6,La,3,5,"div",23)}if(n&2){let e=u();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.headerTemplate),d(),a("ngIf",e.checkAll),d(),ee("max-height",e.listHeight,"px"),a("size",e.windowSize!=="large"?"large":e.size)("nodes",e.data)("animate",!1)("isHeterogeneous",e.isHeterogeneous)("checkable",e.checkableSettings)("checkedItems",e.checkedItems)("valueField",e.valueField)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("loadOnDemand",e.loadOnDemand)("filter",e.filter)("isVisible",e.isNodeVisible)("kendoEventsOutsideAngular",R(26,Ca,e.handleBlur))("scope",e),y("id",e.treeViewId),d(2),a("ngIf",e.footerTemplate),d(),a("ngIf",!e.data||(e.data==null?null:e.data.length)===0||e.allNodesHidden)}}function Fa(n,r){if(n&1){let e=T();v(0,"kendo-resize-sensor",37),x("resize",function(){_(e);let i=u();return m(i.onResize())}),S()}}var oi={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1763638906,version:"21.1.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},p=n=>n!=null,Pa=n=>!isNaN(n),Ga=(n,r)=>n.concat(r.substr(r.toLowerCase().indexOf(n.toLowerCase())+n.length));var Y=n=>Array.isArray(n),ft=n=>p(n)&&typeof n=="object",fn=n=>typeof n=="string"&&n.length===0,Ua=(n,r=[],e)=>n.map(t=>r.find(i=>E(i,e)===t)).filter(t=>t!==void 0),Va=(n,r)=>Y(n)&&n.filter(e=>ft(e)&&E(e,r)!==void 0),za=(n,r,e)=>{let t=Va(n,e)||[];return(Ua(n,r,e)||[]).concat(t)},Yt=n=>Y(n)&&n.every(r=>ft(r)),Di=(n,r,e)=>{let t=r.map(i=>p(i)&&p(E(i,e))?E(i,e):i);return n.reduce((i,s)=>{let o=p(s)&&p(E(s,e))?E(s,e):s,l=t.indexOf(o);return l!==-1&&i.push(l),i},[])},E=(n,r)=>p(n)?!p(r)||!ft(n)?n:Et(r)(n):null;var Ka=(n,r)=>{for(let e=0;e<n.length;e++)if(n.charAt(e)!==r)return!1;return!0},Ba=(n,r,e)=>{let t=n;return e&&(t=[e].concat(t)),t.slice(r).concat(t.slice(0,r))},gn=(n,r,e)=>{if(!p(n))return!1;let t=String(n);return e&&(t=t.toLowerCase()),t.startsWith(r)};var kn=(n,r)=>p(n)?r.every(e=>n.hasOwnProperty(e)):!1,ze=n=>n.className.includes("ng-untouched"),gt=n=>{},Ha=(n,r)=>{let e=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return e?e.call(n,r):!1},Wa=(n,r)=>{let e=n;for(;e!==null&&e.nodeType===1;){if(Ha(e,r))return e;e=e.parentElement||e.parentNode}return null},ei=(n,r=0)=>{let e=Number(n);return isNaN(e)?r:e},Pt=(n,r,e)=>n.nativeElement.contains(r)||e&&e.popupElement.contains(r),wi=n=>(n||"").split("_").length-1,ri=(n,r)=>{if(!p(n)||n.children.length===0)return[];let e=n.children;return p(r)&&(e=e.filter(t=>r(t.item))),e.forEach(t=>e=e.concat(ri(t,r))),e},at=({dataItem:n,index:r,level:e},t)=>{let i=Array.isArray(t)?t:[t],s=p(e)?e:wi(r),o=Math.min(s,i.length-1),l=i[o];return Et(l)(n)},L=(n,r)=>({small:`k-${n}-sm`,medium:`k-${n}-md`,large:`k-${n}-lg`})[r],W=n=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"})[n],J=(n,r)=>({solid:`k-${n}-solid`,flat:`k-${n}-flat`,outline:`k-${n}-outline`})[r],ja=(n,r,e)=>n.reduce((t,i)=>r(i)?[...t,e(i)]:t,[]),Qa=n=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(n),yn=n=>/[a-zA-Z]/.test(n)&&n?.length===1;var At=(n,r)=>{let e=`kendo-treeview[id='${n}'] li.k-treeview-item`;return Array.from(r.querySelectorAll(e)).map(i=>({text:i.innerText,index:i.getAttribute("data-treeindex")}))},Ot=n=>!!n,lt=(n,r,e)=>{let t=n.wrapper.nativeElement.querySelector("kendo-list ul"),i=r.nativeElement.getAttribute("aria-labelledby")||r.nativeElement.getAttribute("data-kendo-label-id");i&&e.setAttribute(t,"aria-labelledby",i)},Nt=(n,r)=>{let e=n.nativeElement.getAttribute("aria-labelledby")||n.nativeElement.getAttribute("data-kendo-label-id");return!r&&e?document.getElementById(e).innerText:r},ut=300,vt=(()=>{class n{localization;injector;input;ngZone;direction;tagListId;set readonly(e){this._readonly=e,this._readonly?this.renderer.setAttribute(this.input.nativeElement,"readonly",""):this.renderer.removeAttribute(this.input.nativeElement,"readonly")}get readonly(){return this._readonly}set disabled(e){this._disabled=e,this._disabled?this.renderer.setAttribute(this.input.nativeElement,"disabled",""):this.renderer.removeAttribute(this.input.nativeElement,"disabled")}get disabled(){return this._disabled}set isRequired(e){this._isRequired=e,this._isRequired?this.renderer.setAttribute(this.input.nativeElement,"required",""):this.renderer.removeAttribute(this.input.nativeElement,"required")}get isRequired(){return this._isRequired}set isSuggestable(e){this._isSuggestable=e,this.setAriaAutocomplete()}get isSuggestable(){return this._isSuggestable}set isFilterable(e){this._isFilterable=e,this.setAriaAutocomplete()}get isFilterable(){return this._isFilterable}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get formControl(){return this.injector.get(Ye,null)?.control||null}suggestedText;set inputAttributes(e){tn(this.parsedAttributes)&&sn(this.parsedAttributes,this.renderer,this.input.nativeElement),this._inputAttributes=e,this.parsedAttributes=this.inputAttributes?on(this.inputAttributes,this.defaultAttributes):this.inputAttributes,this.setInputAttributes()}get inputAttributes(){return this._inputAttributes}id;activeDescendant;tabIndex;isLoading;ariaControls;ariaExpanded=null;get attrAriaInvalid(){return this.formControl?.invalid?!0:null}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}role="combobox";get dir(){return this.direction}valueChange=new g;onBlur=new g;onFocus=new g;onClick=new g;onNavigate=new g;get value(){return this.input.nativeElement.value}_isRequired;_readonly;_disabled;_userInput="";_previousValue="";_placeholder="";_isSuggestable=!1;_isFilterable=!1;renderer;subs=new we;_inputAttributes;parsedAttributes={};get defaultAttributes(){return{id:this.id,disabled:this.disabled?"":null,readonly:this.readonly?"":null,placeholder:this.placeholder,tabIndex:this.tabIndex,tabindex:this.tabIndex,dir:this.direction,required:this.isRequired?"":null,"aria-haspopup":"listbox","aria-expanded":this.ariaExpanded,"aria-controls":this.ariaControls,"aria-activedescendant":this.activeDescendant,"aria-busy":this.isLoading,"aria-invalid":this.formControl?.invalid}}get mutableAttributes(){return{autocomplete:"off",role:this.role,"aria-describedby":this.tagListId}}constructor(e,t,i,s,o){this.localization=e,this.injector=i,this.input=s,this.ngZone=o,this.direction=e.rtl?"rtl":"ltr",this.renderer=t,this.renderer.addClass(this.input.nativeElement,"k-input-inner"),this.renderer.setAttribute(this.input.nativeElement,"aria-haspopup","listbox"),this.renderer.setAttribute(this.input.nativeElement,"autocomplete","off")}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"))}ngOnChanges(e){if(!U())return;let t;if(this.input&&(e.userInput||e.suggestedText)){e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?t=this._previousValue:t=e.userInput.currentValue||"":t=this._previousValue;let i=this.input.nativeElement.selectionStart,s=t.length===i;this.writeInputValue(this.suggestedText?Ga(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):jt(navigator.userAgent)&&!s?this.setInputSelection(i,this.userInput.length):s?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(i,i),this._previousValue=this.userInput}}ngAfterViewInit(){this.subs.add(this.renderer.listen(this.input.nativeElement,"input",e=>this.handleInput(e))),this.subs.add(this.renderer.listen(this.input.nativeElement,"focus",e=>this.handleFocus(e))),this.subs.add(this.renderer.listen(this.input.nativeElement,"blur",e=>this.handleBlur(e))),this.subs.add(this.ngZone.runOutsideAngular(()=>this.renderer.listen(this.input.nativeElement,"keydown",e=>this.handleKeydown(e))))}ngOnDestroy(){this.subs.unsubscribe()}writeInputValue(e){U()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(U()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch{}}setAriaAutocomplete(){this.isFilterable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","list"),this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","inline"),this.isFilterable&&this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","both"),!this.isFilterable&&!this.isSuggestable&&this.renderer.removeAttribute(this.input.nativeElement,"aria-autocomplete")}handleInput(e){let t=e.target,s=jt(navigator.userAgent)&&Qa(t.value)?e.data:t.value;s!==this.userInput&&(this._previousValue=s,this.valueChange.emit(s))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){let t=Ie(e);[O.ArrowUp,O.ArrowDown,O.ArrowLeft,O.ArrowRight,O.Enter,O.Escape,O.Delete,O.Backspace,O.Home,O.End,O.PageDown,O.PageUp].indexOf(t)>-1&&this.ngZone.run(()=>{this.onNavigate.emit(e)})}focus(){U()&&this.input.nativeElement.focus()}blur(){U()&&this.input.nativeElement.blur()}setInputSize(){let e=l=>l?l.length:0,t=this.input.nativeElement,i=e(this.placeholder),s=e(this.value),o=Math.max(i,s,1);this.renderer.setAttribute(t,"size",o.toString())}setInputAttributes(){let e=Object.assign({},this.mutableAttributes,this.parsedAttributes);nn(e,this.renderer,this.input.nativeElement,this.ngZone)}static \u0275fac=function(t){return new(t||n)(c(Q),c(ge),c(Le),c(Z),c(fe))};static \u0275cmp=le({type:n,selectors:[["input","kendoSearchbar",""]],hostVars:10,hostBindings:function(t,i){t&2&&y("id",i.id)("aria-activedescendant",i.activeDescendant)("tabindex",i.tabIndex)("aria-busy",i.isLoading)("aria-controls",i.ariaControls)("aria-expanded",i.ariaExpanded)("aria-invalid",i.attrAriaInvalid)("placeholder",i.placeholder)("role",i.role)("dir",i.dir)},inputs:{tagListId:"tagListId",readonly:"readonly",disabled:"disabled",isRequired:"isRequired",isSuggestable:"isSuggestable",isFilterable:"isFilterable",userInput:"userInput",suggestedText:"suggestedText",inputAttributes:"inputAttributes",id:"id",activeDescendant:"activeDescendant",tabIndex:"tabIndex",isLoading:"isLoading",ariaControls:"ariaControls",ariaExpanded:"ariaExpanded",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[q],attrs:Wn,decls:0,vars:0,template:function(t,i){},encapsulation:2})}return n})(),Be=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]})}return n})(),be=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]]})}return n})(),Ee=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]]})}return n})(),He=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]})}return n})(),We=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]})}return n})(),ce=(()=>{class n{grouped=!1;groupIndices=[];view;_data;_flatData;set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return!p(this.data)||this.data.length===0?0:(this.grouped?this._flatData.filter(t=>!t.header):this.data).length}isGrouped(e){return p(e)&&e.length!==0&&p(e[0])&&kn(e[0],["aggregates","field","items","value"])}getGroupIndices(e){let t=[];for(let i=0;i<=e.length-1;i++)t[i]=(t[i-1]||0)+e[i].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let i=0;i<=this.groupIndices.length-1;i++){let s=this.data[i].items.filter(e);s&&(t=t.concat(s))}else t=this.data.filter(e);return t}indexOf(e,t=0){let i=s=>s===e;return this.grouped&&(i=s=>s.value===e),this.findIndex(i,t)}findIndex(e,t=0){let i=-1;if(this.grouped){let s=this._flatData.filter(o=>!o.header&&o.offsetIndex>=t);i=s.findIndex(e),i=s[i]?s[i].offsetIndex:-1}else{let o=this.data.slice(t).findIndex(e);i=o!==-1?o+t:-1}return i}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){let t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(this.itemsCount===0)return-1;if(this.grouped){let t=this._flatData.find(i=>!i.header&&i.offsetIndex===e);if(t)return t.index}else return e;return-1}itemAt(e){let t;if(this.itemsCount===0)return t;if(this.grouped){let i=this._flatData.find(s=>!s.header&&s.offsetIndex===e);i&&(t=i.value)}else t=this.data[e];return t}groupAt(e){if(!(this.itemsCount===0||!this.isGrouped))return this._flatData.find(t=>t.header&&t.index===e)}groupItemsIndices(){return this.isGrouped?ja(this.data,e=>e.header,e=>e.index):[]}groupField(){return this.itemsCount===0||!this.isGrouped?null:this._data[0].field}itemGroup(e){if(!e||this.itemsCount===0||!this.isGrouped)return;let t=this.groupField();if(t)return E(e,t)}flatten(e,t=void 0,i=0,s=0){let o=[];p(t)&&o.push({header:!0,groupIndex:s,index:s+i,offsetIndex:s,value:t});for(let l=0;l<e.length;l++){let f=[];e[l].items?(f=this.flatten(e[l].items,e[l].value,i,l),i=i+e[l].items.length):f.push({header:!1,groupIndex:s,index:s+i+l+1,offsetIndex:i+l,value:e[l]}),o=o.concat(f)}return o}static \u0275fac=function(t){return new(t||n)};static \u0275prov=bt({token:n,factory:n.\u0275fac})}return n})(),se=(()=>{class n{dataService;defaultItem;itemDisabled=null;constructor(e){this.dataService=e}isIndexDisabled(e){if(this.itemDisabled){let t=this.dataService.itemAt(e);if(p(t))return this.itemDisabled({dataItem:t,index:e});if(p(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){let t=this.dataService.indexOf(e);if(t!==-1)return this.itemDisabled({dataItem:e,index:t});if(p(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}static \u0275fac=function(t){return new(t||n)(Rt(ce))};static \u0275prov=bt({token:n,factory:n.\u0275fac})}return n})(),oe=(()=>{class n{disabledItemsService;onSelect=new g;onChange=new g;onFocus=new g;total=0;lastClickedIndex;selectedIndices=[];focusedIndex;constructor(e){this.disabledItemsService=e}getTotal(){return this.total}isSelected(e){return p(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:p(e)}))}add(e,t){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice(),preventClosingPopup:t}))}indicesToBeRemoved=[];indicesToBeAdded=[];emitMultipleAddedRemoved(){this.onChange.emit({added:this.indicesToBeAdded,removed:this.indicesToBeRemoved,indices:this.selectedIndices.slice(),preventClosingPopup:!0,isMultipleSelection:!0}),this.indicesToBeAdded=[],this.indicesToBeRemoved=[]}addMultiple(e){this.indicesToBeAdded=e.slice(),this.selectedIndices.push(...e)}deselect(e,t){if(!this.isSelected(e))return;let i=this.selectedIndices.indexOf(e);this.selectedIndices.splice(i,1),this.focused=e,this.selected.length===0&&(this.lastClickedIndex=null),this.onChange.emit({indices:this.selectedIndices.slice(),removed:e,preventClosingPopup:t})}unselectMultiple(e){e.forEach(t=>{let i=this.selectedIndices.indexOf(t);this.selectedIndices.splice(i,1)}),this.indicesToBeRemoved=e.slice()}change(e){let t=p(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}selectFromTo(e,t){let i=[];for(let s=e;s<=t;s++)!this.isSelected(s)&&!this.disabledItemsService.isIndexDisabled(s)&&i.push(s);this.addMultiple(i)}unselectFromTo(e,t){let i=[];for(let s=e;s>=t;s--)this.isSelected(s)&&!this.disabledItemsService.isIndexDisabled(s)&&i.push(s);this.unselectMultiple(i)}unselectNotNeededIndices(e,t,i){let s=[];for(let o=0;o<e;o++)this.isSelected(o)&&s.push(o);for(let o=t+1;o<i;o++)this.isSelected(o)&&s.push(o);this.unselectMultiple(s)}static \u0275fac=function(t){return new(t||n)(Rt(se))};static \u0275prov=bt({token:n,factory:n.\u0275fac})}return n})(),A=(function(n){return n[n.Undefined=0]="Undefined",n[n.Open=1]="Open",n[n.Close=2]="Close",n[n.Enter=3]="Enter",n[n.Tab=4]="Tab",n[n.Esc=5]="Esc",n[n.Delete=6]="Delete",n[n.Backspace=7]="Backspace",n[n.Home=8]="Home",n[n.End=9]="End",n[n.Up=10]="Up",n[n.Down=11]="Down",n[n.Left=12]="Left",n[n.Right=13]="Right",n[n.PageDown=14]="PageDown",n[n.PageUp=15]="PageUp",n[n.SelectPrevious=16]="SelectPrevious",n[n.SelectNext=17]="SelectNext",n[n.SelectAll=18]="SelectAll",n[n.SelectAllToBeginning=19]="SelectAllToBeginning",n[n.SelectAllToEnd=20]="SelectAllToEnd",n})(A||{}),vn=0,ti=class{index;originalEvent;constructor(r,e){this.index=r,this.originalEvent=e}},he=(()=>{class n{disabledItemsService;selectionService;open=new g;close=new g;enter=new g;tab=new g;esc=new g;up=new g;right=new g;down=new g;left=new g;delete=new g;backspace=new g;home=new g;end=new g;pagedown=new g;pageup=new g;selectnext=new g;selectprevious=new g;selectall=new g;selectalltobeginning=new g;selectalltoend=new g;constructor(e,t){this.disabledItemsService=e,this.selectionService=t}process(e){let t=Ie(e.originalEvent),i=e.originalEvent.altKey,s=e.originalEvent.shiftKey,o=e.originalEvent.ctrlKey||e.originalEvent.metaKey,l=e.openOnSpace,f=e.closeOnSpace,D,w=A.Undefined;i&&t===O.ArrowDown||l&&t===O.Space?w=A.Open:i&&t===O.ArrowUp||f&&t===O.Space?w=A.Close:s&&t===O.ArrowUp?w=A.SelectPrevious:s&&t===O.ArrowDown?w=A.SelectNext:o&&t===O.KeyA?w=A.SelectAll:o&&s&&t===O.Home?w=A.SelectAllToBeginning:o&&s&&t===O.End?w=A.SelectAllToEnd:t===O.Enter?w=A.Enter:t===O.Escape?w=A.Esc:t===O.Tab?w=A.Tab:t===O.ArrowUp?(D=this.next({current:e.current,start:e.min,end:e.max,step:-1}),w=A.Up):t===O.ArrowLeft?(D=this.next({current:e.current,start:e.min,end:e.max,step:-1}),w=A.Left):t===O.ArrowDown?(D=this.next({current:e.current,start:e.min,end:e.max,step:1}),w=A.Down):t===O.ArrowRight?(D=this.next({current:e.current,start:e.min,end:e.max,step:1}),w=A.Right):t===O.Home?(D=this.isDisabled(vn)?e.current:vn,w=A.Home):t===O.End?(D=this.isDisabled(e.max)?e.current:e.max,w=A.End):t===O.Delete?w=A.Delete:t===O.Backspace?w=A.Backspace:t===O.PageDown?w=A.PageDown:t===O.PageUp&&(w=A.PageUp);let M=new ti(D,e.originalEvent);return w!==A.Undefined&&this[A[w].toLowerCase()].emit(M),w}next(e){let{current:t,start:i,end:s,step:o}=e,l=p(t)?this.clampIndex(t+o,i,s):i,f=this.firstFocusableIndex(l,i,s,o);if(p(f))return f;if(this.selectionService.isSelected(t)&&t>=i)return t;let D=-1*o;return this.firstFocusableIndex(l,i,s,D)}clampIndex(e,t,i){return!p(e)||e<t?t:e>i?i:e}firstFocusableIndex(e,t,i,s){for(;t<=e&&e<=i;){if(!this.isDisabled(e))return e;e+=s}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}static \u0275fac=function(t){return new(t||n)(Rt(se),Rt(oe))};static \u0275prov=bt({token:n,factory:n.\u0275fac})}return n})(),De=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]]})}return n})(),Ke=class{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}},dt=class{data;filterable;filterChange;textField;valueField},Sn=(()=>{class n{element;constructor(e){this.element=e}static \u0275fac=function(t){return new(t||n)(c(Z))};static \u0275dir=F({type:n,selectors:[["li","role","option"],["li","role","group"],["li","role","presentation"]]})}return n})(),$a=(()=>{class n{index;checkboxes={enabled:!1};height;isMultiselect;multipleSelection=!1;selectionService;constructor(e){this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.selectionService.lastClickedIndex=this.index,!(this.checkboxes.enabled&&!this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.deselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}static \u0275fac=function(t){return new(t||n)(c(oe))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(t,i){t&1&&x("click",function(o){return i.onClick(o)}),t&2&&(y("index",i.index),ee("height",i.height,"px")("min-height",i.height,"px"),xe("k-focus",i.focusedClassName)("k-selected",i.selectedClassName))},inputs:{index:"index",checkboxes:"checkboxes",height:"height",isMultiselect:"isMultiselect",multipleSelection:"multipleSelection"}})}return n})(),Ln=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]})}return n})(),Gt=(()=>{class n{dataService;wrapper;selectionService;disabledItemsService;cdr;zone;renderer;localization;selected=[];focused=-1;textField;valueField;height;template;groupTemplate;fixedGroupTemplate;show=!0;id;optionPrefix;multipleSelection=!1;virtual;type="list";checkboxes={enabled:!1};ariaLive;isMultiselect;isActionSheetExpanded;showStickyHeader;rowWidth;customItemTemplate;text;allowCustom;defaultItem;set data(e){if(this._data=e[0]?.header?e.slice(0):e,this.dataService.grouped){if(this.virtual){let t=this.dataService.data.find(i=>i.header&&i.groupIndex===this.data[0].groupIndex);this.data[0].header||(this._data=[t,...this._data.slice(1)])}this.groupedData=this._data.filter(t=>t?.header),this.groupedData.forEach(t=>{t.items=this._data.filter(i=>!i.header&&i.groupIndex===t.groupIndex)})}}get data(){return this._data}set size(e){this.type==="list"&&(this.renderer.removeClass(this.wrapper.nativeElement,L("list",this.size)),e&&this.renderer.addClass(this.wrapper.nativeElement,L("list",e)),this._size=e)}get size(){return this._size}groupedData;rounded="medium";onClick=new g;pageChange=new g;listResize=new g;popupListScroll=new g;items;content;list;virtualContainer;currentGroup;startFrom=0;lastLoaded=0;lastScrollTop=0;listContentClass;listClass;listItemClass;listVirtualClass;listGroupStickyHeaderClass;listGroupStickyHeaderTextClass;listGroupItemClass;listGroupItemTextClass;scrollToFocused=!1;_data;scrollSubscription;selectSubscription;_size="medium";get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return this.virtual.total*this.virtual.itemHeight}get overflowY(){if(p(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}get useCustomValueText(){let e=this.localization.get("useCustomValueText");return an(e,"customValue",this.text)}get checkboxClasses(){return`${this.size?L("checkbox",this.size):""} ${this.rounded?W(this.rounded):""}`}constructor(e,t,i,s,o,l,f,D){this.dataService=e,this.wrapper=t,this.selectionService=i,this.disabledItemsService=s,this.cdr=o,this.zone=l,this.renderer=f,this.localization=D,this.selectSubscription=re(this.selectionService.onSelect.pipe(me(w=>w.indices[0])),this.selectionService.onFocus).pipe(Li(w=>this.zone.onStable.pipe($e(1),me(()=>w)))).subscribe(this.scrollToItem.bind(this)),this.prepareClasses()}ngOnChanges(e){Ae("data",e,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange()),this.setOverflow()),Ae("virtual",e,!1)&&this.setOverflow(),Ae("type",e,!1)&&this.prepareClasses()}ngAfterViewInit(){this.setComponentClasses(),this.zone.runOutsideAngular(()=>{this.scrollSubscription=ki(this.content.nativeElement,"scroll").pipe(yi(100),ne(this.prefetchData.bind(this)),ne(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setOverflow()}ngAfterViewChecked(){if(this.virtual&&this.positionItems(),this.items&&this.scrollToFocused){this.scrollToFocused=!1;let e=this.items.length&&this.selectionService.focused===-1?0:this.selectionService.focused;this.scrollToItem(e)}this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(e,t){let i=e.target.checked;i&&!this.selectionService.isSelected(t)&&this.selectionService.add(t),!i&&this.selectionService.isSelected(t)&&this.selectionService.deselect(t)}prepareClasses(){this.type==="list"?(this.listContentClass="k-list-content",this.listClass="k-list-ul",this.listItemClass="k-list-item",this.listVirtualClass="k-virtual-list",this.listGroupStickyHeaderClass="k-list-group-sticky-header",this.listGroupStickyHeaderTextClass="k-list-header-text",this.listGroupItemClass="k-list-group-item",this.listGroupItemTextClass="k-list-item-text"):(this.listContentClass="k-table-body k-table-scroller",this.listClass="k-table k-table-list",this.listItemClass="k-table-row",this.listVirtualClass="k-virtual-table",this.listGroupStickyHeaderClass="k-table-group-sticky-header",this.listGroupStickyHeaderTextClass="k-table-th",this.listGroupItemClass="k-table-group-row",this.listGroupItemTextClass="k-table-th")}isChecked(e){let t=this.virtual?e+this.virtual.skip:e;return this.selectionService.isSelected(t)}firstVisibleItem(){let e=this.content.nativeElement,t=e.getBoundingClientRect(),i=Array.prototype.slice.call(e.querySelectorAll(".k-disabled"));i.forEach(o=>this.renderer.setStyle(o,"pointer-events","auto"));let s=document.elementFromPoint(t.left+1,t.top+1);return i.forEach(o=>this.renderer.setStyle(o,"pointer-events","none")),Wa(s,"li")}findCurrentGroup(){if(!this.dataService.grouped){this.currentGroup=void 0;return}let e=this.firstVisibleItem();if(e){let t;e.getAttribute("role")==="presentation"?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t)?.value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;let e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,i=Math.trunc(t/this.virtual.itemHeight),s=t>this.lastScrollTop,o=i+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1,l=this.pageSize-(this.lastLoaded-this.startFrom),f=this.lastLoaded-this.pageSize+e>=i-l;s&&o&&this.changePage(i),!s&&f&&this.changePage(i-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return E(e,this.textField)}getValue(e){return E(e,this.valueField)}generateGroupId(e){return`${this.optionPrefix}-${e.groupIndex}-${e.value.toString().split(" ").join("")}`}isDisabled(e){return p(this.virtual)&&!this.dataService.grouped&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}isAltRow(e){return this.type==="dropdowngrid"&&e%2!==0}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e)),this.virtual&&t>-1){this.scrollToIndex(t);return}let i=this.items.toArray();p(i[t])&&t!==-1&&this.scroll(i[t].element)}scrollWithOnePage(e){let t=this.content.nativeElement,i=t.clientHeight;e===A.PageDown?t.scrollTop+=i:e===A.PageUp&&(t.scrollTop-=i)}scrollToIndex(e){let t=this.content.nativeElement,i=t.scrollTop,s=e*this.virtual.itemHeight,o=this.virtual.itemHeight,l=t.clientHeight,f=s+o;i>s?i=s:f>i+l&&(i=f-l),t.scrollTop=i}scroll(e){if(!e)return;let t=e.nativeElement,i=this.content.nativeElement,s=t.offsetTop,o=t.offsetHeight,l=i.scrollTop,f=i.clientHeight,D=s+o;l>s?l=s:D>l+f&&(l=D-f),i.scrollTop=l}hasScrollbar(){return p(this.items)&&this.items.length&&p(this.list)&&p(this.content)?p(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight:!1}isItemSelected(e){return this.selectionService.isSelected(e)||null}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getDefaultItemText(){return E(this.defaultItem,this.textField)}setOverflow(){if(this.virtual){let e=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",e)}}hasVirtualScrollbar(){let e=this.content.nativeElement.offsetHeight,t=this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight;return this.virtualContainer&&t>e}positionItems(){this.items.forEach((e,t)=>{let i=(t+this.startFrom)*this.virtual.itemHeight;this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${i}px`)})}setComponentClasses(){this.type==="list"&&(this.renderer.addClass(this.wrapper.nativeElement,"k-list"),this.size&&this.renderer.addClass(this.wrapper.nativeElement,L("list",this.size))),this.type==="dropdowngrid"&&this.renderer.setStyle(this.wrapper.nativeElement,"overflow-y","scroll"),p(this.virtual)&&this.renderer.addClass(this.wrapper.nativeElement,this.listVirtualClass)}static \u0275fac=function(t){return new(t||n)(c(ce),c(Z),c(oe),c(se),c(Oe),c(fe),c(ge),c(Q))};static \u0275cmp=le({type:n,selectors:[["kendo-list"]],viewQuery:function(t,i){if(t&1&&(I(jn,7),I(Qn,5),I($n,5),I(Sn,5)),t&2){let s;C(s=b())&&(i.content=s.first),C(s=b())&&(i.list=s.first),C(s=b())&&(i.virtualContainer=s.first),C(s=b())&&(i.items=s)}},inputs:{selected:"selected",focused:"focused",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",show:"show",id:"id",optionPrefix:"optionPrefix",multipleSelection:"multipleSelection",virtual:"virtual",type:"type",checkboxes:"checkboxes",ariaLive:"ariaLive",isMultiselect:"isMultiselect",isActionSheetExpanded:"isActionSheetExpanded",showStickyHeader:"showStickyHeader",rowWidth:"rowWidth",customItemTemplate:"customItemTemplate",text:"text",allowCustom:"allowCustom",defaultItem:"defaultItem",data:"data",size:"size",rounded:"rounded"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize",popupListScroll:"popupListScroll"},features:[q],decls:9,vars:16,consts:[["content",""],["default_custom_item_template",""],["list",""],["groupUl",""],["virtualContainer",""],["class","k-list-optionlabel","kendoDropDownsSelectable","",3,"ngClass","index",4,"ngIf"],["kendoDropDownsSelectable","","class","k-list-custom-value",3,"multipleSelection","index",4,"ngIf"],[3,"class","ngStyle",4,"ngIf"],["unselectable","on",3,"scroll"],[3,"class",4,"ngIf"],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[3,"templateContext"],["kendoDropDownsSelectable","",1,"k-list-custom-value",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],[3,"ngStyle"],[3,"ngIf"],[4,"ngFor","ngForOf"],[3,"resize",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"checkboxes","height","index","multipleSelection","ngClass"],["type","checkbox","class","k-checkbox","role","presentation","tabindex","-1",3,"ngClass","checked","change",4,"ngIf"],["type","checkbox","role","presentation","tabindex","-1",1,"k-checkbox",3,"change","ngClass","checked"],[1,"k-list-item-text"],[3,"resize"],["class","k-list-ul",4,"ngFor","ngForOf"],[1,"k-list-ul"],["role","presentation",3,"class","k-table-alt-row","ngStyle","width",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","class","ngClass","width",4,"ngFor","ngForOf"],["role","presentation",3,"ngStyle"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","ngClass"],["role","presentation",1,"k-height-container"]],template:function(t,i){if(t&1){let s=T();h(0,qn,2,5,"div",5)(1,Xn,2,8,"div",5)(2,ts,4,4,"div",6)(3,os,3,9,"div",7),v(4,"div",8,0),x("scroll",function(l){return _(s),m(i.popupListScroll.emit(l))}),h(6,cs,4,9,"ul",9)(7,Ds,3,1,"ng-container",10)(8,As,4,2,"div",11),S()}t&2&&(a("ngIf",i.defaultItem&&!i.template),d(),a("ngIf",i.defaultItem&&i.template),d(),a("ngIf",i.allowCustom&&i.text),d(),a("ngIf",i.dataService.grouped&&i.showStickyHeader),d(),Me(i.listContentClass),ee("max-height",i.height,"px"),y("role",i.dataService.grouped?"listbox":null)("id",i.dataService.grouped?i.id:null)("aria-live",i.dataService.grouped?i.ariaLive:null)("aria-multiselectable",i.dataService.grouped?i.isMultiselect:null)("aria-hidden",i.dataService.grouped?!i.show:null),d(2),a("ngIf",!i.dataService.grouped),d(),a("ngIf",i.dataService.grouped),d(),a("ngIf",i.virtual))},dependencies:[Ne,vi,Re,Bt,Sn,$a,Xe,Pe],encapsulation:2})}return n})(),Cn={pageSize:50,itemHeight:28},ai=(n,r)=>{let e=Object.assign({},Cn,r);return n===!0?e:n?It({pageSize:Cn.pageSize},n):null},Ce=(()=>{class n{localization;adaptiveService;title;subtitle;showTextInput;sharedPopupActionSheetTemplate;text;placeholder;searchBarValue;filterable;closePopup=new g;textInputChange=new g;navigate=new g;onExpand=new g;actionSheet;actionSheetSearchBar;constructor(e,t){this.localization=e,this.adaptiveService=t}animationDuration=ut;checkIcon=Zi;expanded=!1;messageFor(e){return this.localization.get(e)}onValueChange(e){this.searchBarValue=e,this.textInputChange.emit(e)}onOverlayClick(){this.expanded&&this.handleClose()}handleExpand(){this.onExpand.emit(),this.expanded=!0}handleClose(){this.closePopup.emit(),this.expanded=!1}get windowSize(){return this.adaptiveService.size}static \u0275fac=function(t){return new(t||n)(c(Q),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-adaptive-renderer"]],viewQuery:function(t,i){if(t&1&&(I(Ci,5),I(ws,5)),t&2){let s;C(s=b())&&(i.actionSheet=s.first),C(s=b())&&(i.actionSheetSearchBar=s.first)}},inputs:{title:"title",subtitle:"subtitle",showTextInput:"showTextInput",sharedPopupActionSheetTemplate:"sharedPopupActionSheetTemplate",text:"text",placeholder:"placeholder",searchBarValue:"searchBarValue",filterable:"filterable"},outputs:{closePopup:"closePopup",textInputChange:"textInputChange",navigate:"navigate",onExpand:"onExpand"},decls:3,vars:11,consts:[["actionSheet",""],["actionSheetSearchBar",""],[3,"overlayClick","keydown","expand","collapse","animation","initialFocus","cssClass","cssStyle"],["kendoActionSheetTemplate",""],[1,"k-text-center","k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group"],[1,"k-actionsheet-title"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-actionsheet-actions"],["kendoButton","","icon","check","type","button","fillMode","flat","themeColor","primary","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],["class","k-actionsheet-titlebar-group k-actionsheet-filter",4,"ngIf"],[1,"k-actionsheet-content"],[1,"k-list-container"],[4,"ngTemplateOutlet"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-titlebar-group","k-actionsheet-filter"],["size","large","autocomplete","off",1,"k-searchbox",3,"valueChange","value","placeholder"],[4,"ngIf"],["kendoTextBoxPrefixTemplate",""],["name","search"]],template:function(t,i){if(t&1){let s=T();v(0,"kendo-actionsheet",2,0),x("overlayClick",function(){return _(s),m(i.onOverlayClick())})("keydown",function(l){return _(s),m(i.navigate.emit(l))})("expand",function(){return _(s),m(i.handleExpand())})("collapse",function(){return _(s),m(i.closePopup.emit())}),h(2,Ms,11,7,"ng-template",3),S()}t&2&&a("animation",R(4,xs,i.animationDuration))("initialFocus",!1)("cssClass",pe(6,Os,i.windowSize==="small",i.windowSize==="medium"))("cssStyle",R(9,Ns,i.windowSize==="small"?"100vh":"60vh"))},dependencies:[Ci,pn,un,Ne,hn,cn,dn,Fe],encapsulation:2})}return n})(),li=(()=>{class n{ngZone;renderer;cdr;hostElement;clearButtonClicked;isFocused;isFocusedChange=new g;onFocus=new g;handleBlur=new g;subscriptions=new we;constructor(e,t,i){this.ngZone=e,this.renderer=t,this.cdr=i}ngAfterViewInit(){let e=this.hostElement.nativeElement,t=!1,i=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",s=>{this.isFocused&&(i?(rn(s.relatedTarget,l=>l===e)||this.handleBlur.emit(),i=!1):t||this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{t=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{t=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",s=>{s.code===O.Tab?i=!0:i=!1}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(t){return new(t||n)(c(fe),c(ge),c(Oe))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}})}return n})(),ii=(()=>{class n extends ln{noDataText;clearTitle;checkAllText;selectButtonText;filterInputLabel;popupLabel;adaptiveCloseButtonTitle;filterInputPlaceholder;useCustomValueText;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Pi(n)))(i||n)}})();static \u0275dir=F({type:n,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText",selectButtonText:"selectButtonText",filterInputLabel:"filterInputLabel",popupLabel:"popupLabel",adaptiveCloseButtonTitle:"adaptiveCloseButtonTitle",filterInputPlaceholder:"filterInputPlaceholder",useCustomValueText:"useCustomValueText"},standalone:!1,features:[ve]})}return n})(),St=(()=>{class n extends ii{service;constructor(e){super(),this.service=e}static \u0275fac=function(t){return new(t||n)(c(Q))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],features:[Te([{provide:ii,useExisting:V(()=>n)}]),ve]})}return n})(),qt="",qa="medium",Ja="medium",Xa="solid",Za={multi:!0,provide:Ze,useExisting:V(()=>Mn)},Mn=(()=>{class n{localization;dataService;popupService;selectionService;navigationService;disabledItemsService;_zone;cdr;renderer;hostElement;injector;adaptiveService;animationDuration=ut;xIcon=mt;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}get width(){let e=0;U()&&(e=this.wrapper.offsetWidth);let t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get height(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}get listContainerClasses(){let e=["k-list-container","k-autocomplete-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText){this.suggestedText=void 0;return}let e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());if(this.suggest&&!this.backspacePressed&&e)return this.suggestedText}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}get clearButtonVisibility(){if(Se)return"visible"}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return Qt(this.formControl)}dataItem;toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!this._open;this._toggle(t)})}get isOpen(){return Ot(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(t||i)return;this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){return!this.isOpen||!p(this.selectionService.focused)||this.selectionService.focused===-1?null:this.optionPrefix+"-"+this.selectionService.focused}highlightFirst=!0;showStickyHeader=!0;focusableId=`k-${B()}`;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=E(this.dataService.itemAt(0),this.valueField))}get data(){let e=this.virtual;if(e){let t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||qt,this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||qt}valueField;placeholder="";adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;clearButton=!0;suggest;disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}filterable=!1;set virtual(e){this._virtualSettings=ai(e)}get virtual(){return this._virtualSettings}set size(e){let t=e||qa;this.renderer.removeClass(this.wrapper,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper,L("input",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||Ja;this.renderer.removeClass(this.wrapper,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper,W(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){let t=e||Xa;this.renderer.removeClass(this.wrapper,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper,J("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}inputAttributes;valueChange=new g;filterChange=new g;open=new g;opened=new g;close=new g;closed=new g;onFocus=new g;onBlur=new g;inputFocus=new g;inputBlur=new g;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;widgetClasses=!0;get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-focus"),this._isFocused=e}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}text;listBoxId=`k-${B()}`;optionPrefix=`k-${B()}`;popupRef;windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}get formControl(){return this.injector.get(Ye,null)?.control||null}onChangeCallback=gt;onTouchedCallback=gt;constructor(e,t,i,s,o,l,f,D,w,M,X,ie){this.localization=e,this.dataService=t,this.popupService=i,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this._zone=f,this.cdr=D,this.renderer=w,this.hostElement=M,this.injector=X,this.adaptiveService=ie,kt(oi),this.direction=e.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){let t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=qt}messageFor(e){return this.localization.get(e)}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(qt),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focusItemAt(e){let t=e>=0&&e<this.data.length;p(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this._open&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.width;t.style.minWidth=i,t.style.width=s}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Je()&&p(e)&&typeof e!="string")throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){let i=this.findIndex(e,t);this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=E(this.dataService.itemAt(i),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){let t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;let i=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});i!==A.Undefined&&i!==A.Backspace&&i!==A.Delete&&i!==A.Home&&i!==A.End&&i!==A.Left&&i!==A.Right&&i!==A.PageDown&&i!==A.PageUp&&(i===A.Enter&&this.isOpen||i!==A.Enter)&&e.preventDefault(),i===A.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(e){let t=this.selectionService.focused,i;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)i=E(this.dataService.itemAt(t),this.valueField);else{let s=this.suggest&&this.suggestedText&&this.data.length&&E(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();this.isOpen&&s?i=this.suggestedText:i=this.searchbar.value}this.isActionSheetExpanded&&t>=0&&this.togglePopup(!1),this.change(i)}handleEscape(){this.isOpen?this.togglePopup(!1):this.value="",this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){let t=p(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleInputFocus(){this.handleFocus(),k(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}handleFocus(){this._zone.run(()=>{!this.isFocused&&k(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){let e=this.filterable?this.selectionService.focused:-1;this.searchbar.input.nativeElement.scrollLeft=0;let t,i;e!==-1?(t=this.dataService.itemAt(e),i=E(t,this.valueField)||""):i=this.searchbar.value;let s=i===this.searchbar.value,o=i.toLowerCase()===this.searchbar.value.toLowerCase();!s&&o&&this.selectionService.resetSelection([]);let l=this.value!==this.text;k(this.inputBlur)||k(this.close)||ze(this.wrapper)||l||this.formControl?.updateOn==="blur"?this._zone.run(()=>{l&&this.change(this.searchbar.value),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}pageChange(e){let t=this.virtual;t.skip=e.skip}closeActionSheet(){this.blurComponent(),this.closed.emit()}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}popupMouseDownHandler=e=>e.preventDefault();_popupSettings={animate:!0};_virtualSettings;_open=!1;_value="";suggestedText;backspacePressed;subs=new we;valueChangeSubject=new Qe;touchstartDisposeHandler;wrapper;_isFocused=!1;direction;_size="medium";_rounded="medium";_fillMode="solid";subscribeEvents(){U()&&(this.subs.add(this.valueChangeSubject.subscribe(e=>{let t=this.value!==e;if(this.isOpen){let i=this.findIndex(e);this.selectionService.focused=i}this.value=e,this.text=e,t&&this.emitChange(e)})),this.subs.add(this.selectionService.onChange.subscribe(this.handleItemChange.bind(this))),this.subs.add(this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this))),this.subs.add(re(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.enter.subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{if(this.isOpen){e.originalEvent.preventDefault();let t=Ie(e.originalEvent);this.optionsList.scrollWithOnePage(A[t])}})))}findIndex(e,t=0){let i;return e&&e.length&&this.dataService.itemsCount?i=this.dataService.findIndex(this.findIndexPredicate(e),t):i=-1,i}subscribeTouchEvents(){!U()||!Se||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let t=e.target;this.isFocused&&!Pt(this.hostElement,t,this.popupRef)&&this._zone.run(()=>this.blur())}))}handleItemChange(e){let t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!p(t))return;let i=E(this.dataService.itemAt(t),this.valueField);this.change(i)}handleItemFocus(e){let t=this.selectionService.focused;!!(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=E(this.dataService.itemAt(t),this.valueField))}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute",popupAlign:i,anchorAlign:t});let o=this.popupRef.popupElement,{min:l,max:f}=this.width;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=f,o.style.height=this.height,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.focus()),this._open&&this.createPopup()}triggerPopupEvents(e){let t=new Ke;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){let t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let i=E(t.value,this.valueField);return i=p(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}:t=>{let i=E(t,this.valueField);return i=p(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper,J("input",this.fillMode))}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Nt(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this.isFocused=!1;let e=this.value!==this.text;k(this.onBlur)||k(this.close)||ze(this.wrapper)||e?this._zone.run(()=>{e&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}static \u0275fac=function(t){return new(t||n)(c(Q),c(ce),c(ot),c(oe),c(he),c(se),c(fe),c(Oe),c(ge),c(Z),c(Le),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-autocomplete"]],contentQueries:function(t,i,s){if(t&1&&(N(s,Be,5),N(s,be,5),N(s,Ee,5),N(s,De,5),N(s,He,5),N(s,We,5),N(s,nt,5),N(s,it,5)),t&2){let o;C(o=b())&&(i.template=o.first),C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.noDataTemplate=o.first),C(o=b())&&(i.groupTemplate=o.first),C(o=b())&&(i.fixedGroupTemplate=o.first),C(o=b())&&(i.suffixTemplate=o.first),C(o=b())&&(i.prefixTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(wt,7,pt),I(xt,7),I(vt,7),I(si,5)),t&2){let s;C(s=b())&&(i.adaptiveRendererComponent=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.searchbar=s.first),C(s=b())&&(i.optionsList=s.first)}},hostVars:11,hostBindings:function(t,i){t&2&&(y("dir",i.dir),xe("k-readonly",i.readonly)("k-autocomplete",i.widgetClasses)("k-input",i.widgetClasses)("k-disabled",i.isDisabled)("k-loading",i.isLoading))},inputs:{highlightFirst:"highlightFirst",showStickyHeader:"showStickyHeader",focusableId:"focusableId",data:"data",value:"value",valueField:"valueField",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",clearButton:"clearButton",suggest:"suggest",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode",inputAttributes:"inputAttributes"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoAutoComplete"],features:[Te([Za,ce,oe,he,se,Q,{provide:st,useValue:"kendo.autocomplete"},{provide:dt,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)}]),q],decls:17,vars:30,consts:()=>{let e;e=$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.autocomplete.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.autocomplete.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let s;return s=$localize`:kendo.autocomplete.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoAutoCompleteLocalizedMessages","","noDataText",e,"clearTitle",t,"popupLabel",i,"adaptiveCloseButtonTitle",s],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","isSuggestable","isFilterable","isLoading","ariaControls","id","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(t,i){if(t&1){let s=T();H(0,4),de(1,5),_t("isFocusedChange",function(l){return _(s),ht(i.isFocused,l)||(i.isFocused=l),m(l)}),x("handleBlur",function(){return _(s),m(i.handleBlur())})("onFocus",function(){return _(s),m(i.handleFocus())}),h(2,Ps,2,1,"span",6)(3,Gs,1,0,"kendo-separator",7),v(4,"input",8),x("onNavigate",function(l){return _(s),m(i.handleNavigate(l))})("valueChange",function(l){return _(s),m(i.searchBarChange(l))})("onBlur",function(){return _(s),m(i.handleInputBlur())})("onFocus",function(){return _(s),m(i.handleInputFocus())})("click",function(){return _(s),m(i.handleClick())}),S(),h(5,Us,2,4,"span",9)(6,Vs,1,0,"span",10)(7,zs,1,0,"kendo-separator",7)(8,Bs,2,1,"span",11),ue(),h(9,Ws,1,1,"ng-template",null,0,$),H(11,null,1),h(13,js,1,0,"kendo-resize-sensor",12),v(14,"kendo-adaptive-renderer",13),x("closePopup",function(){return _(s),m(i.closeActionSheet())})("textInputChange",function(l){return _(s),m(i.searchBarChange(l))})("navigate",function(l){return _(s),m(i.handleNavigate(l))}),S(),h(15,eo,5,17,"ng-template",null,2,$)}if(t&2){let s=z(16);d(),a("hostElement",i.hostElement),ct("isFocused",i.isFocused),d(),a("ngIf",i.prefixTemplate),d(),a("ngIf",i.prefixTemplate&&i.prefixTemplate.showSeparator),d(),a("ariaExpanded",i.isOpen)("isSuggestable",i.suggest)("isFilterable",i.filterable)("isLoading",i.isLoading)("ariaControls",i.ariaControls)("id",i.focusableId)("activeDescendant",i.activeDescendant)("userInput",i.text)("suggestedText",i.suggestion)("disabled",i.disabled)("readonly",i.readonly||i.isAdaptive)("tabIndex",i.tabIndex)("isRequired",i.isControlRequired)("placeholder",i.placeholder)("inputAttributes",i.inputAttributes),d(),a("ngIf",!i.loading&&!i.readonly&&i.clearButton&&(i.text==null?null:i.text.length)),d(),a("ngIf",i.loading),d(),a("ngIf",i.suffixTemplate&&i.suffixTemplate.showSeparator),d(),a("ngIf",i.suffixTemplate),d(5),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled),d(),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",!0)("subtitle",i.adaptiveSubtitle)("placeholder",i.placeholder)("searchBarValue",i.text)}},dependencies:[St,li,Ne,Fe,Ge,vt,Ue,Pe,Ce,Re,Gt],encapsulation:2})}return n})(),Jt={array:"Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding",object:"Expected values of Object type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-object-values",primitive:"Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/data-binding/#toc-arrays-of-complex-data"},ke={array:"Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding",primitive:"Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-primitive-values",object:"Expected values of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-object-values",dataItems:"Expected dataItems of type Object[] to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",dataItemsLength:"Expected dataItems length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding",valueDepth:"Expected valueDepth of type number[] to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth",valueDepthLength:"Expected valueDepth length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth"},Xt={object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-object-values",primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/data-binding/#toc-arrays-of-complex-data",noItemHeight:"Expected virtual.itemHeight of type number."},bn={data:"Provided data must consist only of objects. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/#toc-fields-configuration"},Zt={defaultItem:"defaultItem and data items must be of same type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-object-values",primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/data-binding/#toc-arrays-of-complex-data"},Mt={primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-primitive-values",object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-object-values",dataItem:"Expected dataItem of type Object to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownTreeComponent/#toc-dataitem",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding",valueDepth:"Expected valueDepth to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownTreeComponent/#toc-valuedepth"},Ya={multi:!0,provide:Ze,useExisting:V(()=>Ii)},el="medium",tl="medium",il="solid",Ii=(()=>{class n extends $t{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;zone;cdr;renderer;injector;hostElement;adaptiveService;icon;svgIcon;inputAttributes;animationDuration=ut;xIcon=mt;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}caretAltDownIcon=Ht;set text(e){this._text=p(e)?e.toString():""}get text(){return this._text}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return Qt(this.formControl)}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(t||i)return;this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){return!this.isOpen||!p(this.selectionService.focused)||this.selectionService.focused===-1?null:this.optionPrefix+"-"+this.selectionService.focused}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}dataItem;selected=[];showStickyHeader=!0;focusableId=`k-${B()}`;allowCustom=!1;set data(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){let i=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=i}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=E(this.dataService.itemAt(0),this.textField))}get data(){let e=this.virtual;if(e){let t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return p(this._valuePrimitive)?this._valuePrimitive:!p(this.valueField)}valueNormalizer=e=>e.pipe(me(t=>t));placeholder="";adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;suggest=!1;clearButton=!0;disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}filterable=!1;set virtual(e){this._virtualSettings=ai(e,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}set size(e){let t=e||el;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||tl;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){let t=e||il;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}valueChange=new g;selectionChange=new g;filterChange=new g;open=new g;opened=new g;close=new g;closed=new g;onFocus=new g;onBlur=new g;inputFocus=new g;inputBlur=new g;escape=new g;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;select;widgetClasses=!0;get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}_isFocused=!1;get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get clearButtonVisibility(){if(Se)return"visible"}get formControl(){return this.injector.get(Ye,null)?.control||null}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}listBoxId=`k-${B()}`;optionPrefix=`k-${B()}`;popupRef;get popupWidth(){let e=0;U()&&(e=this.wrapper.nativeElement.offsetWidth);let t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get popupHeight(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}onChangeCallback=e=>{};onTouchedCallback=e=>{};defaultVirtualItemHeight=28;defaultVirtualPageSize=50;valueSubscription;_filtering=!1;_text="";filterText="";_open=!1;_value;_valuePrimitive;_previousDataItem;suggestedText;backspacePressed;_popupSettings={animate:!0};_virtualSettings;popupMouseDownHandler=e=>e.preventDefault();customValueSubject=new Qe;valueSubject=new Qe;clearValueSubject=new Qe;direction;subs=new we;touchstartDisposeHandler;selectClickDisposeHandler;_size="medium";_rounded="medium";_fillMode="solid";constructor(e,t,i,s,o,l,f,D,w,M,X,ie,je){super(),this.wrapper=e,this.localization=t,this.popupService=i,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this.dataService=f,this.zone=D,this.cdr=w,this.renderer=M,this.injector=X,this.hostElement=ie,this.adaptiveService=je,kt(oi),this.direction=t.rtl?"rtl":"ltr",this.data=[]}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges()}createValueStream(){let e=this.valueSubject.pipe(G(f=>{let D=E(this.value,this.valueField),w=E(f,this.valueField),M=E(f,this.textField);return!p(this.value)&&!p(w)?!1:(p(M)&&(M=M.toString()),D===w&&this.text===M?(this.clearFilter(),!1):!0)}),me(f=>{let D=E(f,this.valueField),w=E(f,this.textField);return{dataItem:f,text:w,value:this.valuePrimitive?D:f}})),t=Fi(()=>this.allowCustom)(this.customValueSubject.pipe(Mi(300))),i=t[0].pipe(ne(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),G(()=>{let f=this.text!==E(this.value,this.valueField);return this.loading=f,this.disabled=f,f||this.clearFilter(),f}),this.valueNormalizer,me(f=>({custom:!0,dataItem:f,text:this.text,value:f}))),s=t[1].pipe(me(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),o=this.clearValueSubject.pipe(me(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();let l=re(e,i,s,o);this.valueSubscription=l.pipe(hi(()=>{let f=E(this.dataItem,this.valueField)!==void 0;return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,f&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),Tt(null)})).subscribe(f=>{let D=E(this.dataItem,this.valueField)!==E(f.dataItem,this.valueField);if(this.dataItem=f.dataItem,this.value=f.value,this.text=f.text,this.loading=!1,this.disabled=!1,this.clearFilter(),f.custom&&(this.selectionService.focused=-1),D){let w=f.custom?void 0:this.dataItem;this.selectionChange.emit(w)}this.emitValueChange()})}attachStreams(){U()&&(this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.subs.add(re(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(G(e=>p(e.index))).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{if(this.isOpen){e.originalEvent.preventDefault();let t=Ie(e.originalEvent);this.optionsList.scrollWithOnePage(A[t])}})),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(ne(e=>{this.isOpen&&e.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(re(this.selectionService.onChange,this.selectionService.onSelect.pipe(G(()=>!this.isOpen))).pipe(ne(()=>{this._filtering=!1,this.togglePopup(!1)}),me(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{this.change(e)})),this.subs.add(this.selectionService.onSelect.pipe(G(()=>this.isOpen),ne(()=>this._filtering=!1),me(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{let t=E(e,this.valueField)!==E(this.dataItem,this.valueField);this.updateState({dataItem:e}),t&&this.selectionChange.emit(e)})))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),p(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(e){let t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Ae("valueNormalizer",e)&&this.createValueStream(),et(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(e){let t=e>=0&&e<this.data.length;p(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return Ot(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){let e=!p(this.text)||fn(this.text),t=!p(this.value)||fn(this.value);return e&&t}messageFor(e){return this.localization.get(e)}clearValue(e){e?.stopImmediatePropagation(),e&&this.focus(),this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(void 0),this._filtering=!1}writeValue(e){this.value=e===null?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}
        `}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.popupWidth;t.style.minWidth=i,t.style.width=s}}verifySettings(){if(!Je())return;if(this.valuePrimitive===!0&&p(this.value)&&typeof this.value=="object")throw new Error(Xt.primitive);if(this.valuePrimitive===!1&&p(this.value)&&typeof this.value!="object")throw new Error(Xt.object);if(!p(this.valueField)!=!p(this.textField))throw new Error(Xt.textAndValue);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(Xt.noItemHeight)}setState(){if(this._filtering)return;let e=this.value,t=this.valueField,i=this.findDataItem({valueField:t,value:e});p(i.index)&&i.index!==-1?(this.updateState({dataItem:i.dataItem,confirm:!0}),this.resetSelection(i.index)):p(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=E(e,this.textField),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){let t=!p(e)||e<0;this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=e}firstFocusableIndex(e){let t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let i=E(t.value,this.textField);return i=p(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}:t=>{let i=E(t,this.textField);return i=p(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}}findDataItem({valueField:e,value:t}){let i={dataItem:null,index:-1},s=l=>{let f=this.dataService.grouped?l.value:l;return E(f,e)===E(t,e)},o=this.dataService.findIndex(s);return i.dataItem=this.dataService.itemAt(o),i.index=o,i}search(e,t=0){let i=this.findIndex(e,t);this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=E(this.dataService.itemAt(i),this.textField)))}getSuggestion(){let e=!!this.selectionService.selected.length,t=this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text;if(!e&&t&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(e){this.dataService.itemsCount!==0&&(this.text=E(this.dataService.itemAt(e),this.textField),this.selectionService.select(e))}handleNavigate(e){let t=p(this.selectionService.selected[0]),i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused,s=0;if(this.disabled||this.readonly)return;let o=Ie(e),l=o===O.Home,f=o===O.End;if(l||f)return;t||(o===O.ArrowDown?s=-1:o===O.ArrowUp&&(s=1));let D=this.navigationService.process({current:s+i,max:this.dataService.itemsCount-1,min:0,originalEvent:e});D!==A.Undefined&&D!==A.Left&&D!==A.Right&&D!==A.Backspace&&D!==A.Delete&&D!==A.PageDown&&D!==A.PageUp&&(D===A.Enter&&this.isOpen||D!==A.Enter)&&e.preventDefault(),D===A.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(){let e=this.text,t=this.selectionService.focused,i=p(t)&&t!==-1,s=E(this._previousDataItem,this.textField)||"",o=E(this.dataService.itemAt(t),this.textField),l=e!==s;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&l&&(e===o||this.useSuggestion()?this.selectionService.change(t):this.change(e,!0)),this.allowCustom||(i?this.selectionService.change(t):l&&this.change(e,!0))}handleFocus(){this.zone.run(()=>{!this.isFocused&&k(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0;let e=E(this.dataItem,this.valueField)!==E(this.value,this.valueField),t=this.searchbar.value,i=t!==(E(this.dataItem,this.textField)||""),s=e||i;s||k(this.onBlur)||k(this.close)||ze(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this.zone.run(()=>{s&&(p(this.focusedItemText)&&this.focusedItemText.toLowerCase()===t.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(t,!0)),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleEscape(){this.isOpen?this.togglePopup(!1):this.clearValue(),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1),k(this.escape)&&this.escape.emit()}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(e){let t=this.text?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}handleInputFocus(){this.handleFocus(),k(this.inputFocus)&&this.zone.run(()=>this.inputFocus.emit())}pageChange(e){let t=this.virtual;t.skip=e.skip}closeActionSheet(){this.blurComponent(),this.closed.emit()}change(e,t=!1){t?this.customValueSubject.next(e):(this.valueSubject.next(e),this.isActionSheetExpanded&&this.togglePopup(!1))}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){Se||(this.searchbar.focus(),this.isFocused=!0),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-combobox-popup"].concat(this.popupSettings.popupClass||[])}preventEventDefault(e){e.preventDefault()}get focusedItemText(){let e=this.selectionService.focused;if(!p(e)||e===-1)return null;let t=E(this.dataService.itemAt(e),this.textField);return p(t)?t.toString():""}restoreItemFocus(){!(p(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!(this.suggest&&p(this.searchbar.value)))return!1;let e=this.dataService.itemAt(this.selectionService.focused),t=E(e,this.textField);return p(t)?this.searchbar.value.toLowerCase()===t.toLowerCase():!1}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute",anchorAlign:t,popupAlign:i});let o=this.popupRef.popupElement,{min:l,max:f}=this.popupWidth;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=f,o.style.height=this.popupHeight,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.focus()),this._open&&(this.windowSize=this.adaptiveService.size,this.createPopup())}triggerPopupEvents(e){let t=new Ke;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}subscribeTouchEvents(){!U()||!Se||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let t=e.target,i=Pt(this.wrapper,t,this.popupRef);this.isFocused&&!i?this.zone.run(()=>this.blur()):this.isOpen&&!i&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){let e=this.select.nativeElement,t=en?"pointerdown":"click";this.selectClickDisposeHandler=this.renderer.listen(e,t,this.selectClick.bind(this))}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}findIndex(e,t=0){let i;return e&&e.length&&this.dataService.itemsCount?i=this.dataService.findIndex(this.findIndexPredicate(e),t):i=-1,i}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Nt(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;let e=E(this.dataItem,this.valueField)!==E(this.value,this.valueField),t=this.searchbar.value,i=t!==(E(this.dataItem,this.textField)||""),s=e||i;s||k(this.onBlur)||k(this.close)||ze(this.wrapper.nativeElement)?this.zone.run(()=>{s&&(p(this.focusedItemText)&&this.focusedItemText.toLowerCase()===t.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(t,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}static \u0275fac=function(t){return new(t||n)(c(Z),c(Q),c(ot),c(oe),c(he),c(se),c(ce),c(fe),c(Oe),c(ge),c(Le),c(Z),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-combobox"]],contentQueries:function(t,i,s){if(t&1&&(N(s,Be,5),N(s,be,5),N(s,Ee,5),N(s,De,5),N(s,He,5),N(s,We,5),N(s,nt,5),N(s,it,5)),t&2){let o;C(o=b())&&(i.template=o.first),C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.noDataTemplate=o.first),C(o=b())&&(i.groupTemplate=o.first),C(o=b())&&(i.fixedGroupTemplate=o.first),C(o=b())&&(i.suffixTemplate=o.first),C(o=b())&&(i.prefixTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(wt,7,pt),I(xt,7),I(vt,7),I(si,5),I(to,7)),t&2){let s;C(s=b())&&(i.adaptiveRendererComponent=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.searchbar=s.first),C(s=b())&&(i.optionsList=s.first),C(s=b())&&(i.select=s.first)}},hostVars:11,hostBindings:function(t,i){t&2&&(y("dir",i.dir),xe("k-readonly",i.readonly)("k-combobox",i.widgetClasses)("k-input",i.widgetClasses)("k-disabled",i.isDisabled)("k-loading",i.isLoading))},inputs:{icon:"icon",svgIcon:"svgIcon",inputAttributes:"inputAttributes",showStickyHeader:"showStickyHeader",focusableId:"focusableId",allowCustom:"allowCustom",data:"data",value:"value",textField:"textField",valueField:"valueField",valuePrimitive:"valuePrimitive",valueNormalizer:"valueNormalizer",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",escape:"escape"},exportAs:["kendoComboBox"],features:[Te([Ya,ce,oe,he,se,Q,{provide:st,useValue:"kendo.combobox"},{provide:dt,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)},{provide:$t,useExisting:V(()=>n)}]),ve,q],decls:20,vars:38,consts:()=>{let e;e=$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.combobox.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.combobox.selectButtonText|The text set as aria-label on the select button:Select`;let s;s=$localize`:kendo.combobox.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let o;return o=$localize`:kendo.combobox.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoComboBoxLocalizedMessages","","noDataText",e,"clearTitle",t,"selectButtonText",i,"popupLabel",s,"adaptiveCloseButtonTitle",o],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","ariaControls","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"keydown.enter","ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(t,i){if(t&1){let s=T();H(0,5),de(1,6),_t("isFocusedChange",function(l){return _(s),ht(i.isFocused,l)||(i.isFocused=l),m(l)}),x("handleBlur",function(){return _(s),m(i.handleBlur())})("onFocus",function(){return _(s),m(i.handleFocus())}),h(2,no,2,1,"span",7)(3,so,1,0,"kendo-separator",8),v(4,"input",9),x("onNavigate",function(l){return _(s),m(i.handleNavigate(l))})("valueChange",function(l){return _(s),m(i.searchBarChange(l))})("onBlur",function(){return _(s),m(i.handleInputBlur())})("onFocus",function(){return _(s),m(i.handleInputFocus())})("click",function(){return _(s),m(i.handleClick())}),S(),h(5,oo,2,7,"span",10)(6,ro,1,0,"span",11)(7,ao,1,0,"kendo-separator",8)(8,uo,2,1,"span",12),v(9,"button",13,0),x("keydown.enter",function(l){return _(s),m(l.stopImmediatePropagation())}),P(11,"kendo-icon-wrapper",14),S(),ue(),h(12,co,1,1,"ng-template",null,1,$)(14,ho,1,0,"kendo-resize-sensor",15),H(15,null,2),v(17,"kendo-adaptive-renderer",16),x("closePopup",function(){return _(s),m(i.closeActionSheet())})("textInputChange",function(l){return _(s),m(i.searchBarChange(l))})("navigate",function(l){return _(s),m(i.handleNavigate(l))}),S(),h(18,bo,5,17,"ng-template",null,3,$)}if(t&2){let s=z(19);d(),a("hostElement",i.hostElement),ct("isFocused",i.isFocused),d(),a("ngIf",i.prefixTemplate),d(),a("ngIf",i.prefixTemplate&&i.prefixTemplate.showSeparator),d(),a("ariaExpanded",i.isOpen)("ariaControls",i.ariaControls)("id",i.focusableId)("isLoading",i.loading)("isSuggestable",i.suggest)("isFilterable",i.filterable)("activeDescendant",i.activeDescendant)("userInput",i.text)("suggestedText",i.getSuggestion())("disabled",i.disabled)("readonly",i.readonly||i.isAdaptive)("tabIndex",i.tabIndex)("isRequired",i.isControlRequired)("placeholder",i.placeholder)("inputAttributes",i.inputAttributes),d(),a("ngIf",i.clearButton&&!i.loading&&!i.disabled&&!i.readonly&&(i.text==null?null:i.text.length)),d(),a("ngIf",i.loading),d(),a("ngIf",i.suffixTemplate&&i.suffixTemplate.showSeparator),d(),a("ngIf",i.suffixTemplate),d(),a("ngClass",i.selectButtonClasses)("kendoEventsOutsideAngular",R(36,Ft,i.preventEventDefault)),y("aria-label",i.messageFor("selectButtonText"))("disabled",i.disabled?"":null),d(2),a("name",i.icon||"caret-alt-down")("svgIcon",i.svgIcon||i.caretAltDownIcon),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",!0)("subtitle",i.adaptiveSubtitle)("placeholder",i.placeholder)("searchBarValue",i.text)}},dependencies:[St,li,Ne,Fe,Ge,vt,Dt,Ue,Xe,Pe,Ce,Re,Gt],encapsulation:2})}return n})(),Ut=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]]})}return n})(),Ti=(()=>{class n{element;zone;focused;constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}static \u0275fac=function(t){return new(t||n)(c(Z),c(fe))};static \u0275dir=F({type:n,selectors:[["","filterInput",""]],inputs:{focused:[0,"filterInput","focused"]},features:[q]})}return n})(),nl={multi:!0,provide:Ze,useExisting:V(()=>Fn)},sl="medium",ol="medium",rl="solid",Fn=(()=>{class n{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;_zone;renderer;cdr;injector;adaptiveService;touchEnabled=Se;animationDuration=ut;xIcon=mt;searchIcon=Wt;caretAltDownSVGIcon=Ht;customIconClass;adaptiveRenderer;searchInput;get actionSheet(){return this.adaptiveRenderer?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRenderer?.actionSheetSearchBar}get width(){let e=U()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get height(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;let e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaActivedescendant(){if(!(!p(this.dataItem)||!this.isOpen))return this.optionPrefix+"-"+this.selectionService.focused}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}onFilterChange(e){this.filterable&&this.filterChange.emit(e)}get ariaLive(){return this.filterable?"polite":"off"}showStickyHeader=!0;icon;svgIcon;loading;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){let e=this.virtual;if(e){let t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){p(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle="";get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;defaultItem;disabled;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;filterable=!1;set virtual(e){this._virtualSettings=ai(e)}get virtual(){return this._virtualSettings}ignoreCase=!0;delay=500;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return p(this._valuePrimitive)?this._valuePrimitive:!p(this.valueField)}tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){let t=e||sl;this.renderer.removeClass(this.wrapper.nativeElement,L("picker",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||ol;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(t)),this._rounded=e}get rounded(){return this._rounded}set fillMode(e){let t=e||rl;this.renderer.removeClass(this.wrapper.nativeElement,J("picker",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",t)),this._fillMode=t}get fillMode(){return this._fillMode}leftRightArrowsNavigation=!0;valueChange=new g;filterChange=new g;selectionChange=new g;open=new g;opened=new g;close=new g;closed=new g;onFocus=new g;onBlur=new g;itemTemplate;groupTemplate;fixedGroupTemplate;valueTemplate;headerTemplate;footerTemplate;noDataTemplate;container;popupTemplate;optionsList;blurComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementBlurred.emit())}blurFilterInput(){this.filterBlurred.emit()}focusComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementFocused.emit(),this.isFocused||(this.isFocused=!0,k(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.width;t.style.minWidth=i,t.style.width=s}}hostClasses=!0;get isDisabledClass(){return this.disabled||null}get isLoading(){return this.loading}focusableId=`k-${B()}`;get dir(){return this.direction}get hostTabIndex(){return this.widgetTabIndex}get readonlyClass(){return this.readonly}get readonlyAttr(){return this.readonly?"":null}get isBusy(){return this.isLoading}role="combobox";haspopup="listbox";get hostAriaInvalid(){return this.formControl?.invalid?!0:null}keydown(e,t){t&&e.stopPropagation();let i=p(this.defaultItem)?-1:0,s=isNaN(this.selectionService.focused)?this.firstFocusableIndex(i):this.selectionService.focused,o=0;if(this.disabled||this.readonly)return;let l=Ie(e),f=l===O.Home,D=l===O.End,w=f||D;if(this.filterable&&this.isFocused&&this.isOpen&&w)return;let X=p(this.selectionService.selected[0]),ie=p(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!X||ie)&&(l===O.ArrowDown||l===O.ArrowRight&&this.leftRightArrowsNavigation?o=-1:(l===O.ArrowUp||l===O.ArrowLeft&&this.leftRightArrowsNavigation)&&(o=1));let je=e,_e=this.navigationService.process({current:s+o,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:je,openOnSpace:!this.isOpen,closeOnSpace:this.isOpen&&!t&&!(e.target instanceof HTMLInputElement)}),Hn=_e===A.Left||_e===A.Right&&this.leftRightArrowsNavigation;_e!==A.Undefined&&_e!==A.Tab&&_e!==A.Backspace&&_e!==A.Delete&&_e!==A.PageDown&&_e!==A.PageUp&&_e!==A.SelectAll&&!(Hn&&this.filterable)&&_e!==A.Enter&&je.preventDefault(),_e===A.Tab&&this.isActionSheetExpanded&&this.togglePopup(!1)}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(){this.isActionSheetExpanded||(this.focus(),this.togglePopup(!this.isOpen))}groupIndices=[];optionPrefix=`k-${B()}`;valueLabelId;filterText="";listBoxId=`k-${B()}`;subs=new we;_isFocused=!1;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}direction;dataItem;popupRef;onTouchedCallback=e=>{};onChangeCallback=e=>{};popupMouseDownHandler;word="";last="";typingTimeout;filterFocused=new g;filterBlurred=new g;hostElementFocused=new g;hostElementBlurred=new g;touchstartDisposeHandler;_value;_open=!1;_previousDataItem;_valuePrimitive;text;_popupSettings={animate:!0};_virtualSettings;_size="medium";_rounded="medium";_fillMode="solid";constructor(e,t,i,s,o,l,f,D,w,M,X,ie){this.wrapper=e,this.localization=t,this.popupService=i,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this.dataService=f,this._zone=D,this.renderer=w,this.cdr=M,this.injector=X,this.adaptiveService=ie,kt(oi),this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.ariaActivedescendant&&this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.assignAriaDescribedBy(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size}isEmpty(){let e=this.value;return!(e===0||e===!1||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){let t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Ae("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),et(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}get formControl(){return this.injector.get(Ye,null)?.control||null}focusItemAt(e){let i=(p(this.defaultItem)?-1:0)<=e&&e<this.data.length;p(e)&&i&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||(this.wrapper.nativeElement.blur(),this.cdr.detectChanges())}toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){let t=new Ke;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(t||i)return;this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return Ot(this._open||this.isActionSheetExpanded)}reset(){this.value=void 0}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e===null?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}get listContainerClasses(){let e=["k-list-container","k-dropdownlist-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}getText(){return this.text}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:t,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:i,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute"}),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId);let o=this.popupRef.popupElement,{min:l,max:f}=this.width;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=f,o.style.height=this.height,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.filterable||this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-activedescendant"),this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=E(e,this.textField),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){let t=!p(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy(),this.setAriaactivedescendant()}subscribeEvents(){U()&&(this.subs.add(this.selectionService.onSelect.pipe(G(()=>this.isOpen),me(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.subs.add(re(this.selectionService.onSelect.pipe(G(()=>!this.isOpen)),this.selectionService.onChange).pipe(me(this.itemFromEvent.bind(this)),ne(()=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:i})=>{i&&this.onSelectionChange({dataItem:e});let s=!p(e)&&this._previousDataItem,o=t!==E(this.value,this.valueField);s?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):o&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.subs.add(re(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(G(()=>this.leftRightArrowsNavigation),fi(()=>this.filterable)),this.navigationService.right.pipe(G(()=>this.leftRightArrowsNavigation),fi(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(G(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{if(this.isOpen){e.originalEvent.preventDefault();let t=Ie(e.originalEvent);this.optionsList.scrollWithOnePage(A[t])}})),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()})),this.subs.add(this.navigationService.enter.pipe(ne(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.filterBlurred.pipe(_i(()=>ci(10).pipe($e(1),gi(this.hostElementFocused)))).subscribe(()=>{this.hostElementBlurred.emit()})),this._zone.runOutsideAngular(()=>{this.subs.add(re(this.hostElementBlurred.pipe(_i(()=>ci(10).pipe($e(1),gi(this.filterFocused)))),this.navigationService.tab).pipe(ne(e=>e instanceof ti&&this.focus()),G(()=>this.isFocused),G(()=>{if(!(U()&&jt(navigator.userAgent)))return!0;let t=this.popupRef?.popupElement.querySelector(".k-button.k-focus"),i=this.searchInput&&t&&k(this.filterChange);return i&&(this.searchInput.nativeElement.focus(),this.isFocused=!0),!i})).subscribe(()=>this.componentBlur()))}))}setAriaactivedescendant(){this.ariaActivedescendant&&(this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant),this.searchInput&&this.renderer.setAttribute(this.searchInput.nativeElement,"aria-activedescendant",this.ariaActivedescendant))}subscribeTouchEvents(){!U()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let t=e.target;this.isFocused&&!Pt(this.wrapper,t,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}subscribeFocusEvents(){U()&&(this.focusComponent=this.focusComponent.bind(this),this.blurComponent=this.blurComponent.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.focusComponent,!0),document.addEventListener("blur",this.blurComponent,!0)}))}unSubscribeFocusEvents(){U()&&(document.removeEventListener("focus",this.focusComponent,!0),document.removeEventListener("blur",this.blurComponent,!0))}itemFromEvent(e){let t=e.indices[0],i=this.dataService.itemAt(t);i=p(i)?i:this.currentOrDefault(t);let s=E(i,this.valueField),o=e.newSelection;return{dataItem:i,index:t,newSelection:o,value:s}}currentOrDefault(e){return p(this.dataItem)&&e!==-1?this.dataItem:this.defaultItem}firstFocusableIndex(e){let t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){p(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(!Je())return;if(this.defaultItem&&this.valueField&&typeof this.defaultItem!="object")throw new Error(Zt.defaultItem);if(this.valuePrimitive===!0&&p(this.value)&&typeof this.value=="object")throw new Error(Zt.primitive);if(this.valuePrimitive===!1&&p(this.value)&&typeof this.value!="object")throw new Error(Zt.object);if(!p(this.valueField)!=!p(this.textField))throw new Error(Zt.textAndValue)}componentBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;let t=p(this.selectionService.selected[0])&&E(this.value,this.valueField)!==E(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);t||k(this.close)||k(this.onBlur)||k(this.filterChange)||ze(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.togglePopup(!1),this.cdr.markForCheck())}}onMouseDown(e){e.target.tagName.toLowerCase()!=="input"&&e.preventDefault()}onKeyPress(e){if(e.which===0||e.code===O.Enter||e.code===O.NumpadEnter||e.key.length>1)return;let t=e.key;this.ignoreCase&&(t=t.toLowerCase()),t===" "&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(w=>p(w)&&!w.header&&!this.disabledItemsService.isItemDisabled(w)).map(w=>this.dataService.grouped?{item:w.value,itemIndex:w.offsetIndex}:{item:w,itemIndex:this.dataService.indexOf(w)}),t=Ka(this.word,this.last),i=e.length,s=!isNaN(this.selectionService.selected[0]),o=s?this.selectionService.selected[0]:0,l,f,D;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(D={item:this.defaultItem,itemIndex:-1},i+=1,o+=1),o+=t&&s?1:0,e=Ba(e,o,D),f=0;f<i;f++){l=E(e[f].item,this.textField);let w=!!(t&&gn(l,this.last,this.ignoreCase)),M=!!gn(l,this.word,this.ignoreCase);if(w||M){f=e[f].itemIndex;break}}f!==i&&this.navigate(f)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}findDataItem({valueField:e,value:t}){let i={dataItem:null,index:-1},s=f=>E(f,e),o;this.dataService.grouped?o=f=>s(f.value)===s(t):o=f=>s(f)===s(t);let l=this.dataService.findIndex(o);return i.dataItem=this.dataService.itemAt(l),i.index=l,i}setState(){let e=this.value,t=this.valueField,i=this.textField,s=this.valuePrimitive;if(this.defaultItem){let f=E(this.defaultItem,t),D=E(e,t);if(!p(e)||D===f){this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0));return}}let o=this.findDataItem({valueField:t,value:e}),l=!(s&&i);o.dataItem?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):p(e)&&l?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}pageChange(e){let t=this.virtual;t.skip=e.skip}assignAriaDescribedBy(){let t=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=`k-${B()}`;let i=`${this.valueLabelId} ${t}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",i)}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.filterable&&(this.adaptiveRenderer.searchBarValue="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId),this.dataService.grouped||lt(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.adaptiveTitle=Nt(this.wrapper,this.adaptiveTitle),this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}static \u0275fac=function(t){return new(t||n)(c(Z),c(Q),c(ot),c(oe),c(he),c(se),c(ce),c(fe),c(ge),c(Oe),c(Le),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdownlist"]],contentQueries:function(t,i,s){if(t&1&&(N(s,Be,5),N(s,He,5),N(s,We,5),N(s,Ut,5),N(s,be,5),N(s,Ee,5),N(s,De,5)),t&2){let o;C(o=b())&&(i.itemTemplate=o.first),C(o=b())&&(i.groupTemplate=o.first),C(o=b())&&(i.fixedGroupTemplate=o.first),C(o=b())&&(i.valueTemplate=o.first),C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.noDataTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(Eo,5),I(wt,7,pt),I(xt,7),I(si,5)),t&2){let s;C(s=b())&&(i.adaptiveRenderer=s.first),C(s=b())&&(i.searchInput=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.optionsList=s.first)}},hostVars:19,hostBindings:function(t,i){t&1&&x("keydown",function(o){return i.keydown(o)})("keypress",function(o){return i.keypress(o)})("click",function(){return i.click()}),t&2&&(y("aria-disabled",i.isDisabledClass)("id",i.focusableId)("dir",i.dir)("tabindex",i.hostTabIndex)("readonly",i.readonlyAttr)("aria-busy",i.isBusy)("role",i.role)("aria-haspopup",i.haspopup)("aria-invalid",i.hostAriaInvalid),xe("k-readonly",i.readonly)("k-dropdownlist",i.hostClasses)("k-picker",i.hostClasses)("k-disabled",i.isDisabledClass)("k-loading",i.isLoading))},inputs:{customIconClass:"customIconClass",showStickyHeader:"showStickyHeader",icon:"icon",svgIcon:"svgIcon",loading:"loading",data:"data",value:"value",textField:"textField",valueField:"valueField",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",defaultItem:"defaultItem",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",filterable:"filterable",virtual:"virtual",ignoreCase:"ignoreCase",delay:"delay",valuePrimitive:"valuePrimitive",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",leftRightArrowsNavigation:"leftRightArrowsNavigation",focusableId:[0,"id","focusableId"]},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Te([nl,ce,oe,he,se,Q,{provide:st,useValue:"kendo.dropdownlist"},{provide:dt,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)}]),q],decls:16,vars:19,consts:()=>{let e;e=$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.dropdownlist.selectButtonText|The text set as aria-label on the select button:Select`;let i;i=$localize`:kendo.dropdownlist.filterInputLabel|The text set as aria-label on the filter input:Filter`;let s;s=$localize`:kendo.dropdownlist.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let o;return o=$localize`:kendo.dropdownlist.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["searchInput",""],["kendoDropDownListLocalizedMessages","","noDataText",e,"selectButtonText",t,"filterInputLabel",i,"popupLabel",s,"adaptiveCloseButtonTitle",o,"filterInputPlaceholder","Filter"],["unselectable","on",1,"k-input-inner",3,"click","id"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["unselectable","on","innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","filterable"],[3,"templateContext"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","id","size","rounded","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","ariaLive","showStickyHeader","defaultItem"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter",3,"click"],[1,"k-searchbox","k-input",3,"ngClass"],["innerCssClass","k-input-icon","name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","aria-autocomplete","list","aria-haspopup","listbox","tabindex","-1",1,"k-input-inner",3,"ngModelChange","keydown","input","focus","blur","click","filterInput","dir","ngModel"],[1,"k-no-data"],[3,"ngIf","templateContext"]]},template:function(t,i){if(t&1){let s=T();H(0,5),v(1,"span",6),x("click",function(l){return _(s),m(l.preventDefault())}),v(2,"span",7),h(3,Ao,1,4,null,8)(4,wo,1,1,"ng-template",9),S()(),h(5,xo,1,0,"span",10),v(6,"button",11),P(7,"kendo-icon-wrapper",12),S(),h(8,No,1,1,"ng-template",null,0,$)(10,Io,1,0,"kendo-resize-sensor",13),H(11,null,1),v(13,"kendo-adaptive-renderer",14),x("closePopup",function(){return _(s),m(i.togglePopup(!1))})("textInputChange",function(l){return _(s),m(i.onFilterChange(l))}),S(),h(14,Go,6,20,"ng-template",null,2,$)}if(t&2){let s=z(15);d(),a("id",i.valueLabelId),d(2),a("ngIf",i.valueTemplate),d(),a("ngIf",!i.valueTemplate),d(),a("ngIf",i.loading),d(),a("ngClass",i.selectButtonClasses)("kendoEventsOutsideAngular",R(17,Ft,i.onMouseDown)),y("aria-label",i.messageFor("selectButtonText"))("disabled",i.disabled?"":null),d(),a("name",i.icon||"caret-alt-down")("customFontClass",i.customIconClass)("svgIcon",i.svgIcon||i.caretAltDownSVGIcon),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",i.filterable)("subtitle",i.adaptiveSubtitle)("filterable",i.filterable)}},dependencies:[St,Ne,Re,Xe,Dt,Ue,Fe,Pe,Ce,Xi,Qi,$i,Ti,Ji,qi,Gt],encapsulation:2})}return n})(),di=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]]})}return n})(),ui=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]]})}return n})(),ni=class extends Ke{dataItem;constructor(r){super(),this.dataItem=r}},al=n=>ft(n)?Object.assign({},{enabled:!0,checkOnClick:!0},n):{enabled:!!n,checkOnClick:!0},xi=(()=>{class n{renderer;hostElement;xCircleIcon=Yi;tags;textField;valueField;valueDepth;focused;template;groupTemplate;disabled;tagPrefix;id;set size(e){this.renderer.removeClass(this.hostElement.nativeElement,L("chip-list",this.size)),e&&this.renderer.addClass(this.hostElement.nativeElement,L("chip-list",e)),this._size=e}get size(){return this._size}rounded="medium";fillMode="solid";disabledIndices=new Set;removeTag=new g;hostClass=!0;get hostId(){return this.id}taglistRole="listbox";multiselectable=!0;_size="medium";constructor(e,t){this.renderer=e,this.hostElement=t}tagProp(e,t,i){let s=t&&this.getPropField(e,t,i);return E(e,s)}isTagDisabled(e,t){return this.isGroupTag(e)?e.every((i,s)=>this.disabledIndices.has(s+t)):this.disabledIndices.has(t)}deleteTag(e,t,i){e.preventDefault(),e.stopImmediatePropagation(),!this.disabled&&e.which===1&&this.removeTag.emit({tag:t,index:i})}itemId(e,t){if(e)return this.tagPrefix+"-"+t}isGroupTag(e){return e instanceof Array}tagAriaHidden(e){return p(this.focused)&&this.focused!==e}getPropField(e,t,i){let s=t.length-1;if(typeof t=="string")return t;if(this.valueDepth){let o=this.valueDepth[i];return s<o?t[s]:t[o]}else return t.find(o=>o in e)}static \u0275fac=function(t){return new(t||n)(c(ge),c(Z))};static \u0275cmp=le({type:n,selectors:[["kendo-taglist"]],hostVars:5,hostBindings:function(t,i){t&2&&(y("id",i.hostId)("role",i.taglistRole)("aria-multiselectable",i.multiselectable),xe("k-chip-list",i.hostClass))},inputs:{tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id",size:"size",rounded:"rounded",fillMode:"fillMode",disabledIndices:"disabledIndices"},outputs:{removeTag:"removeTag"},ngContentSelectors:Uo,decls:2,vars:1,consts:[["groupTag",""],["singleTag",""],["class","k-chip",3,"ngClass",4,"ngFor","ngForOf"],[1,"k-chip",3,"ngClass"],[1,"k-chip-content"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"k-chip-actions"],["aria-label","delete",1,"k-chip-action","k-chip-remove-action"],["name","x-circle",3,"mousedown","svgIcon"],[1,"k-chip-label","k-text-ellipsis"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(t,i){t&1&&(zi(),h(0,Xo,10,22,"div",2),Ki(1)),t&2&&a("ngForOf",i.tags)},dependencies:[Bt,Xe,Ne,Re,Ue],encapsulation:2})}return n})(),ll={multi:!0,provide:Ze,useExisting:V(()=>Ri)},dl="medium",ul="medium",pl="solid",Ri=(()=>{class n{wrapper;localization;popupService;dataService;selectionService;navigationService;disabledItemsService;cdr;differs;renderer;_zone;injector;hostElement;adaptiveService;animationDuration=ut;xIcon=mt;listBoxId=`k-${B()}`;tagListId=`k-${B()}`;tagPrefix="tag-"+B();optionPrefix="option-"+B();popupRef;text;tags;focusedTagIndex=void 0;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return Qt(this.formControl)}get formControl(){return this.injector.get(Ye,null)?.control||null}focusItemAt(e){let i=(this.allowCustom?-1:0)<=0&&e<this.data.length;p(e)&&i&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}handleInputFocus(){this.handleFocus(),k(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}blur(){this.disabled||this.searchbar.blur()}handleFocus(){this._zone.run(()=>{!this.isFocused&&k(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;k(this.inputBlur)||k(this.filterChange)||k(this.close)||ze(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.inputBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}onPointerDown(e){e.preventDefault()}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.width;t.style.minWidth=i,t.style.width=s}}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}showStickyHeader=!0;focusableId=`k-${B()}`;autoClose=!0;loading;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){let e=this.virtual;if(e){let t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}valueField;textField;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){let t=e||dl;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||ul;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){let t=e||pl;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}set placeholder(e){this._placeholder=e||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set checkboxes(e){this._checkboxes=al(e)}get checkboxes(){return this._checkboxes}readonly=!1;filterable=!1;set virtual(e){this._virtualSettings=ai(e)}get virtual(){return this._virtualSettings}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return p(this._valuePrimitive)?this._valuePrimitive:!p(this.valueField)}clearButton=!0;tagMapper=e=>e||[];allowCustom=!1;valueNormalizer=e=>e.pipe(me(t=>{let i=l=>typeof l=="string"&&t.toLowerCase()===l.toLowerCase(),s=this.value.find(i);if(s)return s;let o=this.dataService.find(i);return o||t}));inputAttributes;filterChange=new g;valueChange=new g;open=new g;opened=new g;close=new g;closed=new g;onFocus=new g;onBlur=new g;inputFocus=new g;inputBlur=new g;removeTag=new g;container;searchbar;tagList;popupTemplate;optionsList;template;customItemTemplate;groupTemplate;fixedGroupTemplate;headerTemplate;footerTemplate;tagTemplate;groupTagTemplate;noDataTemplate;suffixTemplate;prefixTemplate;hostClasses=!0;get dir(){return this.direction}get disabledClass(){return this.disabled}get isLoading(){return this.loading}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}applyValue(){if(!this.isActionSheetExpanded)return;!(this.value.every(t=>this._valueHolder.find(i=>t===i))&&this._valueHolder.length===this.value.length)&&(this.value=this._valueHolder,this._valueHolder=[],this.emitValueChange()),this.clearFilter(),this.togglePopup(!1),this.allowCustom&&this.isCustomValueSelected&&(this.isCustomValueSelected=!1)}disabledIndices;initialized=!1;_size="medium";_rounded="medium";_fillMode="solid";_valueHolder=[];isCustomValueSelected=!1;constructor(e,t,i,s,o,l,f,D,w,M,X,ie,je,_e){this.wrapper=e,this.localization=t,this.popupService=i,this.dataService=s,this.selectionService=o,this.navigationService=l,this.disabledItemsService=f,this.cdr=D,this.differs=w,this.renderer=M,this._zone=X,this.injector=ie,this.hostElement=je,this.adaptiveService=_e,kt(oi),this.popupPointerDownHandler=this.onPointerDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get listContainerClasses(){let e=["k-list-container","k-multiselect-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get customItemSizeClass(){let e=this.isAdaptive?"large":this.size;return`${e?L("list",e):""}`}get width(){let e=0;U()&&(e=this.wrapper.nativeElement.offsetWidth);let t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get height(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}get activeDescendant(){let e=this.focusedTagIndex,t=this.selectionService.focused,i,s;if(p(e)&&!this.isOpen)s=e,i=this.tagPrefix;else if(p(t)&&t!==-1&&this.isOpen)s=t,i=this.optionPrefix;else return null;return i+"-"+s}get clearButtonVisibility(){if(Se)return"visible"}verifySettings(){if(!Je()||this.value.length===0)return;if(!Y(this.value))throw new Error(Jt.array);if(this.valuePrimitive===!0&&Yt(this.value))throw new Error(Jt.primitive);if(this.valuePrimitive===!1&&!Yt(this.value))throw new Error(Jt.object);if(!p(this.valueField)!=!p(this.textField))throw new Error(Jt.textAndValue)}change(e){if(e.isMultipleSelection)p(e.added)&&e.added.length>0&&e.added.forEach(t=>{let i=this.dataService.itemAt(t),s=this.valuePrimitive&&p(i)&&p(E(i,this.valueField))?E(i,this.valueField):i;s&&(!this.isAdaptive||!this.isActionSheetExpanded?this.value=[...this.value,s]:this._valueHolder=[...this._valueHolder,s])}),p(e.removed)&&e.removed.length>0&&(e.removed.forEach(t=>{let i=this.dataService.itemAt(t),s=o=>E(o,this.valueField)!==E(i,this.valueField);!this.isAdaptive||!this.isActionSheetExpanded?this.value=this.value.filter(s):this._valueHolder=this._valueHolder.filter(s)}),this.cdr.detectChanges());else{if((p(e.added)||p(e.removed))&&(e.added===-1||e.removed===-1)){this.addCustomValue(this.text);return}if(p(e.added)){let i=this.dataService.itemAt(e.added),s=this.valuePrimitive&&p(i)&&p(E(i,this.valueField))?E(i,this.valueField):i;!this.isAdaptive||!this.isActionSheetExpanded?this.value=[...this.value,s]:this._valueHolder=[...this._valueHolder,s]}if(p(e.removed)){let i=this.dataService.itemAt(e.removed),s=o=>E(o,this.valueField)!==E(i,this.valueField);!this.isAdaptive||!this.isActionSheetExpanded?this.value=this.value.filter(s):this._valueHolder=this._valueHolder.filter(s),this.selectionService.focused=e.removed,this.cdr.detectChanges()}}(!this.isAdaptive||!this.isActionSheetExpanded)&&this.emitValueChange()}setState(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(s=>!s.header).map(s=>s.value));let i=Di(this.value,t,this.valueField);this.selectionService.resetSelection(i),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&this.selectionService.focused===void 0&&(this.dataService.itemsCount>0?(this.selectionService.focused=this.firstFocusableIndex(0),this.allowCustom&&(this.selectionService.focused=0)):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(Yt(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=za(e,t,this.valueField)),this.selectedDataItems.length<e.length&&(this.selectedDataItems=e.map(s=>{let o=this.selectedDataItems.find(l=>E(l,this.valueField)===E(s,this.valueField));return p(o)?o:this.resolveDataItemFromTags(s)}).filter(s=>p(s))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(e){this.isActionSheetExpanded&&this.allowCustom&&this.isCustomValueSelected&&(this.addCustomValue(this.text),this.addCustomValue(e)),this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}pageChange(e){let t=this.virtual;t.skip=e.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(e){let t=Ie(e),i=this.text&&t!==O.ArrowDown&&t!==O.ArrowUp,s=this.text&&t===O.Enter||t===O.Escape,o=!this.text&&t===O.Backspace&&this.tags.length>0;if(t===O.Backspace&&this.isActionSheetExpanded)return;if(o){this.handleBackspace();return}if(this.disabled||i&&!s)return;let l=e,f=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,D=this.navigationService.process({current:f,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:l});D!==A.Undefined&&(D===A.Enter&&this.isOpen||D!==A.Enter)&&!this.isActionSheetExpanded&&D===A.Tab&&e.preventDefault()}handleRemoveTag({tag:e}){let t=new ni(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(t),!t.isDefaultPrevented()&&(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}clearAll(e){e?.stopImmediatePropagation(),e?.preventDefault(),this.focus(),this.clearFilter(),this.selectionService.lastClickedIndex=null;let t=this.selectionService.selected;this.value=this.value.filter((i,s)=>this.disabledItemsService.isIndexDisabled(t[s])),this.emitValueChange()}addCustomValue(e){this.customValueSubject.next(e)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.createCustomValueStream(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setState(this.value),this.setComponentClasses(),this.initialized=!0}ngOnChanges(e){let t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Ae("valueNormalizer",e)&&this.createCustomValueStream(),et(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges(),this.searchbar.setInputSize(),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"mousedown",this.handleMousedown.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this._zone.onStable.pipe($e(1)).subscribe(()=>{let e=this.searchbar.input.nativeElement.getAttribute("aria-labelledby")||this.searchbar.input.nativeElement.getAttribute("data-kendo-label-id");e&&this.renderer.setAttribute(this.tagList.hostElement.nativeElement,"aria-labelledby",e)})}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents()}toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return Ot(this._open||this.isActionSheetExpanded)}reset(){this.text="",this.value=[]}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}onChangeCallback=e=>{};onTouchedCallback=e=>{};_placeholder="";_open=!1;_value=[];_popupSettings={animate:!0};_virtualSettings;_valuePrimitive;_checkboxes={enabled:!1};_isFocused=!1;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}selectedDataItems=[];popupPointerDownHandler;isOpenPrevented=!1;customValueSubject=new Qe;customValueSubscription;subs=new we;touchstartDisposeHandler;direction;differ;valueChangeDetected;subscribeEvents(){if(!U())return;let e=()=>this.isOpen,t=()=>!this.isOpen,i=()=>!this.isOpen&&this.focusedTagIndex!==void 0;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(()=>{this.isOpen?this.closePopup():this.isFocused&&this.selectedDataItems.length>0&&this.clearAll()}),this.navigationService.enter.pipe(G(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(G(e)).subscribe(s=>this.handleUp(s.index)),this.navigationService.home.pipe(G(()=>t)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(G(()=>t)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(G(i)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(G(i)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.direction==="rtl"?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.direction==="rtl"?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(s=>this.handleDownKey(s.index)),this.navigationService.selectprevious.pipe(G(e)).subscribe(s=>this.handleSelectUpDown(s)),this.navigationService.selectnext.pipe(G(e)).subscribe(s=>this.handleSelectUpDown(s)),this.navigationService.selectalltobeginning.pipe(G(e)).subscribe(()=>this.handleSelectAllToBeginning()),this.navigationService.selectalltoend.pipe(G(e)).subscribe(()=>this.handleSelectAllToEnd()),re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(s=>{if(this.isOpen){s.originalEvent.preventDefault();let o=Ie(s.originalEvent);this.optionsList.scrollWithOnePage(A[o])}})].forEach(s=>this.subs.add(s))}subscribeTouchEvents(){!U()||!Se||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let t=e.target;(this.isFocused||this.isOpen)&&!Pt(this.wrapper,t,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){U()&&(this.subs.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(s=>!s.header).map(s=>s.value));let i=new Set(e.map(s=>E(s,this.valueField)));this.value=this.value.filter(s=>{let o=Di([s],t,this.valueField)[0],l=this.disabledItemsService.isIndexDisabled(o);return!i.has(E(s,this.valueField))||l}),this.emitValueChange()}removeSingleTag(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(s=>!s.header).map(s=>s.value));let i=Di([e],t,this.valueField)[0];if(!this.disabledItemsService.isIndexDisabled(i))if(Pa(i))this.selectionService.deselect(i),this.selectionService.focused=i,this.togglePopup(!1);else{let s=o=>E(o,this.valueField)!==E(e,this.valueField);this.value=this.value.filter(s),this.emitValueChange()}}disabledItemsMapper(){let{selected:e}=this.selectionService;return new Set(this.selectedDataItems.reduce((t,i,s)=>(this.disabledItemsService.isIndexDisabled(e[s])&&t.push(s),t),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(ne(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,hi(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),Tt(null)))).subscribe(e=>{if(this.loading=!1,this.disabled=!1,p(e)){let t=this.valuePrimitive?E(e,this.valueField):e,i=this.dataService.indexOf(t),s=i===-1;this.value.indexOf(t)===-1?(!this.isActionSheetExpanded&&(this.tags=this.tagMapper([...this.selectedDataItems,e])),s?this.isActionSheetExpanded?this._valueHolder.some(l=>E(l,this.valueField)===t)?(this._valueHolder=this._valueHolder.filter(l=>E(l,this.valueField)!==t),this.isCustomValueSelected=!1):(this._valueHolder=[...this._valueHolder,t],this.isCustomValueSelected=!0):this.value=[...this.value,t]:this.selectionService.add(i)):!s&&this.selectionService.isSelected(i)?(this.selectionService.deselect(i),this.selectionService.focused=i):this.isActionSheetExpanded?(this._valueHolder=this._valueHolder.filter(o=>E(o,this.valueField)!==t),this.isCustomValueSelected=!1):this.value=this.value.filter(o=>E(o,this.valueField)!==t),!this.isActionSheetExpanded&&this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&!this.isActionSheetExpanded&&this.clearFilter(),this.isActionSheetExpanded||this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(e){this.change(e),this.autoClose&&!e.preventClosingPopup&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&!this.isActionSheetExpanded&&this.clearFilter()}handleMousedown(e){if(!(e.target.closest(".k-input-prefix")||e.target.closest(".k-input-suffix"))&&!this.isActionSheetExpanded){let t=this.searchbar.input.nativeElement;if(e.button===0){if(this.isFocused&&(this.isOpen||this.isOpenPrevented)&&e.target===t||((!Se||Se&&e.target.tagName!=="SPAN")&&this.searchbar.focus(),this.popupRef&&this.popupRef.popupElement.contains(e.target)))return;e.preventDefault(),this.togglePopup(!this.isOpen)}}}handleKeydown(e){this.isFocused&&this.isOpen&&(e.ctrlKey||e.metaKey)&&e.code===O.KeyA&&(e.preventDefault(),this.handleSelectAll())}handleEnter(e){let t=this.selectionService,i=this.selectionService.focused;if(this.selectionService.lastClickedIndex=i,this.isOpen&&e.originalEvent.preventDefault(),i===-1){this.allowCustom&&this.text&&this.addCustomValue(this.text);return}t.isSelected(i)?(t.deselect(i),t.focused=i):t.add(i),this.autoClose&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}sortSelectionAscending(){return this.selectionService.selected.sort((e,t)=>e-t)}handleSelectAll(){let e=this.selectionService.selected.length,t=this.dataService.data.length,i=this.dataService.data.filter(s=>!s.header).length;!this.dataService.grouped&&e===t||this.dataService.grouped&&e===i?this.clearAll():(this.selectionService.selectFromTo(0,t-1),this.selectionService.emitMultipleAddedRemoved())}handleSelectAllToBeginning(){let e=this.selectionService.selected.length,t=this.dataService.data.length,i=this.selectionService.focused,s=this.sortSelectionAscending()[e-1];e!==t&&(this.selectionService.unselectFromTo(s,i+1),this.selectionService.selectFromTo(0,i)),this.nextTick(()=>this.selectionService.focus(0)),this.selectionService.emitMultipleAddedRemoved()}handleSelectAllToEnd(){let e=this.selectionService.selected.length,t=this.dataService.data.length,i=this.selectionService.focused;if(e!==t&&(this.selectionService.unselectFromTo(i-1,0),this.selectionService.selectFromTo(i,t-1)),this.dataService.grouped){let s=this.dataService.groupIndices[this.dataService.groupIndices.length-1]-1;this.nextTick(()=>this.selectionService.focus(s))}else this.nextTick(()=>this.selectionService.focus(t-1));this.selectionService.emitMultipleAddedRemoved()}handleSelectUpDown(e){let t=this.selectionService.focused;if(!p(t))return;let i;e.originalEvent.key==="ArrowUp"?i=t>0?t-1:t:i=t<this.dataService.data.length-1?t+1:t,p(this.selectionService.lastClickedIndex)||(this.selectionService.lastClickedIndex=t),this.selectRangeFromTo(i)}selectRangeFromTo(e){let t=this.selectionService.lastClickedIndex;t>e?(this.selectionService.unselectNotNeededIndices(e,t,this.dataService.data.length),this.selectionService.selectFromTo(e,this.selectionService.lastClickedIndex),this.selectionService.emitMultipleAddedRemoved()):(this.selectionService.unselectNotNeededIndices(t,e,this.dataService.data.length),this.selectionService.selectFromTo(t,e),this.selectionService.emitMultipleAddedRemoved()),this.nextTick(()=>this.selectionService.focus(e))}handleUp(e){this.selectionService.focused=e}handleBackspace(){this.focusedTagIndex!==void 0?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){this.focusedTagIndex===void 0||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:this.focusedTagIndex!==0&&this.focusedTagIndex--}handleDownKey(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){let e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}findIndex(e,t=0){let i;e=e.toLowerCase();let s=this.dataService.findIndex(o=>(this.dataService.grouped?i=E(o.value,this.textField):i=E(o,this.textField),i=p(i)?i.toString().toLowerCase():"",e&&i.startsWith(e)),t);return this.disabledItemsService.isIndexDisabled(s)?s+1>this.dataService.itemsCount?-1:this.findIndex(e,s+1):s}searchTextAndFocus(e){let t=this.findIndex(e);this.selectionService.focused=t}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(t||i)return;let s=this.triggerPopupEvents(e);e&&(this.isOpenPrevented=s),s||this._toggle(e)}triggerPopupEvents(e){let t=new Ke;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.closed.emit(),this.isFocused=!1),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("pointerdown",this.popupPointerDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:t,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:i,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute"});let o=this.popupRef.popupElement,{min:l,max:f}=this.width;this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),o.addEventListener("pointerdown",this.popupPointerDownHandler),o.style.minWidth=l,o.style.width=f,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(e){return this.tags&&this.tags.length&&p(e)?this.tags.reduce((i,s)=>{let o=Y(s)?s:[s];return i.push(...o),i},[]).find(i=>E(i,this.valueField)===E(e,this.valueField)):void 0}firstFocusableIndex(e){let t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){let i=e+1;return i<t?this.firstFocusableIndex(i):void 0}else return e}nextTick(e){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(e))})}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}openActionSheet(){this.actionSheet.toggle(!0),this._valueHolder=[...this.value],this.cdr.detectChanges(),this.dataService.grouped||lt(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Nt(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this.isFocused&&(this.isFocused=!1,k(this.onBlur)||k(this.filterChange)||k(this.close)||ze(this.wrapper.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup()))}static \u0275fac=function(t){return new(t||n)(c(Z),c(Q),c(ot),c(ce),c(oe),c(he),c(se),c(Oe),c(ji),c(ge),c(fe),c(Le),c(Z),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-multiselect"]],contentQueries:function(t,i,s){if(t&1&&(N(s,Be,5),N(s,Ln,5),N(s,He,5),N(s,We,5),N(s,be,5),N(s,Ee,5),N(s,di,5),N(s,ui,5),N(s,De,5),N(s,nt,5),N(s,it,5)),t&2){let o;C(o=b())&&(i.template=o.first),C(o=b())&&(i.customItemTemplate=o.first),C(o=b())&&(i.groupTemplate=o.first),C(o=b())&&(i.fixedGroupTemplate=o.first),C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.tagTemplate=o.first),C(o=b())&&(i.groupTagTemplate=o.first),C(o=b())&&(i.noDataTemplate=o.first),C(o=b())&&(i.suffixTemplate=o.first),C(o=b())&&(i.prefixTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(wt,7,pt),I(vt,7),I(xi,7),I(xt,7),I(si,5)),t&2){let s;C(s=b())&&(i.adaptiveRendererComponent=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.searchbar=s.first),C(s=b())&&(i.tagList=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.optionsList=s.first)}},hostVars:11,hostBindings:function(t,i){t&2&&(y("dir",i.dir),xe("k-readonly",i.readonly)("k-multiselect",i.hostClasses)("k-input",i.hostClasses)("k-disabled",i.disabledClass)("k-loading",i.isLoading))},inputs:{showStickyHeader:"showStickyHeader",focusableId:"focusableId",autoClose:"autoClose",loading:"loading",data:"data",value:"value",valueField:"valueField",textField:"textField",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",disabled:"disabled",itemDisabled:"itemDisabled",checkboxes:"checkboxes",readonly:"readonly",filterable:"filterable",virtual:"virtual",popupSettings:"popupSettings",listHeight:"listHeight",valuePrimitive:"valuePrimitive",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",inputAttributes:"inputAttributes"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[Te([ll,ce,oe,he,se,Q,{provide:st,useValue:"kendo.multiselect"},{provide:dt,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)}]),q],decls:20,vars:43,consts:()=>{let e;e=$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.multiselect.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.multiselect.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let s;s=$localize`:kendo.multiselect.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode.:Close`;let o;return o=$localize`:kendo.multiselect.useCustomValueText|The text displayed when the user types a custom value that is not in the list of options.:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["useCustomValueText",o],["kendoMultiSelectLocalizedMessages","","noDataText",e,"clearTitle",t,"popupLabel",i,"adaptiveCloseButtonTitle",s,6,"useCustomValueText"],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-values"],[3,"removeTag","size","rounded","fillMode","id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaControls","ariaExpanded","id","tagListId","isLoading","isFilterable","activeDescendant","userInput","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"mousedown"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","multipleSelection","virtual","checkboxes","isMultiselect","isActionSheetExpanded","showStickyHeader","customItemTemplate","text","allowCustom"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(t,i){if(t&1){let s=T();de(0,5),Gi(1,4),ue(),de(2,6),_t("isFocusedChange",function(l){return _(s),ht(i.isFocused,l)||(i.isFocused=l),m(l)}),x("handleBlur",function(){return _(s),m(i.handleBlur())})("onFocus",function(){return _(s),m(i.handleFocus())}),h(3,Yo,2,1,"span",7)(4,er,1,0,"kendo-separator",8),v(5,"div",9)(6,"kendo-taglist",10),x("removeTag",function(l){return _(s),m(i.handleRemoveTag(l))}),S(),v(7,"input",11),x("onNavigate",function(l){return _(s),m(i.handleNavigate(l))})("valueChange",function(l){return _(s),m(i.handleFilter(l))})("onBlur",function(){return _(s),m(i.handleInputBlur())})("onFocus",function(){return _(s),m(i.handleInputFocus())})("click",function(){return _(s),m(i.handleClick())}),S()(),h(8,tr,2,4,"span",12)(9,ir,1,0,"span",13)(10,nr,1,0,"kendo-separator",8)(11,or,2,1,"span",14),ue(),h(12,ar,1,1,"ng-template",null,0,$)(14,lr,1,0,"kendo-resize-sensor",15),H(15,null,1),v(17,"kendo-adaptive-renderer",16),x("closePopup",function(){return _(s),m(i.applyValue())})("textInputChange",function(l){return _(s),m(i.handleFilter(l))})("navigate",function(l){return _(s),m(i.handleNavigate(l))}),S(),h(18,fr,5,24,"ng-template",null,2,$)}if(t&2){let s=z(19);Ui('Use "{customValue}"'),Vi(1),d(2),a("hostElement",i.hostElement),ct("isFocused",i.isFocused),d(),a("ngIf",i.prefixTemplate),d(),a("ngIf",i.prefixTemplate&&i.prefixTemplate.showSeparator),d(2),a("size",i.size)("rounded",i.rounded)("fillMode",i.fillMode)("id",i.tagListId)("tags",i.tags)("textField",i.textField)("valueField",i.valueField)("focused",i.focusedTagIndex)("disabled",i.disabled)("template",i.tagTemplate)("groupTemplate",i.groupTagTemplate)("tagPrefix",i.tagPrefix)("disabledIndices",i.disabledIndices),d(),a("ariaControls",i.ariaControls)("ariaExpanded",i.isOpen)("id",i.focusableId)("tagListId",i.tagListId)("isLoading",i.loading)("isFilterable",i.filterable)("activeDescendant",i.activeDescendant)("userInput",i.text)("disabled",i.disabled)("readonly",i.readonly||i.isAdaptive)("tabIndex",i.tabIndex)("isRequired",i.isControlRequired)("placeholder",i.placeholder)("inputAttributes",i.inputAttributes),d(),a("ngIf",!i.loading&&!i.readonly&&i.clearButton&&((i.tags==null?null:i.tags.length)||(i.text==null?null:i.text.length))),d(),a("ngIf",i.loading),d(),a("ngIf",i.suffixTemplate&&i.suffixTemplate.showSeparator),d(),a("ngIf",i.suffixTemplate),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",!0)("subtitle",i.adaptiveSubtitle)("placeholder",i.placeholder)("searchBarValue",i.text)}},dependencies:[St,li,Ne,Fe,Ge,xi,vt,Ue,Pe,Ce,Re,Gt],encapsulation:2})}return n})(),Pn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoMultiColumnComboBoxColumnCellTemplate",""]]})}return n})(),Gn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoMultiColumnComboBoxColumnHeaderTemplate",""]]})}return n})(),Un=(()=>{class n{cellTemplate;headerTemplate;field;title;width;hidden=!1;style;headerStyle;class;headerClass;media;matchesMedia=!0;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["kendo-combobox-column"]],contentQueries:function(t,i,s){if(t&1&&(N(s,Pn,5),N(s,Gn,5)),t&2){let o;C(o=b())&&(i.cellTemplate=o.first),C(o=b())&&(i.headerTemplate=o.first)}},inputs:{field:"field",title:"title",width:"width",hidden:"hidden",style:"style",headerStyle:"headerStyle",class:"class",headerClass:"headerClass",media:"media"},decls:0,vars:0,template:function(t,i){},encapsulation:2})}return n})(),Ai,Oi=()=>{if(isNaN(Ai)){let n=document.createElement("div");n.style.cssText="overflow: scroll; overflow-x: hidden; zoom: 1; clear: both; display: block;",n.innerHTML="&nbsp;",document.body.appendChild(n),Ai=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return Ai},cl=n=>!p(n)||n.length===0?!1:n.toArray().every(r=>!isNaN(r.width)&&r.width>0),hl=n=>{if(!cl(n))return null;let e=Oi()+2;return n.reduce((t,i)=>(!i.hidden&&i.matchesMedia&&(t+=parseInt(i.width,10)),t),e)},_l=(()=>{class n extends Ii{hostElement;animationDuration=ut;hostClasses=!0;get isDisabled(){return this.disabled}columns;set header(e){this.updateHeaderPadding(e&&e.nativeElement)}set headerTable(e){this._headerTable=e,this.headerTable&&this.zone.onStable.pipe($e(1)).subscribe(()=>{this.rowWidth=this.calculateRowWidth()})}get headerTable(){return this._headerTable}set headerColumns(e){this.zone.onStable.pipe($e(1)).subscribe(()=>{this.headerColumnWidths=e.map(t=>t.nativeElement.offsetWidth)})}rowWidth;headerColumnWidths=[];totalColumnsWidth;get popupWidth(){let e=this.wrapper.nativeElement.offsetWidth,t=`${e}px`,i=this.popupSettings.width||hl(this.columns)||e,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}_headerTable;removeWindowResizeListener=gt;columnsChangeSubscription=new we;get tableSizeClass(){return`${this.size?L("table",this.size):""}`}get listContainerClasses(){return["k-popup","k-dropdowngrid-popup"].concat(this.popupSettings.popupClass||[])}constructor(e,t,i,s,o,l,f,D,w,M,X,ie,je){super(M,e,t,i,s,o,l,f,D,w,X,ie,je),this.hostElement=ie,this.defaultVirtualItemHeight=36,this.defaultVirtualPageSize=30}ngAfterViewInit(){this.updateColumnsMediaState(),this.addWindowResizeListener(),this.windowSize=this.adaptiveService.size,this.rowWidth=this.calculateRowWidth(),this.totalColumnsWidth=this.columns.reduce((e,t)=>e+t.width,0),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>{this.rowWidth=this.calculateRowWidth(),this.totalColumnsWidth=this.columns.reduce((e,t)=>e+t.width,0)}),this.cdr.detectChanges()}ngOnDestroy(){super.ngOnDestroy(),this.removeWindowResizeListener(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe()}textFrom(e,t){return E(e,t)}updateHeaderPadding(e){if(!p(e))return;let t=this.localization.rtl?"padding-left":"padding-right";this.optionsList.hasScrollbar()&&Oi()>0?this.renderer.setStyle(e,t,`${Oi()}px`):this.renderer.removeStyle(e,t)}getColumnWidth(e){return this.virtual?this.headerColumnWidths[e]:this.columns.get(e).width}verifySettings(){if(Je()){if(p(this.data)&&this.data.length>0&&this.data.some(e=>!ft(e)))throw new Error(bn.data);if(!p(this.valueField)||!p(this.textField))throw new Error(bn.textAndValue);super.verifySettings()}}addWindowResizeListener(){U()&&this.zone.runOutsideAngular(()=>this.removeWindowResizeListener=this.renderer.listen(window,"resize",this.updateColumnsMediaState.bind(this)))}updateColumnsMediaState(){!(p(this.columns)&&U())||this.isActionSheetExpanded||this.columns.forEach(e=>{let t=!e.media||window.matchMedia(e.media).matches;e.matchesMedia!==t&&(e.matchesMedia=t,this.isOpen&&this.zone.run(()=>this.popupRef.popupElement.style.width=this.popupWidth.max))})}calculateRowWidth(){if(!(this.isActionSheetExpanded||!this.virtual))return this.headerTable?.nativeElement.offsetWidth}static \u0275fac=function(t){return new(t||n)(c(Q),c(ot),c(oe),c(he),c(se),c(ce),c(fe),c(Oe),c(ge),c(Z),c(Le),c(Z),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-multicolumncombobox"]],contentQueries:function(t,i,s){if(t&1&&N(s,Un,4),t&2){let o;C(o=b())&&(i.columns=o)}},viewQuery:function(t,i){if(t&1&&(I(gr,5),I(vr,5),I(Sr,5)),t&2){let s;C(s=b())&&(i.header=s.first),C(s=b())&&(i.headerTable=s.first),C(s=b())&&(i.headerColumns=s)}},hostVars:4,hostBindings:function(t,i){t&2&&xe("k-dropdowngrid",i.hostClasses)("k-disabled",i.isDisabled)},features:[Te([oe,ce,he,se,Q,{provide:st,useValue:"kendo.multicolumncombobox"},{multi:!0,provide:Ze,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)},{provide:dt,useExisting:V(()=>n)},{provide:$t,useExisting:V(()=>n)}]),ve],decls:20,vars:38,consts:()=>{let e;e=$localize`:kendo.multicolumncombobox.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.multicolumncombobox.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.multicolumncombobox.selectButtonText|The title of the select button:Select`;let s;s=$localize`:kendo.multicolumncombobox.popupLabel|The label of the popup element that contains the list of options
                when its role is 'region':Options list`;let o;return o=$localize`:kendo.multicolumncombobox.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["header",""],["headerWrap",""],["headerTable",""],["rowTemplate",""],["optionsList",""],["columnHeader",""],["kendoMultiColumnComboBoxLocalizedMessages","","noDataText",e,"clearTitle",t,"selectButtonText",i,"popupLabel",s,"adaptiveCloseButtonTitle",o],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaControls","ariaExpanded","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-data-table",3,"ngClass"],[1,"k-table-header"],[1,"k-table-header-wrap"],["role","presentation",1,"k-table"],[4,"ngFor","ngForOf"],[1,"k-table-thead"],[1,"k-table-row"],[3,"pageChange","listResize","popupListScroll","optionPrefix","data","size","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","id","virtual","type","rowWidth","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[3,"width",4,"ngIf"],["class","k-table-th",3,"ngStyle","ngClass",4,"ngIf"],[1,"k-table-th",3,"ngStyle","ngClass"],["class","k-table-td",3,"ngClass","width","max-width","ngStyle",4,"ngIf"],[1,"k-table-td",3,"ngClass","ngStyle"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"],[1,"k-table-footer"],[1,"k-table"],[1,"k-table-tfoot"],[1,"k-table-td"]]},template:function(t,i){if(t&1){let s=T();H(0,10),de(1,11),_t("isFocusedChange",function(l){return _(s),ht(i.isFocused,l)||(i.isFocused=l),m(l)}),x("handleBlur",function(){return _(s),m(i.handleBlur())})("onFocus",function(){return _(s),m(i.handleFocus())}),h(2,Dr,2,1,"span",12)(3,Ar,1,0,"kendo-separator",13),v(4,"input",14),x("onNavigate",function(l){return _(s),m(i.handleNavigate(l))})("valueChange",function(l){return _(s),m(i.searchBarChange(l))})("onBlur",function(){return _(s),m(i.handleInputBlur())})("onFocus",function(){return _(s),m(i.handleInputFocus())})("click",function(){return _(s),m(i.handleClick())}),S(),h(5,wr,2,7,"span",15)(6,xr,1,0,"span",16)(7,Or,1,0,"kendo-separator",13)(8,Ir,2,1,"span",17),v(9,"button",18,0),P(11,"kendo-icon-wrapper",19),S(),ue(),h(12,Rr,1,1,"ng-template",null,1,$)(14,kr,1,0,"kendo-resize-sensor",20),H(15,null,2),v(17,"kendo-adaptive-renderer",21),x("closePopup",function(){return _(s),m(i.closeActionSheet())})("textInputChange",function(l){return _(s),m(i.searchBarChange(l))})("navigate",function(l){return _(s),m(i.handleNavigate(l))}),S(),h(18,Yr,19,23,"ng-template",null,3,$)}if(t&2){let s=z(19);d(),a("hostElement",i.hostElement),ct("isFocused",i.isFocused),d(),a("ngIf",i.prefixTemplate),d(),a("ngIf",i.prefixTemplate&&i.prefixTemplate.showSeparator),d(),a("ariaControls",i.ariaControls)("ariaExpanded",i.isOpen)("id",i.focusableId)("isLoading",i.loading)("isSuggestable",i.suggest)("isFilterable",i.filterable)("activeDescendant",i.activeDescendant)("userInput",i.text)("suggestedText",i.getSuggestion())("disabled",i.disabled)("readonly",i.readonly)("tabIndex",i.tabIndex)("isRequired",i.isControlRequired)("placeholder",i.placeholder)("inputAttributes",i.inputAttributes),d(),a("ngIf",i.clearButton&&!i.loading&&!i.disabled&&(!i.readonly||i.readonly&&i.isAdaptiveModeEnabled&&i.windowSize!=="large")&&(i.text==null?null:i.text.length)),d(),a("ngIf",i.loading),d(),a("ngIf",i.suffixTemplate&&i.suffixTemplate.showSeparator),d(),a("ngIf",i.suffixTemplate),d(),a("ngClass",i.selectButtonClasses)("kendoEventsOutsideAngular",R(36,Ft,i.preventEventDefault)),y("aria-label",i.messageFor("selectButtonText"))("disabled",i.disabled?"":null),d(2),a("name",i.icon||"caret-alt-down")("svgIcon",i.svgIcon||i.caretAltDownIcon),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",!0)("subtitle",i.adaptiveSubtitle)("placeholder",i.placeholder)("searchBarValue",i.text)}},dependencies:[St,li,Ne,Fe,Ge,vt,Dt,Ue,Xe,Pe,Ce,Re,Bt,vi,Gt],encapsulation:2})}return n})(),pi=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(c(ae))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownTreeNodeTemplate",""],["","kendoMultiSelectTreeNodeTemplate",""]]})}return n})(),En={animate:!0},ml=()=>!1,fl=()=>Tt([]),gl=()=>!1,vl=()=>!0,Sl="medium",Cl="medium",bl="solid",Dn=n=>n.stopImmediatePropagation(),El=(()=>{class n{injector;wrapper;popupService;navigationService;renderer;_zone;cdr;localization;adaptiveService;icon;svgIcon;touchEnabled=Se;animationDuration=ut;searchIcon=Wt;caretAltDownIcon=Ht;xIcon=mt;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}hostClasses=!0;get isReadonly(){return this.readonly?"":null}get hostAriaInvalid(){return this.formControl?.invalid?!0:null}get isDisabled(){return this.disabled||null}get isLoading(){return this.loading}get isBusy(){return this.loading?"true":null}get hostAriaControls(){return this.isOpen?this.treeViewId:void 0}get id(){return this.focusableId}direction;get hostTabIndex(){return this.tabindex}role="combobox";ariaHasPopup="tree";get isAriaExpanded(){return this.isOpen}get hostAriaAutocomplete(){return this.filterable?"list":null}noDataTemplate;headerTemplate;footerTemplate;nodeTemplate;valueTemplate;popupTemplate;container;set treeview(e){e&&((this.isFocused&&!this.filterable||this.touchEnabled)&&e.focus(),e.animate=!0,this._treeview=e)}get treeview(){return this._treeview}filterInput;open=new g;opened=new g;close=new g;closed=new g;nodeExpand=new g;nodeCollapse=new g;onFocus=new g;onBlur=new g;valueChange=new g;filterChange=new g;loading;clearButton=!0;set data(e){this._nodes=e,this.setState()}get data(){return this._nodes}set value(e){this._value=e,this.setState()}get value(){return this._value}textField;valueField;valueDepth;hasChildren=ml;fetchChildren=fl;placeholder="";set popupSettings(e){this._popupSettings=Object.assign({},En,e)}get popupSettings(){return this._popupSettings}set dataItem(e){this._dataItem=e,this.setState()}get dataItem(){return this._dataItem?this._dataItem:this.value}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;disabled=!1;readonly=!1;valuePrimitive=!1;set tabindex(e){let t=Number(e),i=0;this._tabindex=isNaN(t)?i:t}get tabindex(){return this.disabled?-1:this._tabindex}set size(e){let t=e||Sl;this.renderer.removeClass(this.wrapper.nativeElement,L("picker",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||Cl;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){let t=e||bl;this.renderer.removeClass(this.wrapper.nativeElement,J("picker",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",t)),this._fillMode=t}get fillMode(){return this._fillMode}itemDisabled=gl;isNodeExpanded;isNodeVisible=vl;loadOnDemand=!0;filterable=!1;filter="";focusableId=`k-${B()}`;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}get width(){let e=this.wrapper.nativeElement.offsetWidth,t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get height(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}get isOpen(){return Ot(p(this.popupRef)||this.isActionSheetExpanded)}get clearButtonVisibility(){if(this.touchEnabled)return"visible"}get isFilterActive(){return this.filterInput&&document.activeElement===this.filterInput.nativeElement}popupRef;selectedKeys=[];selectBy;text;onFilterChange(e){this.filterable&&this.filterChange.emit(e)}adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle="";get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}set isExpanded(e){this.isNodeExpanded=e}get isExpanded(){return this.isNodeExpanded}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set nodes(e){this.data=e}get nodes(){return this.data}set children(e){this.fetchChildren=e}get children(){return this.fetchChildren}set isVisible(e){this.isNodeVisible=e}get isVisible(){return this.isNodeVisible}filterStateChange=new g;allNodesHidden=!1;valueLabelId=`k-${B()}`;get formControl(){return this.injector.get(Ye,null)?.control||null}treeViewId=`k-${B()}`;_nodes;_value;_popupSettings=En;_tabindex=0;_isFocused=!1;_dataItem;_treeview;_size="medium";_rounded="medium";_fillMode="solid";_searchableNodes=[];_typedValue="";printableCharacters=new Qe;subs=new we;touchstartDisposeHandler;lastNodeOnFocus;constructor(e,t,i,s,o,l,f,D,w){this.injector=e,this.wrapper=t,this.popupService=i,this.navigationService=s,this.renderer=o,this._zone=l,this.cdr=f,this.localization=D,this.adaptiveService=w,this.direction=D.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents()}ngOnInit(){this.subs.add(this.printableCharacters.pipe(ne(e=>{this._typedValue+=e;let t=this._searchableNodes.find(i=>i.text.toLowerCase().startsWith(this._typedValue));this.treeview?.focus(t?.index)}),mi(1e3)).subscribe(()=>{this._typedValue=""})),this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.assignAriaDescribedBy(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setComponentClasses()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(e){et(["textField","valueField","valuePrimitive"],e,!1)&&this.setState(),Ae("value",e,!1)&&e.value&&!e.dataItem&&!this.valuePrimitive&&(this.dataItem=this.value)}ngAfterContentChecked(){this.verifySettings(),this.data?.length>0&&this.popupRef&&(this.allNodesHidden=this.areNodesHidden(this.data))}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"click",this.handleClick.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this)))}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.width;t.style.minWidth=i,t.style.width=s}}isEmpty(){return!this.text&&!this.placeholder}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(t||i)return;this.triggerPopupEvents(e)||(e?this.createPopup():this.destroyPopup())}handleFocus(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.isFocused||(this.isFocused=!0,k(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}handleBlur(e){if(!this.isActionSheetExpanded){let t=e&&e.relatedTarget;if(this.wrapper.nativeElement.contains(t)||this.isOpen&&this.popupRef.popupElement.contains(t))return;this.isFocused=!1,this.togglePopup(!1),(k(this.onBlur)||ze(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur")&&this._zone.run(()=>{this.onBlur.emit(),this.onTouchedCallback()})}}handleKeydown(e,t){if(this.disabled||this.readonly)return;if(e.code===O.Tab&&this.isActionSheetExpanded){this.togglePopup(!1);return}!this.isFilterActive&&yn(e.key)&&!this.actionSheetSearchBar?.onFocus&&this.printableCharacters.next(e.key);let i=e;this.navigationService.process({originalEvent:i,openOnSpace:!this.isOpen,closeOnSpace:this.isOpen&&!t&&!(e.target instanceof HTMLInputElement)})}focusItemAt(e){if(this.treeview){let t=this.treeview.itemLookup(e);!p(t)||this.treeview.isDisabled(t.item.dataItem,t.item.index)||this.treeview.focus(e)}}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}reset(){this.value=void 0,this.dataItem=void 0}toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!p(this.popupRef);this.destroyPopup(),t&&this.createPopup()})}get popupContainerClasses(){let e=["k-dropdowntree-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}onSelectionChange({dataItem:e,index:t}){this.valueDepth=t.split("_").length-1;let i=this.getField(this.valueField,e),s=this.valuePrimitive?Et(i)(e):e;s!==this.value&&(this.value=s,this.dataItem=e,this.emitValueChange(this.value)),this.togglePopup(!1),this.focus()}messageFor(e){return this.localization.get(e)}clearValue(e){e?.stopImmediatePropagation(),this.focus(),this.value=void 0,this.dataItem=void 0,this.clearState(),this.emitValueChange()}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}preventEventDefault(e){e.preventDefault()}writeValue(e){!p(e)&&p(this.value)&&(this.dataItem=null),this.value=e===null?void 0:e,p(this.value)&&!this.valuePrimitive&&(this.dataItem=this.value)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}handleFilterInputChange(e){let t=typeof e=="string"?e:e.value;this.filter=t,this.filterChange.next(t),this.allNodesHidden=this.areNodesHidden(this.nodes),this._zone.onStable.pipe($e(1)).subscribe(()=>{(this.data.length===0||this.allNodesHidden||this.filter==="")&&this.filterInput?.nativeElement.focus()})}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}onTouchedCallback=gt;onChangeCallback=gt;verifySettings(){if(Je()){if(this.valuePrimitive===!0&&p(this.value)&&typeof this.value=="object")throw new Error(Mt.primitive);if(this.valuePrimitive===!0&&p(this.value)&&typeof this.dataItem!="object")throw new Error(Mt.dataItem);if(this.valuePrimitive===!1&&p(this.value)&&typeof this.value!="object")throw new Error(Mt.object);if(!p(this.valueField)||!p(this.textField))throw new Error(Mt.textAndValue);if((Y(this.valueField)||Y(this.textField))&&p(this.value)&&!p(this.valueDepth))throw new Error(Mt.valueDepth)}}emitValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}getText(e,t){if(p(t)&&p(e)){let i=this.getField(e,t);return Et(i)(t)}return null}onChildrenLoaded(){setTimeout(()=>{this.popupRef&&(this._searchableNodes=At(this.treeViewId,this.popupRef.popupElement)),this.isActionSheetExpanded&&(this._searchableNodes=At(this.treeViewId,this.actionSheet.element.nativeElement))})}getField(e,t){let i=e.length-1;if(typeof e=="string")return e;if(p(this.valueDepth))return i<this.valueDepth?e[i]:e[this.valueDepth];if(t&&typeof t=="object")return e.find(s=>s in t)}areNodesHidden(e){return e.every((t,i)=>!this.isVisible(t,String(i)))}triggerPopupEvents(e){let t=new Ke;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}createPopup(){if(this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet(),this.cdr.detectChanges();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:t,animate:this.popupSettings.animate,content:this.popupTemplate,popupAlign:i,positionMode:s?"fixed":"absolute",popupClass:this.popupContainerClasses});let o=this.popupRef.popupElement,{min:l,max:f}=this.width;this.renderer.setStyle(o,"minWidth",l),this.renderer.setStyle(o,"width",f),this.renderer.setStyle(o,"height",this.height),this.renderer.setAttribute(o,"dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.popupRef.popupOpen.subscribe(()=>{this.allNodesHidden=this.areNodesHidden(this.data),this.popupRef.popupElement.addEventListener("click",D=>Dn(D)),this.cdr.detectChanges(),this.opened.emit(),this._searchableNodes=At(this.treeViewId,this.popupRef.popupElement)}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})}destroyPopup(){this.isActionSheetExpanded&&this.closeActionSheet(),this.popupRef&&(this.popupRef.popupElement.removeEventListener("click",e=>Dn(e)),this.popupRef.close(),this.popupRef=null,this.clearFilter())}clearFilter(){this.filter!==""&&(this.filter="",this.allNodesHidden=!1,k(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")}))}handleClick(e){this.windowSize=this.adaptiveService.size,this.isActionSheetExpanded||(this.popupRef&&!this.popupRef.popupElement.contains(e.target)||!this.popupRef&&!e.target.className.includes("k-treeview-leaf"))&&this.togglePopup(!this.isOpen)}handleEscape(){this.togglePopup(!1),this.focus()}setState(){if(p(this.value)&&p(this.dataItem)&&p(this.valueField)){this.text=this.getText(this.textField,this.dataItem);let e=this.getField(this.valueField,this.dataItem);this.selectBy=e,this.selectedKeys=[Et(e)(this.dataItem)]}else this.clearState();this.cdr.markForCheck()}clearState(){this.text=void 0,this.selectedKeys=[]}subscribeEvents(){[this.navigationService.open.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!0)}),this.navigationService.close.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!1),this.focus()}),this.navigationService.enter.pipe(ne(e=>e.originalEvent.preventDefault())).subscribe(e=>{e.originalEvent.target===this.wrapper.nativeElement&&this.togglePopup(!0),this.isOpen||this.focus()}),this.navigationService.esc.subscribe(()=>{this.isOpen?this.handleEscape():this.isFocused&&this.selectedKeys.length>0&&this.clearValue()}),this.navigationService.tab.subscribe(()=>{this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())}),this.navigationService.down.subscribe(e=>{this.treeview&&(e.originalEvent.preventDefault(),this.treeview.isActive||this.treeview.focus())}),this.navigationService.up.subscribe(e=>{this.treeview&&(e.originalEvent.preventDefault(),this.filterable&&this.treeview.navigationService.activeIndex==="0"&&(this.isActionSheetExpanded?this.actionSheetSearchBar.focus():this.filterInput.nativeElement.focus()))})].forEach(e=>this.subs.add(e))}subscribeTouchEvents(){!U()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let t=e.target;this.isFocused&&!Pt(this.wrapper,t,this.popupRef)&&this._zone.run(()=>{this.isOpen&&this.treeview.blur(),this.blur()})}))}subscribeFocusEvents(){U()&&(this.handleFocus=this.handleFocus.bind(this),this.handleDocumentBlur=this.handleDocumentBlur.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.handleFocus,!0),document.addEventListener("blur",this.handleDocumentBlur,!0)}))}unSubscribeFocusEvents(){U()&&(document.removeEventListener("focus",this.handleFocus,!0),document.removeEventListener("blur",this.handleDocumentBlur,!0))}unsubscribeEvents(){this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}handleDocumentBlur(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.handleBlur(e))}assignAriaDescribedBy(){let e=this.wrapper.nativeElement.getAttribute("aria-describedby")||"",t=`${this.valueLabelId} ${e.trim()}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",this.fillMode))}removeTreeViewFromTabOrder(){this.treeview.element.nativeElement.querySelectorAll("li").forEach(t=>{t.getAttribute("tabindex")==="0"&&(this.lastNodeOnFocus=t,this.lastNodeOnFocus.setAttribute("tabindex","-1"))})}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&this.clearFilter(),this.wrapper.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.adaptiveTitle=Nt(this.wrapper,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.removeTreeViewFromTabOrder()}static \u0275fac=function(t){return new(t||n)(c(Le),c(Z),c(ot),c(he),c(ge),c(fe),c(Oe),c(Q),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdowntree"]],contentQueries:function(t,i,s){if(t&1&&(N(s,De,5),N(s,be,5),N(s,Ee,5),N(s,pi,5),N(s,Ut,5)),t&2){let o;C(o=b())&&(i.noDataTemplate=o.first),C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.nodeTemplate=o.first),C(o=b())&&(i.valueTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(xt,7),I(wt,7,pt),I(Tn,5),I(Rn,5)),t&2){let s;C(s=b())&&(i.adaptiveRendererComponent=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.treeview=s.first),C(s=b())&&(i.filterInput=s.first)}},hostVars:22,hostBindings:function(t,i){t&2&&(y("readonly",i.isReadonly)("aria-invalid",i.hostAriaInvalid)("aria-disabled",i.isDisabled)("aria-busy",i.isBusy)("aria-controls",i.hostAriaControls)("id",i.id)("dir",i.direction)("tabindex",i.hostTabIndex)("role",i.role)("aria-haspopup",i.ariaHasPopup)("aria-expanded",i.isAriaExpanded)("aria-autocomplete",i.hostAriaAutocomplete),xe("k-dropdowntree",i.hostClasses)("k-picker",i.hostClasses)("k-disabled",i.isDisabled)("k-loading",i.isLoading)("k-readonly",i.readonly))},inputs:{icon:"icon",svgIcon:"svgIcon",loading:"loading",clearButton:"clearButton",data:"data",value:"value",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",hasChildren:"hasChildren",fetchChildren:"fetchChildren",placeholder:"placeholder",popupSettings:"popupSettings",dataItem:"dataItem",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",tabindex:"tabindex",size:"size",rounded:"rounded",fillMode:"fillMode",itemDisabled:"itemDisabled",isNodeExpanded:"isNodeExpanded",isNodeVisible:"isNodeVisible",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",focusableId:"focusableId",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle"},outputs:{open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",onFocus:"focus",onBlur:"blur",valueChange:"valueChange",filterChange:"filterChange"},exportAs:["kendoDropDownTree"],features:[Te([ce,oe,he,se,Q,{provide:st,useValue:"kendo.dropdowntree"},{multi:!0,provide:Ze,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)},{provide:rt,useExisting:V(()=>n)},{provide:yt,useExisting:V(()=>n)}]),q],decls:15,vars:17,consts:()=>{let e;e=$localize`:kendo.dropdowntree.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.dropdowntree.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.dropdowntree.selectButtonText|The text set as aria-label on the select button:Select`;let s;s=$localize`:kendo.dropdowntree.filterInputLabel|The text set as aria-label on the filter input:Filter`;let o;o=$localize`:kendo.dropdowntree.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let l;l=$localize`:kendo.dropdowntree.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`;let f;return f=$localize`:kendo.dropdowntree.filterInputPlaceholder|The text for the input's placeholder when filtering is enabled:Filter`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["filterInput",""],["treeview",""],["kendoDropDownTreeLocalizedMessages","","noDataText",e,"clearTitle",t,"selectButtonText",i,"filterInputLabel",s,"popupLabel",o,"adaptiveCloseButtonTitle",l,"filterInputPlaceholder",f],[1,"k-input-inner",3,"click"],["class","k-input-value-text",4,"ngIf"],["class","k-clear-value","aria-hidden","true",3,"visibility","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue","filterable"],[3,"resize",4,"ngIf"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"],["aria-hidden","true",1,"k-clear-value",3,"click"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],["class","k-list-filter",4,"ngIf"],["kendoTreeViewSelectable","",3,"size","nodes","maxHeight","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible","selectedKeysChange","focusout","keydown","selectionChange","expand","collapse","childrenLoaded",4,"ngIf"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter"],[1,"k-textbox","k-input",3,"ngClass"],[1,"k-input-prefix"],["name","search",1,"k-icon",3,"svgIcon"],["role","textbox",1,"k-input-inner",3,"input","keydown.arrowdown","keydown.alt.arrowup","keydown.escape","filterInput","value","kendoEventsOutsideAngular","scope"],["kendoTreeViewSelectable","",3,"selectedKeysChange","focusout","keydown","selectionChange","expand","collapse","childrenLoaded","size","nodes","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(t,i){if(t&1){let s=T();H(0,5),v(1,"span",6),x("click",function(l){return _(s),m(l.preventDefault())}),h(2,na,3,2,"span",7),S(),h(3,sa,2,4,"span",8)(4,oa,1,0,"span",9),v(5,"button",10),P(6,"kendo-icon-wrapper",11),S(),h(7,aa,1,1,"ng-template",null,0,$),H(9,null,1),v(11,"kendo-adaptive-renderer",12),x("closePopup",function(){return _(s),m(i.togglePopup(!1))})("textInputChange",function(l){return _(s),m(i.handleFilterInputChange(l))}),S(),h(12,ga,5,5,"ng-template",null,2,$)(14,va,1,0,"kendo-resize-sensor",13)}if(t&2){let s=z(13);d(),y("id",i.valueLabelId),d(),a("ngIf",i.valueTemplate||i.text||i.placeholder),d(),a("ngIf",!i.loading&&!i.readonly&&i.clearButton&&(i.text==null?null:i.text.length)&&!i.disabled),d(),a("ngIf",i.loading),d(),a("ngClass",i.selectButtonClasses),y("aria-label",i.messageFor("selectButtonText"))("disabled",i.disabled?"":null),d(),a("name",i.icon||"caret-alt-down")("svgIcon",i.svgIcon||i.caretAltDownIcon),d(5),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",i.filterable)("subtitle",i.adaptiveSubtitle)("placeholder",i.placeholder)("searchBarValue",i.filter)("filterable",i.filterable),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled)}},dependencies:[St,Ne,Re,Ue,Xe,Fe,Ce,Ti,Dt,Lt,mn,Pe],encapsulation:2,changeDetection:0})}return n})(),Vn=n=>(n||{}).key;var Dl=(n,r,e)=>p(n)?{dataItem:n,key:at({dataItem:n,level:e},r)+"_"+e}:null,An=(()=>{class n{map=new Map;reset(){this.map.clear()}registerChildren(e,t){let i=this.item(e);i&&(i.children=t)}item(e){return this.map.get(e)||null}registerItem(e,t){let i={children:[],item:e,parent:this.item(Vn(t))};this.map.set(e.key,i)}itemLookup(e){let t=this.item(e);return t?{children:this.mapChildren(t.children),item:t.item,parent:t.parent}:null}mapChildren(e=[]){return e.map(t=>{let{item:i,parent:s,children:o}=this.item(t.key);return{children:this.mapChildren(o),item:i,parent:s}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=bt({token:n,factory:n.\u0275fac})}return n})(),zn=(()=>{class n{isHeterogeneous;addItem(e){if(this.isItemChecked(e))return;let t=wi(e.index),i=this.getKey(e,t),s=zt(It({},e),{level:t,key:i});this.checkedItems.push(s),this.checkedKeys.add(i)}removeItem(e){if(!this.isItemChecked(e))return;let t=wi(e.index),i=this.getKey(e,t),s=zt(It({},e),{level:t,key:i});this.checkedItems=this.checkedItems.filter(o=>{let l=at(o,this.valueField)===at(s,this.valueField),f=o.level===s.level;return this.isHeterogeneous?!(l&&f):!l}),this.checkedKeys.delete(i)}isItemChecked(e){let t=e.index.split("_").length-1;e.level=t;let i=this.getKey(e,t);return this.checkedKeys.has(i)}updateItems(){this.checkedItems=this.checkedItems||[],this.checkedKeys=new Set(this.checkedItems.map(e=>e.key))}getKey(e,t){return at(e,this.valueField)+"_"+(this.isHeterogeneous?t:0)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=F({type:n,inputs:{valueField:"valueField",checkedItems:"checkedItems",isHeterogeneous:"isHeterogeneous"},standalone:!1})}return n})(),Al=(()=>{class n extends zn{treeView;checkable;valueField;checkedItems;checkedItemsChange=new g;checkedKeys=new Set;subscriptions=new we;clickSubscription;constructor(e){super(),this.treeView=e,this.subscriptions.add(this.treeView.checkedChange.subscribe(this.handleCheckedChange.bind(this))),this.treeView.isChecked=this.getCheckedState.bind(this)}ngOnChanges(e){p(e.checkable)&&this.toggleCheckOnClick(),p(e.checkedItems)&&this.updateItems()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.unsubscribeClick()}getCheckedState(e,t){return this.isItemChecked({dataItem:e,index:t})?"checked":this.checkable.checkChildren&&this.isItemIndeterminate(this.treeView.itemLookup(t))?"indeterminate":"none"}handleCheckedChange(e){this.checkNode(e),this.checkable.checkChildren&&this.checkParents(e.parent),this.checkedItemsChange.emit(this.checkedItems.slice())}toggleCheckOnClick(){this.unsubscribeClick(),this.checkable.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.pipe(G(e=>e.type==="click")).subscribe(e=>{let t=this.treeView.itemLookup(e.item.index);this.handleCheckedChange(t)}))}unsubscribeClick(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)}checkNode(e){if(this.treeView.isDisabled(e.item.dataItem,e.item.index))return;let t=e.item,i=[t];this.checkable.checkChildren&&ri(e,l=>this.treeView.isVisible(l.dataItem,l.index)&&!this.treeView.isDisabled(l.dataItem,l.index)).forEach(l=>i.push(l.item));let s=!this.isItemChecked(t);i.forEach(o=>{s?this.addItem(o):this.removeItem(o)})}checkParents(e){let t=e;for(;t;)t.children.every(s=>this.isItemChecked(s))?this.addItem(t.item):this.removeItem(t.item),t=t.parent}isItemIndeterminate(e){let t=e.children;if(!Array.isArray(t)||t.length===0)return!1;let i=0,s=t[i];for(;p(s);){if(this.isItemChecked(s.item)||this.isItemIndeterminate(s))return!0;i+=1,s=t[i]}return!1}static \u0275fac=function(t){return new(t||n)(c(Lt))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectTreeCheckable",""]],inputs:{checkable:"checkable",valueField:"valueField",checkedItems:"checkedItems"},outputs:{checkedItemsChange:"checkedItemsChange"},features:[ve,q]})}return n})(),wl=(()=>{class n extends zn{element;zone;cdr;renderer;lastAction;treeview;checkedItems;valueField;focused;checkedItemsChange=new g;checkedKeys=new Set;currentCheckedState;currentIndeterminateState;handleChange(e){this.currentCheckedState=e.checked,this.currentIndeterminateState=this.isIndeterminate,this.treeview.nodes.forEach((t,i)=>{let s=String(i),o=this.treeview.itemLookup(s);this.checkNode(o)}),this.checkedItemsChange.emit(this.checkedItems.slice())}get isIndeterminate(){let e=this.treeview.nodes.some((t,i)=>{let s=String(i),o=this.treeview.itemLookup(s);return this.someChecked(o)});return this.isChecked?!1:e}get isChecked(){return this.treeview.nodes.every((t,i)=>{let s=String(i),o=this.treeview.itemLookup(s);return this.allChecked(o)})}constructor(e,t,i,s){super(),this.element=e,this.zone=t,this.cdr=i,this.renderer=s}ngOnChanges(e){p(e.checkedItems)&&(this.updateItems(),this.renderer.setProperty(this.element.nativeElement,"checked",this.isChecked),this.renderer.setProperty(this.element.nativeElement,"indeterminate",this.isIndeterminate))}ngOnInit(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}checkNode(e){if(this.treeview.isDisabled(e.item.dataItem,e.item.index))return;let t=[],i=s=>this.treeview.isVisible(s.dataItem,s.index)&&!this.treeview.isDisabled(s.dataItem,s.index);t.push(e.item),ri(e,i).forEach(s=>t.push(s.item)),t.forEach(s=>{if(this.currentIndeterminateState){this.lastAction==="check"?this.addItem(s):this.removeItem(s);return}this.currentCheckedState?this.addItem(s):this.removeItem(s)})}allChecked(e){let t=e&&e.children;return Array.isArray(t)?t.every(s=>s.children.length?this.isItemChecked(s.item)&&this.allChecked(s):this.isItemChecked(s.item))&&this.isItemChecked(e.item):void 0}someChecked(e){let t=e&&e.children;return Array.isArray(t)?t.some(s=>s.children.length?this.isItemChecked(s.item)||this.someChecked(s):this.isItemChecked(s.item))||this.isItemChecked(e.item):void 0}static \u0275fac=function(t){return new(t||n)(c(Z),c(fe),c(Oe),c(ge))};static \u0275dir=F({type:n,selectors:[["","checkAll",""]],hostBindings:function(t,i){t&1&&x("change",function(o){return i.handleChange(o.target)})},inputs:{lastAction:"lastAction",treeview:"treeview",checkedItems:"checkedItems",valueField:"valueField",focused:[0,"checkAll","focused"]},outputs:{checkedItemsChange:"checkedItemsChange"},features:[ve,q]})}return n})(),wn={animate:!0},xn={checkChildren:!0,checkOnClick:!0},xl=()=>!1,Ol=()=>Tt([]),Nl=()=>!1,Il=()=>!0,Tl="medium",Rl="medium",kl="solid",Kn=(()=>{class n{injector;wrapper;popupService;renderer;navigationService;_zone;localization;cdr;lookup;adaptiveService;touchEnabled=Se;animationDuration=ut;searchIcon=Wt;xIcon=mt;hostClasses=!0;get isDisabled(){return this.disabled||null}treeViewId=`k-${B()}`;get hostAriaAutocomplete(){return this.filterable?"list":null}get isLoading(){return this.loading}get hostAriaInvalid(){return this.formControl?.invalid?!0:null}get isBusy(){return this.loading?"true":null}get id(){return this.focusableId}direction;get hostTabIndex(){return this.tabindex}role="combobox";ariaHasPopup="tree";get isReadonly(){return this.readonly?"":null}get ariaDescribedBy(){return this.tagListId}get ariaActiveDescendant(){return this.focusedTagId}get formControl(){return this.injector.get(Ye,null)?.control||null}onFilterChange(e){this.filterable&&(this.filter=e,this.filterChange.emit(e))}adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}handleKeydown(e,t){let i=Ie(e);if(e.target===this.filterInput?.nativeElement&&(i===O.ArrowLeft||i===O.ArrowRight))return;if(t&&e.stopImmediatePropagation(),this.isWrapperActive&&i===O.Backspace&&this.tags.length>0){this.handleBackspace();return}if(this.disabled||this.readonly)return;!this.isFilterActive&&yn(e.key)&&!this.actionSheetSearchBar?.onFocus&&this.printableCharacters.next(e.key);let o=e,l=this.navigationService.process({originalEvent:o,openOnSpace:!this.isOpen,closeOnSpace:!1});if(l===A.Open&&o.preventDefault(),this.isOpen&&l===A.Enter){let f=new KeyboardEvent("keydown",{key:" ",code:"Space",keyCode:32,which:32});this.treeview?.element.nativeElement.dispatchEvent(f)}}adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}headerTemplate;footerTemplate;nodeTemplate;noDataTemplate;tagTemplate;groupTagTemplate;popupTemplate;container;set treeview(e){this._treeview=e,e&&((this.isFocused&&!this.filterable&&!this.checkAll||this.touchEnabled)&&e.focus(),Promise.resolve(null).then(()=>this.treeview.animate=!0))}get treeview(){return this._treeview}filterInput;checkAllInput;set tabindex(e){let t=ei(e),i=0;this._tabindex=isNaN(t)?i:t}get tabindex(){return this.disabled?-1:this._tabindex}set size(e){let t=e||Tl;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",t)),this._size=t}get size(){return this._size}set rounded(e){let t=e||Rl;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){let t=e||kl;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}set popupSettings(e){this._popupSettings=Object.assign({},wn,e),this.cdr.detectChanges()}get popupSettings(){return this._popupSettings}set checkableSettings(e){this._checkableSettings=Object.assign({},xn,e)}get checkableSettings(){return this._checkableSettings}set data(e){this._nodes=e,this.setState(),this.isContentInit&&this.registerLookupItems(e)}get data(){return this._nodes}set value(e){this._value=e||[],this.setState()}get value(){return this._value}set dataItems(e){this._dataItems=(e||[]).map((t,i)=>{if(kn(t,["dataItem","index","level"]))return t;let s=this.valueDepth[i]||0,o=at({dataItem:t,level:s},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[i]:0);return{dataItem:t,index:null,level:s,key:o}}),this.setState()}get dataItems(){return this._dataItems||this.value.map((e,t)=>{let i=this.valueDepth[t]||0,s=at({dataItem:e,level:i},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[t]:0);return{dataItem:e,index:null,level:i,key:s}})}textField;valueField;valueDepth=[];loading;placeholder="";set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;disabled=!1;readonly=!1;valuePrimitive=!1;loadOnDemand=!1;focusableId=`k-${B()}`;clearButton=!0;filterable=!1;checkAll=!1;hasChildren=xl;fetchChildren=Ol;isNodeExpanded;isNodeVisible=Il;itemDisabled=Nl;tagMapper=e=>e||[];onFocus=new g;onBlur=new g;open=new g;opened=new g;close=new g;closed=new g;nodeExpand=new g;nodeCollapse=new g;valueChange=new g;removeTag=new g;filterChange=new g;get focusedTagId(){return!p(this.focusedTagIndex)||this.isOpen?null:this.tagPrefix+"-"+this.focusedTagIndex}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}get isOpen(){return Ot(p(this.popupRef)||this.isActionSheetExpanded)}get width(){let e=this.wrapper.nativeElement.offsetWidth,t=this.popupSettings.width||e,i=isNaN(e)?e:`${e}px`,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}get height(){let e=this.popupSettings.height;return p(e)?`${e}px`:"auto"}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}get popupContainerClasses(){let e=["k-multiselecttree-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}set nodes(e){this.data=e}get nodes(){return this.data}set children(e){this.fetchChildren=e}get children(){return this.fetchChildren}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set isExpanded(e){this.isNodeExpanded=e}get isExpanded(){return this.isNodeExpanded}set isVisible(e){this.isNodeVisible=e}get isVisible(){return this.isNodeVisible}get isTagFocused(){return!this.isOpen&&this.focusedTagIndex!==void 0}get isTreeViewActive(){return this.treeview&&this.treeview.isActive}get isWrapperActive(){return document.activeElement===this.wrapper.nativeElement}get isFilterActive(){return this.filterInput&&document.activeElement===this.filterInput.nativeElement}get isCheckAllActive(){return this.checkAllInput&&document.activeElement===this.checkAllInput.nativeElement}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let t=this.popupRef.popupElement,{min:i,max:s}=this.width;t.style.minWidth=i,t.style.width=s}}filterStateChange=new g;filter="";checkedItems=[];isHeterogeneous;showAfter=0;allNodesHidden=!1;tagListId=`k-${B()}`;tagPrefix="tag-"+B();popupRef;tags;focusedTagIndex=void 0;disabledIndices;_nodes;_value=[];_tabindex=0;_popupSettings=wn;_checkableSettings=xn;_isFocused=!1;_treeview;_dataItems;_size="medium";_rounded="medium";_fillMode="solid";_searchableNodes=[];_typedValue="";printableCharacters=new Qe;subs=new we;lastNodeOnFocus;isContentInit;constructor(e,t,i,s,o,l,f,D,w,M){this.injector=e,this.wrapper=t,this.popupService=i,this.renderer=s,this.navigationService=o,this._zone=l,this.localization=f,this.cdr=D,this.lookup=w,this.adaptiveService=M,this.direction=f.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeFocusEvents()}ngOnInit(){this.subs.add(this.printableCharacters.pipe(ne(e=>{this._typedValue+=e;let t=this._searchableNodes.find(i=>i.text.toLowerCase().startsWith(this._typedValue));this.treeview?.focus(t?.index)}),mi(1e3)).subscribe(()=>{this._typedValue=""})),this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded",String(this.isOpen)),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"click",this.handleClick.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this)))}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(e){et(["textField","valueField","valuePrimitive"],e,!1)&&(this.isHeterogeneous=this.valueField&&Y(this.valueField),this.setState()),et(["valueDepth","value","dataItems"],e,!1)&&(e.value&&!e.dataItems&&!this.valuePrimitive?this.dataItems=this.value:this.dataItems=this.dataItems.map((t,i)=>zt(It({},t),{key:at({dataItem:t.dataItem,index:null,level:this.valueDepth[i]||0},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[i]:0),level:this.valueDepth[i]||0}))),et(["data","children","hasChildren","loadOnDemand","valueField"],e,!0)&&!this.loadOnDemand&&(this.lookup.reset(),this.registerLookupItems(this.data))}ngAfterContentChecked(){this.verifySettings(),this.data?.length>0&&this.popupRef&&(this.allNodesHidden=this.areNodesHidden(this.data))}ngAfterContentInit(){this.isContentInit=!0,this.registerLookupItems(this.data)}isEmpty(){return!this.placeholder&&(!p(this.value)||this.value.length===0)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}focusItemAt(e){if(this.treeview){let t=this.treeview.itemLookup(e);!p(t)||this.treeview.isDisabled(t.item.dataItem,t.item.index)||this.treeview.focus(e)}}reset(){this.value=[],this.dataItems=[],this.valueDepth=[]}toggle(e){Promise.resolve(null).then(()=>{let t=p(e)?e:!p(this.popupRef);this.destroyPopup(),t&&this.createPopup()})}handleFocus(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.isFocused||(this.isFocused=!0,k(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}),this.isOpen&&this.treeview&&(this.lastNodeOnFocus&&this.lastNodeOnFocus.setAttribute("tabindex","0"),this.treeview.focus())))}handleBlur(e){if(!this.isActionSheetExpanded){let t=e&&e.relatedTarget;if(this.wrapper.nativeElement.contains(t)||this.isOpen&&this.popupRef.popupElement.contains(t))return;this.isFocused=!1,this.togglePopup(!1),this.cdr.markForCheck(),(k(this.onBlur)||ze(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur")&&this._zone.run(()=>{this.onBlur.emit(),this.onTouchedCallback()})}}handleNodeClick(e){if(!this.isFocused){let t=e.originalEvent.target.parentElement.parentElement;this.lastNodeOnFocus=t,this.focus()}}togglePopup(e){let t=this.disabled||this.readonly,i=this.isOpen===e;if(this._zone.run(()=>{this.focusedTagIndex=void 0}),t||i)return;this.triggerPopupEvents(e)?this.removeTreeViewFromTabOrder():e?this.createPopup():this.destroyPopup()}messageFor(e){return this.localization.get(e)}lastAction="check";handleCheckedItemsChange(e){this.valueDepth=e.map(t=>t.level),this.lastAction=e.length>this.dataItems.length?"check":"uncheck",this.dataItems=e.slice(),this.updateValue(this.dataItems)}handleRemoveTag({tag:e,index:t}){if(this.disabled||this.readonly)return;let i=new ni(e);if(this.removeTag.emit(i),!i.isDefaultPrevented()){if(e instanceof Array)this.dataItems=this.dataItems.filter((s,o)=>o<this.showAfter||this.disabledIndices.has(o)),this.valueDepth=this.valueDepth.filter((s,o)=>o<this.showAfter||this.disabledIndices.has(o));else if(this.loadOnDemand)this.dataItems=this.dataItems.filter((s,o)=>o!==t||this.disabledIndices.has(o)),this.valueDepth=this.valueDepth.filter((s,o)=>o!==t||this.disabledIndices.has(o));else{let o=this.dataItems.find(M=>M.tagPositionIndex===t).key,l=this.lookup.itemLookup(o),f=[l.item];this.checkableSettings.checkChildren&&(ri(l).forEach(M=>f.push(M.item)),f.push(...this.removeParents(l.parent)));let D=f.map(M=>M.key),w=[];this.dataItems=this.dataItems.filter((M,X)=>{let ie=!D.includes(M.key)||this.disabledIndices.has(X);return ie||w.push(X),ie}),this.valueDepth=this.valueDepth.filter((M,X)=>!w.includes(X)||this.disabledIndices.has(X))}this.updateValue(this.dataItems),this.isFocused||this.focus()}}handleTagMapperChange(e){this.showAfter=ei(e),this.setTags()}clearAll(e){e?.stopImmediatePropagation(),e?.preventDefault(),this.focus(),this.value=this.value.filter((t,i)=>this.disabledIndices.has(i)),this.dataItems=this.dataItems.filter((t,i)=>this.disabledIndices.has(i)),this.valueDepth=this.valueDepth.filter((t,i)=>this.disabledIndices.has(i)),this.emitValueChange(this.value)}writeValue(e){!this.valuePrimitive&&p(e)&&(this.dataItems=e),!p(e)&&p(this.value)&&(this.dataItems=null),this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}handleFilterInputChange(e){this.filter=e.value,this.filterChange.next(e.value)}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}get checkAllCheckboxClasses(){return`${this.size?L("checkbox",this.size):""}`}toggleCheckAll(){this.checkAllInput.nativeElement.focus(),this.checkAllInput.nativeElement.click()}onTouchedCallback=gt;onChangeCallback=gt;verifySettings(){if(Je()){if(!p(this.valueField)||!p(this.textField))throw new Error(ke.textAndValue);if(!Y(this.value))throw new Error(ke.array);if(this.value.length>0){if(this.valuePrimitive&&this.value.some(t=>ft(t)))throw new Error(ke.primitive);let e=this.dataItems.every(t=>ft(t.dataItem));if(this.valuePrimitive&&!Y(this.dataItems))throw new Error(ke.dataItems);if(this.valuePrimitive&&!e)throw new Error(ke.dataItems);if(this.valuePrimitive&&this.dataItems.length!==this.value.length)throw new Error(ke.dataItemsLength);if(!this.valuePrimitive&&!Yt(this.value))throw new Error(ke.object);if((Y(this.valueField)||Y(this.textField))&&!Y(this.valueDepth))throw new Error(ke.valueDepth);if((Y(this.valueField)||Y(this.textField))&&this.valueDepth.length===0)throw new Error(ke.valueDepth);if((Y(this.valueField)||Y(this.textField))&&this.valueDepth.length!==this.value.length)throw new Error(ke.valueDepthLength)}}}areNodesHidden(e){return e.every((t,i)=>!this.isVisible(t,String(i)))}emitValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}triggerPopupEvents(e){let t=new Ke;return(k(this.open)||k(this.close))&&this._zone.run(()=>{e?this.open.emit(t):this.close.emit(t)}),t.isDefaultPrevented()}createPopup(){if(this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet(),this.cdr.detectChanges();return}let e=this.direction==="rtl"?"right":"left",t={horizontal:e,vertical:"bottom"},i={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:t,animate:this.popupSettings.animate,content:this.popupTemplate,popupAlign:i,positionMode:s?"fixed":"absolute",popupClass:this.popupContainerClasses});let o=this.popupRef.popupElement,{min:l,max:f}=this.width;this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),o.style.minWidth=l,o.style.width=f,o.style.height=this.height,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.treeViewId),this.renderer.setAttribute(o,"dir",this.direction),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.opened.emit(),this._searchableNodes=At(this.treeViewId,this.popupRef.popupElement)}),this.popupRef.popupClose.subscribe(()=>{k(this.closed)&&this._zone.run(()=>{this.closed.emit()})})}destroyPopup(){this.isActionSheetExpanded&&this.closeActionSheet(),this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.clearFilter())}clearFilter(){this.filter!==""&&(this.filter="",this.allNodesHidden=!1,k(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")}))}handleClick(e){this.popupRef&&this.popupRef.popupElement.contains(e.target)||this.isActionSheetExpanded||this.togglePopup(!this.isOpen)}subscribeEvents(){[this.navigationService.open.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!0)}),this.navigationService.enter.pipe(ne(e=>e.originalEvent.preventDefault())).subscribe(()=>this.togglePopup(!0)),re(this.navigationService.close).subscribe(e=>{e.originalEvent.preventDefault(),this.focus(),this.togglePopup(!1)}),this.navigationService.tab.subscribe(this.handleTabKey.bind(this)),this.navigationService.up.subscribe(this.handleUpKey.bind(this)),this.navigationService.down.subscribe(this.handleDownKey.bind(this)),this.navigationService.esc.subscribe(()=>{this.isOpen?(this.togglePopup(!1),this.focus()):this.isFocused&&this.checkedItems.length>0&&this.clearAll()}),this.navigationService.left.pipe(G(()=>!this.isTreeViewActive)).subscribe(this.direction==="rtl"?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.pipe(G(()=>!this.isTreeViewActive)).subscribe(this.direction==="rtl"?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.home.pipe(G(()=>!this.isOpen)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(G(()=>!this.isOpen)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(G(()=>this.isTagFocused)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(G(()=>this.isTagFocused)).subscribe(this.handleDelete.bind(this))].forEach(e=>this.subs.add(e))}subscribeFocusEvents(){U()&&(this.handleFocus=this.handleFocus.bind(this),this.handleDocumentBlur=this.handleDocumentBlur.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.handleFocus,!0),document.addEventListener("blur",this.handleDocumentBlur,!0)}))}unSubscribeFocusEvents(){U()&&(document.removeEventListener("focus",this.handleFocus,!0),document.removeEventListener("blur",this.handleDocumentBlur,!0))}handleDocumentBlur(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.handleBlur(e))}handleTabKey(){this.isActionSheetExpanded||this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())}handleUpKey(e){if(!this.treeview||(e.originalEvent.preventDefault(),this.isWrapperActive))return;let t=this.treeview.navigationService.activeIndex==="0";this.filterable&&this.isFilterActive?this.focus():this.checkAll&&!this.isCheckAllActive&&t?this.checkAllInput.nativeElement.focus():(this.isCheckAllActive||t)&&(this.filterable?this.isActionSheetExpanded?this.actionSheetSearchBar.focus():this.filterInput.nativeElement.focus():this.isActionSheetExpanded||this.focus())}handleDownKey(e){this.treeview&&(e.originalEvent.preventDefault(),this.filterable&&this.isWrapperActive?this.filterInput.nativeElement.focus():this.checkAll&&(this.isWrapperActive||this.isFilterActive)?this.checkAllInput.nativeElement.focus():this.treeview.isActive||this.treeview.focus(),this.focusedTagIndex=void 0)}handleRightKey(e){e.originalEvent.preventDefault();let t=this.tags.length-1;this.focusedTagIndex===t?this.focusedTagIndex=void 0:this.focusedTagIndex<t?this.focusedTagIndex++:this.focusedTagIndex||(this.focusedTagIndex=0)}handleLeftKey(e){e.originalEvent.preventDefault(),this.focusedTagIndex===void 0||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:this.focusedTagIndex!==0&&this.focusedTagIndex--}handleEnd(e){e.originalEvent.preventDefault(),this.focusedTagIndex=this.tags.length-1}handleHome(e){e.originalEvent.preventDefault(),this.focusedTagIndex=0}handleBackspace(){if(this.focusedTagIndex!==void 0)this.handleDelete();else{let e=this.tags[this.tags.length-1],t=this.tags.length-1;this.handleRemoveTag({tag:e,index:t})}}handleDelete(){let e=this.tags[this.focusedTagIndex],t=this.focusedTagIndex;this.handleRemoveTag({tag:e,index:t}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}unsubscribeEvents(){this.subs.unsubscribe(),this.unSubscribeFocusEvents()}removeTreeViewFromTabOrder(){this.treeview.element.nativeElement.querySelectorAll("li").forEach(t=>{t.getAttribute("tabindex")==="0"&&(this.lastNodeOnFocus=t,this.lastNodeOnFocus.setAttribute("tabindex","-1"))})}setState(){p(this.dataItems)&&p(this.valueField)&&(this.setTags(),this.checkedItems=this.dataItems.slice()),this.cdr.markForCheck()}setTags(){let e=this.dataItems.map(i=>i.dataItem);this.tags=this.tagMapper(e),this.disabledIndices=this.disabledItemsMapper();let t=new Map(this.tags.map((i,s)=>[JSON.stringify(i),s]));this.dataItems.forEach(i=>{let s=JSON.stringify(i.dataItem);i.tagPositionIndex=t.has(s)?t.get(s):null})}updateValue(e){let t=this.valuePrimitive?e.map(i=>at(i,this.valueField)):e.map(i=>i.dataItem);this.value=t,this.emitValueChange(this.value)}onChildrenLoaded(){setTimeout(()=>{this.popupRef&&(this._searchableNodes=At(this.treeViewId,this.popupRef.popupElement)),this.isActionSheetExpanded&&(this._searchableNodes=At(this.treeViewId,this.actionSheet.element.nativeElement))})}disabledItemsMapper(){return new Set(this.dataItems.reduce((e,t,i)=>(this.itemDisabled(t.dataItem,t.index)&&e.push(i),e),[]))}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}removeParents(e){let t=e,i=[];for(;t;)i.push(t.item),t=t.parent;return i}registerLookupItems(e,t=null,i=0){if(!p(e)||e.length===0)return;let s=Vn(t),o=e.map(l=>Dl(l,this.valueField,i));p(t)&&this.lookup.registerChildren(s,o),o.forEach(l=>{this.lookup.registerItem(l,t),this.loadOnDemand||this.registerChildLookupItems(l,i)})}registerChildLookupItems(e,t){this.hasChildren(e.dataItem)&&this.children(e.dataItem).subscribe(i=>{let s=this.isHeterogeneous?t+1:0;this.registerLookupItems(i,e,s)})}closeActionSheet(){this.wrapper.nativeElement.focus(),this.actionSheet.toggle(!1),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.clearFilter(),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.adaptiveTitle=Nt(this.wrapper,this.adaptiveTitle),this.cdr.detectChanges(),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.treeViewId),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.cdr.detectChanges(),this.opened.emit()}static \u0275fac=function(t){return new(t||n)(c(Le),c(Z),c(ot),c(ge),c(he),c(fe),c(Q),c(Oe),c(An),c(Ve))};static \u0275cmp=le({type:n,selectors:[["kendo-multiselecttree"]],contentQueries:function(t,i,s){if(t&1&&(N(s,be,5),N(s,Ee,5),N(s,pi,5),N(s,De,5),N(s,di,5),N(s,ui,5)),t&2){let o;C(o=b())&&(i.headerTemplate=o.first),C(o=b())&&(i.footerTemplate=o.first),C(o=b())&&(i.nodeTemplate=o.first),C(o=b())&&(i.noDataTemplate=o.first),C(o=b())&&(i.tagTemplate=o.first),C(o=b())&&(i.groupTagTemplate=o.first)}},viewQuery:function(t,i){if(t&1&&(I(Ce,5),I(xt,7),I(wt,7,pt),I(Tn,5),I(Rn,5),I(Sa,5)),t&2){let s;C(s=b())&&(i.adaptiveRendererComponent=s.first),C(s=b())&&(i.popupTemplate=s.first),C(s=b())&&(i.container=s.first),C(s=b())&&(i.treeview=s.first),C(s=b())&&(i.filterInput=s.first),C(s=b())&&(i.checkAllInput=s.first)}},hostVars:22,hostBindings:function(t,i){t&2&&(y("aria-disabled",i.isDisabled)("aria-autocomplete",i.hostAriaAutocomplete)("aria-invalid",i.hostAriaInvalid)("aria-busy",i.isBusy)("id",i.id)("dir",i.direction)("tabindex",i.hostTabIndex)("role",i.role)("aria-haspopup",i.ariaHasPopup)("readonly",i.isReadonly)("aria-describedby",i.ariaDescribedBy)("aria-activedescendant",i.ariaActiveDescendant),xe("k-multiselecttree",i.hostClasses)("k-input",i.hostClasses)("k-disabled",i.isDisabled)("k-loading",i.isLoading)("k-readonly",i.readonly))},inputs:{adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",tabindex:"tabindex",size:"size",rounded:"rounded",fillMode:"fillMode",popupSettings:"popupSettings",checkableSettings:"checkableSettings",data:"data",value:"value",dataItems:"dataItems",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",loading:"loading",placeholder:"placeholder",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",loadOnDemand:"loadOnDemand",focusableId:"focusableId",clearButton:"clearButton",filterable:"filterable",checkAll:"checkAll",hasChildren:"hasChildren",fetchChildren:"fetchChildren",isNodeExpanded:"isNodeExpanded",isNodeVisible:"isNodeVisible",itemDisabled:"itemDisabled",tagMapper:"tagMapper"},outputs:{onFocus:"focus",onBlur:"blur",open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",valueChange:"valueChange",removeTag:"removeTag",filterChange:"filterChange"},exportAs:["kendoMultiSelectTree"],features:[Te([Q,he,ce,se,oe,An,{provide:st,useValue:"kendo.multiselecttree"},{multi:!0,provide:Ze,useExisting:V(()=>n)},{provide:rt,useExisting:V(()=>n)},{provide:yt,useExisting:V(()=>n)},{provide:tt,useExisting:V(()=>n)}]),q],decls:14,vars:25,consts:()=>{let e;e=$localize`:kendo.multiselecttree.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let t;t=$localize`:kendo.multiselecttree.clearTitle|The title of the clear button:clear`;let i;i=$localize`:kendo.multiselecttree.checkAllText|The text displayed for the check-all checkbox:Check all`;let s;s=$localize`:kendo.multiselecttree.filterInputLabel|The text set as aria-label on the filter input:Filter`;let o;o=$localize`:kendo.multiselecttree.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let l;l=$localize`:kendo.multiselecttree.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`;let f;return f=$localize`:kendo.multiselecttree.filterInputPlaceholder|The text for the input's placeholder when filtering is enabled:Filter`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["treeview",""],["filterInput",""],["checkAllInput",""],["kendoMultiSelectTreeLocalizedMessages","","noDataText",e,"clearTitle",t,"checkAllText",i,"filterInputLabel",s,"popupLabel",o,"adaptiveCloseButtonTitle",l,"filterInputPlaceholder",f],[1,"k-input-values",3,"removeTag","size","rounded","fillMode","id","tags","focused","textField","valueField","valueDepth","disabled","tagPrefix","template","groupTemplate","disabledIndices"],[1,"k-input-inner"],["class","k-input-value-text",4,"ngIf"],["class","k-clear-value","role","button","tabindex","-1",3,"click",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","searchBarValue","placeholder","filterable"],[3,"resize",4,"ngIf"],[1,"k-input-value-text"],["role","button","tabindex","-1",1,"k-clear-value",3,"click"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[4,"ngTemplateOutlet"],["class","k-list-filter",4,"ngIf"],[4,"ngIf"],["class","k-check-all",4,"ngIf"],["kendoMultiSelectTreeCheckable","",3,"keydown","nodeClick","expand","collapse","checkedItemsChange","childrenLoaded","size","nodes","animate","isHeterogeneous","checkable","checkedItems","valueField","textField","children","hasChildren","isExpanded","isDisabled","nodeTemplate","loadOnDemand","filter","isVisible","kendoEventsOutsideAngular","scope"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter"],[1,"k-textbox","k-input",3,"ngClass"],[1,"k-input-prefix"],["name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-input-inner",3,"input","keydown","filterInput","value","kendoEventsOutsideAngular","scope"],[3,"templateContext"],[1,"k-check-all"],[1,"k-checkbox-wrap"],["type","checkbox","role","checkbox","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-checkbox",3,"checkedItemsChange","keydown","checkAll","ngClass","treeview","checkedItems","valueField","lastAction","kendoEventsOutsideAngular","scope"],[1,"k-checkbox-label",3,"click","mousedown"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"],[3,"resize"]]},template:function(t,i){if(t&1){let s=T();H(0,6),v(1,"kendo-taglist",7),x("removeTag",function(l){return _(s),m(i.handleRemoveTag(l))}),S(),v(2,"span",8),h(3,ba,2,1,"span",9),S(),h(4,Ea,2,2,"span",10)(5,Da,1,0,"span",11)(6,wa,1,1,"ng-template",null,0,$),H(8,null,1),v(10,"kendo-adaptive-renderer",12),x("closePopup",function(){return _(s),m(i.togglePopup(!1))})("textInputChange",function(l){return _(s),m(i.onFilterChange(l))}),S(),h(11,Ma,7,28,"ng-template",null,2,$)(13,Fa,1,0,"kendo-resize-sensor",13)}if(t&2){let s=z(12);d(),a("size",i.size)("rounded",i.rounded)("fillMode",i.fillMode)("id",i.tagListId)("tags",i.tags)("focused",i.focusedTagIndex)("textField",i.textField)("valueField",i.valueField)("valueDepth",i.valueDepth)("disabled",i.disabled)("tagPrefix",i.tagPrefix)("template",i.tagTemplate)("groupTemplate",i.groupTagTemplate)("disabledIndices",i.disabledIndices),d(2),a("ngIf",!i.tags||!i.tags.length),d(),a("ngIf",!i.disabled&&!i.loading&&!i.readonly&&i.clearButton&&(i.tags==null?null:i.tags.length)),d(),a("ngIf",i.loading),d(5),a("sharedPopupActionSheetTemplate",s)("title",i.adaptiveTitle)("showTextInput",i.filterable)("subtitle",i.adaptiveSubtitle)("searchBarValue",i.filter)("placeholder",i.placeholder)("filterable",i.filterable),d(3),a("ngIf",i.isOpen||i.isAdaptiveModeEnabled)}},dependencies:[St,xi,Ne,Ue,Fe,Ce,Xe,Ti,Dt,Re,wl,Lt,Al,Pe],encapsulation:2})}return n})(),yl=(()=>{class n extends bi{dropDownTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}idField;set filter(e){super.filter=e}constructor(e){super(e),this.dropDownTree=e}ngOnChanges(e){Ae("nodes",e,!1)&&(this.dropDownTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(t){return new(t||n)(c(rt))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownTreeFlatBinding",""]],inputs:{nodes:[0,"kendoDropDownTreeFlatBinding","nodes"],idField:[0,"valueField","idField"]},features:[ve,q]})}return n})(),Ll=(()=>{class n extends Ei{dropDownTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}set filter(e){super.filter=e}constructor(e){super(e),this.dropDownTree=e}ngOnChanges(e){Ae("nodes",e,!1)&&(this.dropDownTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(t){return new(t||n)(c(rt))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownTreeHierarchyBinding",""]],inputs:{nodes:[0,"kendoDropDownTreeHierarchyBinding","nodes"]},features:[ve,q]})}return n})(),Ml=(()=>{class n extends bi{multiSelectTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}idField;set filter(e){super.filter=e}constructor(e){super(e),this.multiSelectTree=e}ngOnChanges(e){Ae("nodes",e,!1)&&(this.multiSelectTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(t){return new(t||n)(c(rt))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectTreeFlatBinding",""]],inputs:{nodes:[0,"kendoMultiSelectTreeFlatBinding","nodes"],idField:[0,"valueField","idField"]},features:[ve,q]})}return n})(),Fl=(()=>{class n extends Ei{multiSelectTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}set filter(e){super.filter=e}constructor(e){super(e),this.multiSelectTree=e}ngOnChanges(e){Ae("nodes",e,!1)&&(this.multiSelectTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(t){return new(t||n)(c(rt))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectTreeHierarchyBinding",""]],inputs:{nodes:[0,"kendoMultiSelectTreeHierarchyBinding","nodes"]},features:[ve,q]})}return n})(),Bn=(()=>{class n extends _n{dropDownTree;set isExpanded(e){this.dropDownTree.isExpanded=e}constructor(e){super(e),this.dropDownTree=e}static \u0275fac=function(t){return new(t||n)(c(yt))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownTreeExpandable",""],["","kendoMultiSelectTreeExpandable",""]],inputs:{isExpanded:[0,"isNodeExpanded","isExpanded"]},features:[ve]})}return n})(),Pl={caseSensitive:!1,operator:"startsWith"},Vt=(()=>{class n{component;set data(e){this._data=e||[]}get data(){return this._data}rawSettings;filterable=!0;_data=[];filterChangeSubscription;constructor(e){this.component=e}ngOnInit(){this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe(this.handleFilterChange.bind(this))}ngOnDestroy(){p(this.filterChangeSubscription)&&this.filterChangeSubscription.unsubscribe()}handleFilterChange(e){this.component.data=this.data.filter(t=>this.matchesAnyField(t,e))}matchesAnyField(e,t){let i=this.normalizeValue(t),{fields:s}=this.filterSettings;return s.length===0?this.checkItem(e,i):s.some(o=>this.checkItem(E(e,o),i))}checkItem(e,t){return e=this.normalizeValue(e),this.filterSettings.operator==="contains"?e.indexOf(t)!==-1:e.startsWith(t)}normalizeValue(e){let t=p(e)?e.toString():"";return this.filterSettings.caseSensitive?t:t.toLowerCase()}getFilterFields(e){return!this.component.textField&&!this.component.valueField?[]:Y(e)&&e.length>0?e:[this.component.textField||this.component.valueField]}get filterSettings(){let e=this.rawSettings,t=p(e)&&typeof e=="object"?e.fields:[];return Object.assign({},Pl,e,{fields:this.getFilterFields(t)})}static \u0275fac=function(t){return new(t||n)(c(dt))};static \u0275dir=F({type:n,selectors:[["","kendoDropDownFilter",""]],inputs:{data:"data",rawSettings:[0,"kendoDropDownFilter","rawSettings"],filterable:"filterable"}})}return n})(),Ct=(()=>{class n extends ii{service;constructor(e){super(),this.service=e}get override(){return!0}static \u0275fac=function(t){return new(t||n)(c(Q))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdownlist-messages"],["kendo-combobox-messages"],["kendo-multicolumncombobox-messages"],["kendo-autocomplete-messages"],["kendo-multiselect-messages"],["kendo-dropdowntree-messages"],["kendo-multiselecttree-messages"]],features:[Te([{provide:ii,useExisting:V(()=>n)}]),ve],decls:0,vars:0,template:function(t,i){},encapsulation:2})}return n})(),Gl=(()=>{class n{multiSelectComponent;showAfter=0;constructor(e){this.multiSelectComponent=e,this.createTagMapper()}ngOnChanges(e){p(e.showAfter)&&(this.createTagMapper(),this.multiSelectComponent.onTagMapperChange())}createTagMapper(){let e=ei(this.showAfter);this.multiSelectComponent.tagMapper=t=>{if(t.length>e){let i=t.slice(0,e);return i.push(t.slice(e,t.length)),i}else return t}}static \u0275fac=function(t){return new(t||n)(c(Ri))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectSummaryTag",""]],inputs:{showAfter:[0,"kendoMultiSelectSummaryTag","showAfter"]},features:[q]})}return n})(),Ul=(()=>{class n{multiSelectTreeComponent;showAfter=0;constructor(e){this.multiSelectTreeComponent=e,this.createTagMapper()}ngOnChanges(e){p(e.showAfter)&&(this.createTagMapper(),this.multiSelectTreeComponent.handleTagMapperChange(this.showAfter))}createTagMapper(){let e=ei(this.showAfter);this.multiSelectTreeComponent.tagMapper=t=>t.length>e?[...t.slice(0,e),t.slice(e)]:t}static \u0275fac=function(t){return new(t||n)(c(Kn))};static \u0275dir=F({type:n,selectors:[["","kendoMultiSelectTreeSummaryTag",""]],inputs:{showAfter:[0,"kendoMultiSelectTreeSummaryTag","showAfter"]},features:[q]})}return n})(),Vl=[Mn,We,Ee,He,be,Be,De,Vt,Ct,nt,it,Ge],zl=[Ii,We,Ee,He,be,Be,De,Vt,Ct,nt,it,Ge,Si],Kl=[_l,Un,Gn,Pn,We,Ee,He,be,Be,De,Vt,Ct,nt,it,Ge,Si],Bl=[Fn,We,Ee,He,be,Be,Ut,De,Vt,Ct],Hl=[Ri,Gl,Ln,We,Ee,He,ui,di,be,Be,De,Vt,Ct,nt,it,Ge],Wl=[El,yl,Ll,Bn,pi,be,Ee,Ut,De,Ct],jl=[Kn,Ml,Fl,Bn,pi,Ul,ui,di,be,Ee,Ut,De,Ct],yd=[...Vl,...zl,...Kl,...Bl,...Hl,...Wl,...jl];export{Be as a,Mn as b,Ii as c,Fn as d,di as e,Ri as f,Un as g,_l as h,El as i,Ll as j,Bn as k};
