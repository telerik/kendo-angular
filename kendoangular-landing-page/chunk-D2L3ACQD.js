import{Dc as N,Ec as je,Oc as de,Wc as fe,Yc as ve,Zc as I,a as ue,ac as he,bd as ze,dc as M,kd as F,la as He,uc as _}from"./chunk-LQCEIJVJ.js";import{$a as f,Aa as ee,B as k,Ca as b,Cb as Le,D as Ie,Dc as le,Eb as h,Fc as ce,Hb as B,Ib as $,J as D,Jb as O,Jc as Fe,Kb as E,Kc as ae,La as a,Lb as se,Mb as re,Na as K,Nb as pe,Pb as Me,Qa as R,Qb as G,Ra as p,Sb as U,Wa as te,Ya as m,_a as Z,_b as A,ba as Pe,bc as w,ca as Y,eb as x,f as C,fa as ke,ga as Re,i as Ee,j as W,la as Ae,ma as De,mb as l,nb as v,nc as Ne,ob as g,pb as V,t as we,ta as T,tb as ie,tc as L,ua as S,ub as oe,vb as ne,wb as xe,y as P}from"./chunk-USDRQVEU.js";var Ye=["popoverWrapper"],et=["titleTemplateWrapper"],tt=["bodyTemplateWrapper"],it=(i,s)=>({width:i,height:s}),Te=(i,s)=>({$implicit:i,data:s});function ot(i,s){if(i&1&&V(0,"div",8),i&2){let e=h(2);l("ngClass",e.getCalloutPosition())}}function nt(i,s){i&1&&ne(0)}function st(i,s){if(i&1&&(v(0,"div",9),f(1,nt,1,0,"ng-container",10),g()),i&2){h();let e=se(5);a(),l("ngTemplateOutlet",e)}}function rt(i,s){}function pt(i,s){if(i&1&&f(0,rt,0,0,"ng-template",16),i&2){let e=h(4);l("ngTemplateOutlet",e.titleTemplate==null?null:e.titleTemplate.templateRef)("ngTemplateOutletContext",w(2,Te,e.anchor,e.contextData))}}function lt(i,s){if(i&1&&(ie(0),G(1),oe()),i&2){let e=h(4);a(),U(" ",e.title," ")}}function ct(i,s){if(i&1&&(v(0,"div",14,2),f(2,pt,1,5,null,15)(3,lt,2,1,"ng-container",15),g()),i&2){let e=h(3);a(2),l("ngIf",e.titleTemplate),a(),l("ngIf",e.title&&!e.titleTemplate)}}function at(i,s){}function ut(i,s){if(i&1&&f(0,at,0,0,"ng-template",16),i&2){let e=h(4);l("ngTemplateOutlet",e.bodyTemplate==null?null:e.bodyTemplate.templateRef)("ngTemplateOutletContext",w(2,Te,e.anchor,e.contextData))}}function ht(i,s){if(i&1&&(ie(0),G(1),oe()),i&2){let e=h(4);a(),U(" ",e.body," ")}}function dt(i,s){if(i&1&&(v(0,"div",17,3),f(2,ut,1,5,null,15)(3,ht,2,1,"ng-container",15),g()),i&2){let e=h(3);a(2),l("ngIf",e.bodyTemplate),a(),l("ngIf",e.body&&!e.bodyTemplate)}}function ft(i,s){}function vt(i,s){if(i&1&&f(0,ft,0,0,"ng-template",16),i&2){let e=h(4);l("ngTemplateOutlet",e.actionsTemplate==null?null:e.actionsTemplate.templateRef)("ngTemplateOutletContext",w(2,Te,e.anchor,e.contextData))}}function mt(i,s){if(i&1&&(v(0,"div",18),f(1,vt,1,5,null,15),g()),i&2){let e=h(3);a(),l("ngIf",e.actionsTemplate)}}function gt(i,s){if(i&1&&f(0,ct,4,2,"div",11)(1,dt,4,2,"div",12)(2,mt,2,1,"div",13),i&2){let e=h(2);l("ngIf",e.titleTemplate||e.title),a(),l("ngIf",e.bodyTemplate||e.body),a(),l("ngIf",e.actionsTemplate)}}function bt(i,s){if(i&1&&(v(0,"div",5,0),f(2,ot,1,1,"div",6)(3,st,2,1,"div",7)(4,gt,3,3,"ng-template",null,1,Ne),g()),i&2){let e=se(5),t=h();l("ngStyle",w(4,it,t.width,t.height)),a(2),l("ngIf",t.callout),a(),l("ngIf",t.callout)("ngIfElse",e)}}var Ze=(i,s)=>({$implicit:i,anchor:s});function _t(i,s){}function yt(i,s){if(i&1&&(v(0,"div",7),f(1,_t,0,0,"ng-template",3),g()),i&2){let e=h();a(),l("ngIf",e.titleTemplate)("ngTemplateOutlet",e.titleTemplate)("ngTemplateOutletContext",w(3,Ze,e.anchor,e.anchor))}}function Ct(i,s){}function Tt(i,s){if(i&1&&G(0),i&2){let e=h();U(" ",e.templateString," ")}}function St(i,s){if(i&1){let e=xe();v(0,"div",8),Le("click",function(o){Ae(e);let n=h();return De(n.onCloseClick(o))}),v(1,"a",9),V(2,"kendo-icon-wrapper",10),g()()}if(i&2){let e=h();x("aria-hidden",!0),a(),x("title",e.closeButtonTitle),a(),l("svgIcon",e.xIcon)}}function Ot(i,s){if(i&1&&V(0,"div",11),i&2){let e=h();l("ngClass",e.calloutPositionClass())}}var Ve=(()=>{class i extends fe{service;closeTitle;constructor(e){super(),this.service=e}static \u0275fac=function(t){return new(t||i)(p(I))};static \u0275dir=m({type:i,selectors:[["","kendoTooltipLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[A([{provide:fe,useExisting:Pe(()=>i)}]),Z]})}return i})(),me={popover:"Invalid value provided for the 'popover' property. The accepted data types are 'PopoverComponent' or 'PopoverFn'.",templateData:"templateData must be a function, but received",showOn:"Invalid value provided for the 'showOn' property. The available options are 'click', 'hover', 'focus' or 'none'."},ge=class extends de{anchor;constructor(s){super(),this.anchor=s}},be=class extends de{anchor;popover;constructor(s,e){super(),this.anchor=s,this.popover=e}},_e=class{anchor;popover;constructor(s,e){this.anchor=s,this.popover=e}},ye=class{anchor;constructor(s){this.anchor=s}},Et=0,wt=0,It=0,Q=(i,s)=>{switch(s){case"popoverTitle":return`${i}-${++wt}`;case"popoverBody":return`${i}-${++It}`;default:return`${i}-${++Et}`}};function Be(i,s){let e={},t={},o={};switch(i){case"top":e={horizontal:"center",vertical:"top"},t={horizontal:"center",vertical:"bottom"},o={horizontal:0,vertical:s};break;case"bottom":e={horizontal:"center",vertical:"bottom"},t={horizontal:"center",vertical:"top"},o={horizontal:0,vertical:s};break;case"right":e={horizontal:"right",vertical:"center"},t={horizontal:"left",vertical:"center"},o={horizontal:s,vertical:0};break;case"left":e={horizontal:"left",vertical:"center"},t={horizontal:"right",vertical:"center"},o={horizontal:s,vertical:0};break;default:break}return{anchorAlign:e,popupAlign:t,popupMargin:o}}function Pt(i,s){return i||(s==="top"||s==="bottom"?{horizontal:"fit",vertical:"flip"}:{horizontal:"flip",vertical:"fit"})}function $e(i){return i.nodeType===9}function H(i,s){if(i.closest)return i.closest(s);let e=Element.prototype.matches?(o,n)=>o.matches(n):(o,n)=>o.msMatchesSelector(n),t=i;for(;t&&!$e(t);){if(e(t,s))return t;t=t.parentNode}}function We(i,s){if(!i||$e(i))return!1;if(i.contains)return i.contains(s);if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)}var kt=(i,s)=>{for(;i&&i!==s;)i=i.parentNode;return i};function Ke(i,s,e){let t=i.getBoundingClientRect();return t[s]+t[e]/2}function Ce(i,s){return i.indexOf(s)!==-1}function q(i){return i.querySelectorAll(je)}function Rt(i){let s=q(i),e=s.length>0?s[0]:i,t=s.length>0?s[s.length-1]:i;return[e,t]}var Ge={name:"@progress/kendo-angular-tooltip",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1763638974,version:"21.1.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},Ue=(()=>{class i{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||i)(p(K,8))};static \u0275dir=m({type:i,selectors:[["","kendoPopoverTitleTemplate",""]]})}return i})(),Qe=(()=>{class i{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||i)(p(K,8))};static \u0275dir=m({type:i,selectors:[["","kendoPopoverBodyTemplate",""]]})}return i})(),qe=(()=>{class i{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||i)(p(K,8))};static \u0275dir=m({type:i,selectors:[["","kendoPopoverActionsTemplate",""]]})}return i})(),j=(()=>{class i{localization;renderer;element;zone;anchor;position="right";set offset(e){this._offset=e}get offset(){return this.callout?14+this._offset:this._offset}set width(e){this._width=typeof e=="number"?`${e}px`:e}get width(){return this._width}set height(e){this._height=typeof e=="number"?`${e}px`:e}get height(){return this._height}direction;title;subtitle;body;callout=!0;animation=!1;set templateData(e){if(L&&typeof e!="function")throw new Error(`${me.templateData} ${JSON.stringify(e)}.`);this._templateData=e}get templateData(){return this._templateData}visible=!1;get isHidden(){return!this.visible}get hasAttributeHidden(){return!this.visible}show=new T;shown=new T;hide=new T;hidden=new T;closeOnKeyDown=new T;popoverWrapper;titleTemplateWrapper;bodyTemplateWrapper;titleTemplate;bodyTemplate;actionsTemplate;contextData;_width="auto";_height="auto";popoverId="";_offset=6;subs=new C;constructor(e,t,o,n){this.localization=e,this.renderer=t,this.element=o,this.zone=n,ue(Ge)}ngOnInit(){this.popoverId=Q("k-popover"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})),this.subs.add(this.renderer.listen(this.element.nativeElement,"keydown",e=>this.onKeyDown(e)))}ngAfterViewInit(){this.zone.onStable.pipe(D(1)).subscribe(()=>{if(this.visible){let e=this.popoverWrapper.nativeElement,t=q(e);t.length>0&&t[0].focus(),this.setAriaAttributes(e,t)}})}ngOnDestroy(){this.subs.unsubscribe()}getCalloutPosition(){switch(this.position){case"top":return{"k-callout-s":!0};case"bottom":return{"k-callout-n":!0};case"left":return{"k-callout-e":!0};case"right":return{"k-callout-w":!0};default:return{"k-callout-s":!0}}}onKeyDown(e){let t=e.code,o=e.target;t===N.Tab&&this.keepFocusWithinComponent(o,e),t===N.Escape&&this.closeOnKeyDown.emit()}_templateData=()=>null;keepFocusWithinComponent(e,t){let o=this.popoverWrapper.nativeElement,[n,r]=Rt(o),c=!t.shiftKey&&e===r,u=t.shiftKey&&e===n;c&&(t.preventDefault(),n.focus()),u&&(t.preventDefault(),r.focus())}setAriaAttributes(e,t){if(this.titleTemplate){let o=this.titleTemplateWrapper.nativeElement;if(q(o).length>0){let r=Q("k-popover-header","popoverTitle");this.renderer.setAttribute(o,"id",r),this.renderer.setAttribute(e,"aria-labelledby",r)}}if(this.bodyTemplate){let o=this.bodyTemplateWrapper.nativeElement;if(q(o).length>0){let r=Q("k-popover-body","popoverBody");this.renderer.setAttribute(o,"id",r),this.renderer.setAttribute(e,"aria-describedby",r)}}this.renderer.setAttribute(e,"id",this.popoverId),this.renderer.setAttribute(e,"role",t.length>0?"dialog":"tooltip")}static \u0275fac=function(t){return new(t||i)(p(I),p(R),p(b),p(S))};static \u0275cmp=te({type:i,selectors:[["kendo-popover"]],contentQueries:function(t,o,n){if(t&1&&(B(n,Ue,5),B(n,Qe,5),B(n,qe,5)),t&2){let r;O(r=E())&&(o.titleTemplate=r.first),O(r=E())&&(o.bodyTemplate=r.first),O(r=E())&&(o.actionsTemplate=r.first)}},viewQuery:function(t,o){if(t&1&&($(Ye,5),$(et,5),$(tt,5)),t&2){let n;O(n=E())&&(o.popoverWrapper=n.first),O(n=E())&&(o.titleTemplateWrapper=n.first),O(n=E())&&(o.bodyTemplateWrapper=n.first)}},hostVars:8,hostBindings:function(t,o){t&2&&(x("dir",o.direction)("aria-hidden",o.hasAttributeHidden),re("width",o._width)("height",o._height),pe("k-hidden",o.isHidden))},inputs:{position:"position",offset:"offset",width:"width",height:"height",title:"title",subtitle:"subtitle",body:"body",callout:"callout",animation:"animation",templateData:"templateData"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden",closeOnKeyDown:"closeOnKeyDown"},features:[A([I,{provide:ve,useValue:"kendo.popover"}])],decls:1,vars:1,consts:[["popoverWrapper",""],["noCallout",""],["titleTemplateWrapper",""],["bodyTemplateWrapper",""],["class","k-popover k-popup",3,"ngStyle",4,"ngIf"],[1,"k-popover","k-popup",3,"ngStyle"],["class","k-popover-callout",3,"ngClass",4,"ngIf"],["class","k-popover-inner",4,"ngIf","ngIfElse"],[1,"k-popover-callout",3,"ngClass"],[1,"k-popover-inner"],[4,"ngTemplateOutlet"],["class","k-popover-header",4,"ngIf"],["class","k-popover-body",4,"ngIf"],["class","k-popover-actions k-actions k-actions-stretched k-actions-horizontal",4,"ngIf"],[1,"k-popover-header"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-popover-body"],[1,"k-popover-actions","k-actions","k-actions-stretched","k-actions-horizontal"]],template:function(t,o){t&1&&f(0,bt,6,7,"div",4),t&2&&l("ngIf",o.visible)},dependencies:[ce,Fe,le,ae],encapsulation:2})}return i})(),At=["hover","click","none","focus"],Xe=(()=>{class i{ngZone;popupService;renderer;set popover(e){if(e instanceof j||typeof e=="function")this._popover=e;else if(L)throw new Error(me.popover)}get popover(){return this._popover}set showOn(e){if(L&&!Ce(At,e))throw new Error(me.showOn);this._showOn=e}get showOn(){return this._showOn}anchor=null;popupRef;disposeHoverOverListener;disposeHoverOutListener;disposeClickListener;disposePopupHoverOutListener;disposePopupHoverInListener;disposePopupFocusOutListener;subs=new C;_popoverService;_hideSub;_focusInsideSub;_popover;_showOn="click";_popupOpenSub;_popupCloseSub;_popupSubs;constructor(e,t,o){this.ngZone=e,this.popupService=t,this.renderer=o}ngAfterViewInit(){he()&&this.manageEvents()}ngOnDestroy(){this.closePopup(),this.subs.unsubscribe(),this._popupSubs&&this._popupSubs.unsubscribe(),this.disposeHoverOverListener&&this.disposeHoverOverListener(),this.disposeHoverOutListener&&this.disposeHoverOutListener(),this.disposeClickListener&&this.disposeClickListener(),this._focusInsideSub&&this._focusInsideSub.unsubscribe(),this._hideSub&&this._hideSub.unsubscribe(),this._popupOpenSub&&this._popupOpenSub.unsubscribe(),this._popupCloseSub&&this._popupCloseSub.unsubscribe()}hide(){this.closePopup()}closePopup(){this.popupRef&&(this.anchor&&this.renderer.removeAttribute(this.anchor,"aria-describedby"),this.popupRef.close(),this.popupRef=null,this.disposePopupHoverOutListener&&this.disposePopupHoverOutListener(),this.disposePopupHoverInListener&&this.disposePopupHoverInListener(),this.disposePopupFocusOutListener&&this.disposePopupFocusOutListener(),this._popupSubs.unsubscribe())}openPopup(e){this.anchor=e instanceof b?e.nativeElement:e;let t=this.popover instanceof j?this.popover:this.popover(this.anchor),o=Be(t.position,t.offset),n=o.anchorAlign,r=o.popupAlign,c=o.popupMargin,u=t.animation;this.popupRef=this.popupService.open({anchor:{nativeElement:this.anchor},animate:u,content:j,popupAlign:r,anchorAlign:n,margin:c,collision:{horizontal:"fit",vertical:"fit"}});let d=this.popupRef.content.instance;this.popupRef&&(this.popupRef.popup.instance.renderDefaultClass=!1),this._popupSubs=new C,e&&(this._popupSubs.add(this.renderer.listen(this.anchor,"keydown",y=>this.onKeyDown(y))),this.renderer.setAttribute(this.anchor,"aria-describedby",d.popoverId)),this._popupSubs.add(d.closeOnKeyDown.subscribe(()=>{this.anchor.focus(),this.hide()})),this.applySettings(this.popupRef.content,t),this.monitorPopup(),this.initializeCompletionEvents(t,this.anchor)}isPrevented(e,t){let o=this.popover instanceof j?this.popover:this.popover(e),n;return n=this.initializeEvents(o,n,t,e),n.isDefaultPrevented()}monitorPopup(){this.showOn==="hover"&&this.ngZone.runOutsideAngular(()=>{let e=this.popupRef.popupElement;this.disposePopupHoverInListener=this.renderer.listen(e,"mouseenter",t=>{this.ngZone.run(o=>this._popoverService.emitPopoverState(!0))}),this.disposePopupHoverOutListener=this.renderer.listen(e,"mouseleave",t=>{this.ngZone.run(o=>this._popoverService.emitPopoverState(!1))})}),this.showOn==="focus"&&this.ngZone.runOutsideAngular(()=>{let e=this.popupRef.popupElement;this.disposePopupFocusOutListener=this.renderer.listen(e,"focusout",t=>{_(t.relatedTarget,n=>n.classList&&n.classList.contains("k-popover"))||this.ngZone.run(n=>this._popoverService.emitFocusInsidePopover(!1))})})}applySettings(e,t){let o=e.instance;o.visible=!0,o.anchor=this.anchor,o.position=t.position,o.offset=t.offset,o.width=t.width,o.height=t.height,o.title=t.title,o.body=t.body,o.callout=t.callout,o.animation=t.animation,o.contextData=t.templateData(this.anchor),o.titleTemplate=t.titleTemplate,o.bodyTemplate=t.bodyTemplate,o.actionsTemplate=t.actionsTemplate,this.popupRef.content.changeDetectorRef.detectChanges()}manageEvents(){this.ngZone.runOutsideAngular(()=>{switch(this.showOn){case"hover":this.subscribeToShowEvents([{name:"mouseenter",handler:this.mouseenterHandler},{name:"mouseleave",handler:this.mouseleaveHandler}]);break;case"focus":this.subscribeToShowEvents([{name:"focus",handler:this.focusHandler},{name:"blur",handler:this.blurHandler}]);break;case"click":this.subscribeClick();break;default:break}})}initializeEvents(e,t,o,n){return o?(t=new ge(n),this.shouldEmitEvent(!!this.popupRef,"show",e)&&this.ngZone.run(()=>e.show.emit(t))):(t=new be(n,this.popupRef),this.shouldEmitEvent(!!this.popupRef,"hide",e)&&this.ngZone.run(()=>e.hide.emit(t))),t}onKeyDown(e){e.code===N.Escape&&this.hide()}initializeCompletionEvents(e,t){this.shouldEmitCompletionEvents("shown",e)&&this.popupRef.popupOpen.subscribe(()=>{let o=new _e(t,this.popupRef);e.shown.emit(o)}),this.shouldEmitCompletionEvents("hidden",e)&&this.popupRef.popupClose.subscribe(()=>{this.ngZone.run(o=>{let n=new ye(t);e.hidden.emit(n)})})}shouldEmitEvent(e,t,o){return!!(t==="show"&&!e&&M(o[t])||t==="hide"&&e&&M(o[t]))}shouldEmitCompletionEvents(e,t){return!!(M(t[e])&&!this._popupOpenSub||M(t[e])&&!this._popupCloseSub)}static \u0275fac=function(t){return new(t||i)(p(S),p(F),p(R))};static \u0275dir=m({type:i,inputs:{popover:"popover",showOn:"showOn"},standalone:!1})}return i})(),X=(()=>{class i{ngZone;_pointerOverPopup=new W(null);_pointerOverAnchor=new W(null);_focusInsidePopover=new W(null);_hidePopover=new Ee;_isOrigin;originAnchor;currentAnchor;subs=new C;constructor(e){this.ngZone=e,this.monitor()}ngOnDestroy(){this.subs.unsubscribe()}get isPopoverHovered(){return this._pointerOverPopup.asObservable()}emitPopoverState(e){this.ngZone.run(t=>this._pointerOverPopup.next(e))}get isAnchorHovered(){return this._pointerOverAnchor.asObservable()}emitAnchorState(e,t){this._isOrigin=this.originAnchor===t,this.currentAnchor=t,e&&(this.originAnchor=t),this.ngZone.run(o=>this._pointerOverAnchor.next(e))}get isFocusInsidePopover(){return this._focusInsidePopover.asObservable()}emitFocusInsidePopover(e){this.ngZone.run(t=>this._focusInsidePopover.next(e)),this._focusInsidePopover.next(null)}get hidePopover(){return this._hidePopover.asObservable()}monitor(){this.subs.add(we(this.isPopoverHovered,this.isAnchorHovered).pipe(Ie(20)).subscribe(e=>{let[t,o]=e;this._hidePopover.next([t,o,this._isOrigin,this.currentAnchor])}))}static \u0275fac=function(t){return new(t||i)(Re(S))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Dt=(()=>{class i extends Xe{hostEl;ngZone;popupService;renderer;popoverService;constructor(e,t,o,n,r){super(t,o,n),this.hostEl=e,this.ngZone=t,this.popupService=o,this.renderer=n,this.popoverService=r,this._popoverService=this.popoverService}ngOnChanges(e){e.showOn&&!e.showOn.isFirstChange()&&(this.subs.unsubscribe(),this.disposeClickListener&&this.disposeClickListener(),this.subs=new C,this.manageEvents())}show(){this.popupRef||(this.ngZone.run(()=>{this.openPopup(this.hostEl)}),this.popupRef.popupAnchorViewportLeave.pipe(D(1)).subscribe(()=>this.hide()))}toggle(){this.popupRef?this.hide():this.show()}subscribeToShowEvents(e){let t=this.hostEl.nativeElement;this.subs.add(this.renderer.listen(t,e[0].name,()=>{this.popoverService.emitAnchorState(!0,t),e[0].handler()})),this.subs.add(this.renderer.listen(t,e[1].name,o=>{this.popoverService.emitAnchorState(!1,null),e[1].handler({domEvent:o})}))}subscribeClick(){this.disposeClickListener&&this.disposeClickListener(),this.disposeClickListener=this.renderer.listen(document,"click",e=>{this.onClick(e)})}mouseenterHandler=()=>{this.controlVisibility(this.hostEl.nativeElement,!0)};mouseleaveHandler=()=>{this.isPrevented(this.hostEl.nativeElement,!1)||this._hideSub||(this._hideSub=this.popoverService.hidePopover.subscribe(e=>{let[t,o]=e;!t&&!o&&this.hide()}))};focusHandler=()=>{this.controlVisibility(this.hostEl.nativeElement,!0)};blurHandler=e=>{let t=e.domEvent;if(this.isPrevented(this.hostEl.nativeElement,!1))return;!!_(t.relatedTarget,n=>n.classList&&n.classList.contains("k-popover"))||this.hide(),this._focusInsideSub||(this._focusInsideSub=this.popoverService.isFocusInsidePopover.pipe(k(n=>n!==null)).subscribe(n=>{n||this.hide()}))};onClick(e){let t=!!_(e.target,n=>n.classList&&n.classList.contains("k-popup")),o=!!_(e.target,n=>n===this.hostEl.nativeElement);t||this.popupRef&&o||(o?this.controlVisibility(this.hostEl.nativeElement,!0):this.controlVisibility(this.hostEl.nativeElement,!1))}controlVisibility(e,t){this.isPrevented(e,t)||(t?this.show():this.hide())}static \u0275fac=function(t){return new(t||i)(p(b),p(S),p(F),p(R),p(X))};static \u0275dir=m({type:i,selectors:[["","kendoPopoverAnchor",""]],exportAs:["kendoPopoverAnchor"],features:[A([X]),Z,ee]})}return i})(),xt=(()=>{class i extends Xe{wrapperEl;ngZone;popupService;renderer;popoverService;filter;constructor(e,t,o,n,r){super(t,o,n),this.wrapperEl=e,this.ngZone=t,this.popupService=o,this.renderer=n,this.popoverService=r,this._popoverService=this.popoverService}show(e){this.popupRef||(this.ngZone.run(()=>{this.openPopup(e)}),this.popupRef.popupAnchorViewportLeave.pipe(D(1)).subscribe(()=>this.hide()))}toggle(e){let t=this.popupRef&&this.popupRef.content.instance.anchor;this.popupRef?(this.hide(),t!==e&&this.show(e)):this.show(e)}subscribeClick(){this.disposeClickListener&&this.disposeClickListener(),this.disposeClickListener=this.renderer.listen(document,"click",e=>{let t=H(e.target,this.filter);this.clickHandler(t,e)})}mouseenterHandler=e=>{this.controlVisibility(e,!0)};mouseleaveHandler=e=>{let t=e.anchor;this.isPrevented(t,!1)||this._hideSub||(this._hideSub=this.popoverService.hidePopover.subscribe(o=>{let[n,,r,c]=o;!n&&!r&&(this.hide(),!r&&c&&this.show(c))}))};focusHandler=e=>{this.controlVisibility(e,!0)};blurHandler=e=>{let t=e.anchor,o=e.domEvent;if(this.isPrevented(t,!1))return;let n=!!_(o.relatedTarget,r=>r.classList&&r.classList.contains("k-popover"));n||this.hide(),this._focusInsideSub||(this._focusInsideSub=this.popoverService.isFocusInsidePopover.pipe(k(r=>r!==null)).subscribe(r=>{!r&&!n&&this.hide()}))};subscribeToShowEvents(e){Array.from(document.querySelectorAll(this.filter)).forEach(o=>{this.subs.add(this.renderer.listen(o,e[0].name,()=>{this.popoverService.emitAnchorState(!0,o),e[0].handler(o)})),this.subs.add(this.renderer.listen(o,e[1].name,n=>{this.popoverService.emitAnchorState(!1,null),e[1].handler({anchor:o,domEvent:n})}))})}clickHandler(e,t){let o=!!_(t.target,c=>c.classList&&c.classList.contains("k-popup")),n=this.popupRef&&this.popupRef.content.instance.anchor,r=!!_(t.target,c=>c===(n||e));if(!(this.showOn!=="click"||o||this.popupRef&&r)){if(!e&&this.popupRef){this.controlVisibility(e,!1);return}r?this.controlVisibility(e,!0):this.popupRef&&(this.controlVisibility(e,!1),this.controlVisibility(e,!0))}}controlVisibility(e,t){this.isPrevented(e,t)||(t?this.show(e):this.hide())}static \u0275fac=function(t){return new(t||i)(p(b),p(S),p(F),p(R),p(X))};static \u0275dir=m({type:i,selectors:[["","kendoPopoverContainer",""]],inputs:{filter:"filter"},exportAs:["kendoPopoverContainer"],features:[A([X]),Z]})}return i})(),Je=(()=>{class i{content;localizationService;xIcon=He;direction;close=new T;get cssClasses(){return"k-tooltip"}hostRole="tooltip";get hostId(){return this.tooltipId}get className(){return this.closable}get cssPosition(){return"relative"}tooltipWidth=null;tooltipHeight=null;titleTemplate;anchor;closable;templateRef;templateString;closeTitle;callout=!0;position;tooltipId;dynamicRTLSubscription;constructor(e,t){this.content=e,this.localizationService=t,this.direction=t.rtl?"rtl":"ltr"}ngOnInit(){this.tooltipId=Q("tooltip"),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}calloutPositionClass(){return{top:"k-callout-s",left:"k-callout-e",bottom:"k-callout-n",right:"k-callout-w"}[this.position]}onCloseClick(e){e.preventDefault(),this.close.emit()}updateCalloutPosition(e,t){if(!this.callout)return;let o=this.content.nativeElement.querySelector(".k-callout"),n=e==="top"||e==="bottom",r=n?"width":"height",c=n?"left":"top",u=n?"marginLeft":"marginTop",d=o.getBoundingClientRect()[r],y=Ke(this.anchor.nativeElement,c,r),Se=Ke(this.content.nativeElement,c,r),J=Math.abs(Se-y);if(J>1||J===0||Math.round(J)===0){let z=Se-y+d/2;o.style[u]=`${-z}px`}let Oe=this.calloutStyles(e,d,t);Object.keys(Oe).forEach(z=>{o.style[z]=Oe[z]})}calloutStyles=(e,t,o)=>{let n={},r=e==="top"||e==="bottom",c="180deg",u="0deg";return o?(e==="top"?n.bottom="unset":e==="bottom"?n.top="unset":e==="left"?n.right="unset":e==="right"&&(n.left="unset"),n[e]=`${-t}px`,n.transform=r?`rotateX(${c})`:`rotateY(${c})`,n):(n.transform=r?`rotateX(${u})`:`rotateY(${u})`,n)};static \u0275fac=function(t){return new(t||i)(p(b),p(I))};static \u0275cmp=te({type:i,selectors:[["kendo-tooltip"]],hostVars:13,hostBindings:function(t,o){t&2&&(x("dir",o.direction)("role",o.hostRole)("id",o.hostId),Me(o.cssClasses),re("position",o.cssPosition)("width",o.tooltipWidth,"px")("height",o.tooltipHeight,"px"),pe("k-tooltip-closable",o.className))},inputs:{tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",titleTemplate:"titleTemplate",anchor:"anchor",closable:"closable",templateRef:"templateRef",templateString:"templateString"},outputs:{close:"close"},features:[A([I,{provide:ve,useValue:"kendo.tooltip"}])],decls:7,vars:10,consts:()=>{let e;return e=$localize`:kendo.tooltip.closeTitle|The title of the close button:Close`,[["kendoTooltipLocalizedMessages","","closeTitle",e],[1,"k-tooltip-content"],["class","k-tooltip-title",4,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["class","k-tooltip-button",3,"click",4,"ngIf"],["class","k-callout",3,"ngClass",4,"ngIf"],[1,"k-tooltip-title"],[1,"k-tooltip-button",3,"click"],["href","#",1,"k-icon"],["name","x",3,"svgIcon"],[1,"k-callout",3,"ngClass"]]},template:function(t,o){t&1&&(ne(0,0),v(1,"div",1),f(2,yt,2,6,"div",2)(3,Ct,0,0,"ng-template",3)(4,Tt,1,1,"ng-template",4),g(),f(5,St,3,3,"div",5)(6,Ot,1,1,"div",6)),t&2&&(a(2),l("ngIf",o.titleTemplate),a(),l("ngIf",o.templateRef)("ngTemplateOutlet",o.templateRef)("ngTemplateOutletContext",w(7,Ze,o.anchor,o.anchor)),a(),l("ngIf",o.templateString),a(),l("ngIf",o.closable),a(),l("ngIf",o.callout))},dependencies:[Ve,ce,ae,ze,le],encapsulation:2})}return i})(),Lt=new ke("kendo-ui-tooltip-settings"),Mt=(()=>{class i{callout;closeTitle;position;showOn;showAfter;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Nt=(()=>{class i{tooltipWrapper;ngZone;renderer;popupService;filter="[title]";position="top";titleTemplate;showOn;showAfter=100;callout=!0;closable=!1;offset=6;tooltipWidth;tooltipHeight;tooltipClass;tooltipContentClass;collision;closeTitle;set tooltipTemplate(e){this.template=e}get tooltipTemplate(){return this.template}popupRef;template;showTimeout;anchor=null;mouseOverSubscription;mouseOutSubscription;mouseClickSubscription;anchorTitleSubscription;popupPositionChangeSubscription;popupMouseOutSubscription;keyboardNavigationSubscription=new C;closeClickSubscription;validPositions=["top","bottom","right","left"];validShowOptions=["hover","click","none"];constructor(e,t,o,n,r,c){this.tooltipWrapper=e,this.ngZone=t,this.renderer=o,this.popupService=n,ue(Ge),Object.assign(this,r,c),this.ngZone.runOutsideAngular(()=>{let u=this.tooltipWrapper.nativeElement;this.anchorTitleSubscription=P(u,"mouseover").pipe(k(()=>this.filter!=="")).subscribe(d=>{let y=H(d.target,this.filter);y&&this.hideElementTitle({nativeElement:y})}),this.mouseOverSubscription=P(u,"mouseover").pipe(k(()=>this.filter!=="")).subscribe(d=>this.onMouseOver(d)),this.mouseOutSubscription=P(u,"mouseout").subscribe(d=>this.onMouseOut(d))})}show(e){if(!this.popupRef)if(e instanceof Element&&(e={nativeElement:e}),this.anchor=e,this.showOn==="hover"){if(this.popupRef)return;clearTimeout(this.showTimeout),this.showTimeout=setTimeout(()=>this.showContent(this.anchor),this.showAfter)}else this.hideElementTitle(this.anchor),this.showContent(this.anchor)}hide(){clearTimeout(this.showTimeout);let e=this.anchor&&this.anchor.nativeElement;e&&e.getAttribute("data-title")&&(!e.getAttribute("title")&&e.hasAttribute("title")&&e.setAttribute("title",e.getAttribute("data-title")),e.setAttribute("data-title","")),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe(),this.closeClickSubscription&&this.closeClickSubscription.unsubscribe(),this.closePopup()}toggle(e,t){let o=this.anchor&&this.anchor.nativeElement;e instanceof Element&&(e={nativeElement:e}),o!==e.nativeElement&&this.hide(),o===e.nativeElement&&this.showOn==="click"&&this.hide(),typeof t>"u"&&(t=!this.popupRef),t?this.show(e):this.hide()}ngOnInit(){this.showOn===void 0&&(this.showOn="hover"),this.keyboardNavigationSubscription.add(this.renderer.listen(this.tooltipWrapper.nativeElement,"keydown",e=>this.onKeyDown(e))),this.verifyProperties()}ngOnChanges(e){e.showOn&&he()&&this.subscribeClick()}ngAfterViewChecked(){this.popupRef&&this.anchor&&!kt(this.anchor.nativeElement||this.anchor,this.tooltipWrapper.nativeElement)&&(this.anchor=null,this.hide())}ngOnDestroy(){this.hide(),this.template=null,this.anchorTitleSubscription.unsubscribe(),this.mouseOverSubscription.unsubscribe(),this.mouseOutSubscription.unsubscribe(),this.keyboardNavigationSubscription.unsubscribe(),this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe(),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe()}showContent(e){!e.nativeElement.getAttribute("data-title")&&!this.template||(this.ngZone.run(()=>{this.openPopup(e),this.bindContent(this.popupRef.content,e)}),this.popupRef.popupAnchorViewportLeave.pipe(D(1)).subscribe(()=>this.hide()))}bindContent(e,t){let o=e.instance;this.closeClickSubscription=o.close.subscribe(()=>{this.hide()}),this.template?o.templateRef=this.template:o.templateString=this.anchor.nativeElement.getAttribute("data-title"),this.titleTemplate&&(o.titleTemplate=this.titleTemplate),o.closeTitle=this.closeTitle,o.anchor=t,o.callout=this.callout,o.closable=this.closable,o.position=this.position,o.tooltipWidth=this.tooltipWidth,o.tooltipHeight=this.tooltipHeight,this.popupRef.content.changeDetectorRef.detectChanges()}hideElementTitle(e){let t=e.nativeElement;t.getAttribute("title")&&(t.setAttribute("data-title",t.getAttribute("title")),t.setAttribute("title",""))}openPopup(e){let t=Be(this.position,this.offset),o=t.anchorAlign,n=t.popupAlign,r=t.popupMargin;this.popupRef=this.popupService.open({anchor:e,anchorAlign:o,animate:!1,content:Je,collision:Pt(this.collision,this.position),margin:r,popupAlign:n,popupClass:"k-popup-transparent"}),this.tooltipClass&&this.renderer.addClass(this.popupRef.popupElement,this.tooltipClass),this.tooltipContentClass&&this.renderer.addClass(this.popupRef.content.instance.content.nativeElement,this.tooltipContentClass);let c=this.popupRef.content.instance;e&&this.renderer.setAttribute(e.nativeElement,"aria-labelledby",c.tooltipId),c.callout&&(this.popupPositionChangeSubscription=this.popupRef.popupPositionChange.subscribe(({flip:u})=>{let d=u.horizontal===!0||u.vertical===!0;c.updateCalloutPosition(this.position,d)})),this.showOn==="hover"&&this.ngZone.runOutsideAngular(()=>{let u=this.popupRef.popupElement;this.popupMouseOutSubscription=P(u,"mouseout").subscribe(d=>this.onMouseOut(d))})}closePopup(){this.popupRef&&(this.anchor&&this.renderer.removeAttribute(this.anchor.nativeElement,"aria-labelledby"),this.popupRef.close(),this.popupRef=null),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe()}subscribeClick(){this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),this.showOn==="click"&&(this.mouseClickSubscription=P(document,"click").pipe(k(()=>this.filter!=="")).subscribe(e=>this.onMouseClick(e,this.tooltipWrapper.nativeElement)))}onMouseClick(e,t){let o=e.target,n=H(o,this.filter),r=this.popupRef&&this.popupRef.popupElement;r&&(r.contains(o)||this.closable)||(t.contains(o)&&n?this.toggle(n,!0):r&&this.hide())}onKeyDown(e){let t=e.code,o=e.target;if(this.popupRef){let n=this.popupRef.content.location.nativeElement.getAttribute("id"),r=o.getAttribute("aria-labelledby");t===N.Escape&&this.canCloseTooltip(o,n,r)&&this.closePopup()}}canCloseTooltip(e,t,o){let n=t===o,r=H(e,this.filter),c=e===document.activeElement;return this.tooltipWrapper.nativeElement.contains(e)&&r&&c&&n}onMouseOver(e){let t=H(e.target,this.filter);this.showOn==="hover"&&t&&this.toggle(t,!0)}onMouseOut(e){if(this.showOn!=="hover"||this.closable)return;let t=this.popupRef&&this.popupRef.popupElement,o=e.relatedTarget;o&&this.anchor&&We(this.anchor.nativeElement,o)||o&&We(t,o)||this.hide()}verifyProperties(){if(L()){if(!Ce(this.validPositions,this.position))throw new Error("Invalid value provided for position property.The available options are 'top', 'bottom', 'left', or 'right'.");if(!Ce(this.validShowOptions,this.showOn))throw new Error("Invalid value provided for showOn property.The available options are 'hover' or 'none'.")}}static \u0275fac=function(t){return new(t||i)(p(b),p(S),p(R),p(F),p(Mt,8),p(Lt,8))};static \u0275dir=m({type:i,selectors:[["","kendoTooltip",""]],inputs:{filter:"filter",position:"position",titleTemplate:"titleTemplate",showOn:"showOn",showAfter:"showAfter",callout:"callout",closable:"closable",offset:"offset",tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",tooltipClass:"tooltipClass",tooltipContentClass:"tooltipContentClass",collision:"collision",closeTitle:"closeTitle",tooltipTemplate:"tooltipTemplate"},exportAs:["kendoTooltip"],features:[ee]})}return i})(),Ft=[Nt,Je,Ve],Ht=[j,qe,Qe,Ue,Dt,xt],hi=[...Ft,...Ht];export{Nt as a};
