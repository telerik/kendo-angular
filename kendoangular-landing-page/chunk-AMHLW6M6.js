import{b as ot,c as Rt,d as Mt,k as cn,l as bi,m as Ei,n as hn}from"./chunk-5WK3ZHV7.js";import{s as pn,t as un}from"./chunk-5WUEOOI5.js";import{c as st}from"./chunk-ZP5I5ZIF.js";import{a as dn,b as Ci}from"./chunk-TCJYAHNX.js";import{a as $e,c as ji,f as qe,g as Qi,l as $i,t as qi,u as Ji,v as ln}from"./chunk-FGT3XPEC.js";import{$b as on,Cb as Yi,Cc as ze,Eb as Xe,Fb as Q,Ib as en,Jb as fe,Kb as bt,Kc as nt,Ob as k,Pb as be,Qb as Ze,Rb as R,Sb as Ye,Tb as vi,Wb as tn,Zb as nn,_b as sn,a as kt,ac as jt,b as Wn,ec as rn,ia as Je,ja as Xi,jc as Et,ka as Zi,kc as Ge,lc as et,mc as I,o as Ht,qc as tt,rc as it,sc as Ve,va as Wt,wc as Qt,xc as Si,yc as Oe,zc as an}from"./chunk-JUZ3M5FN.js";import{$a as le,$b as y,Aa as Re,Ab as N,C as Ri,D as ui,Da as f,Dc as Fe,E as re,Ea as ce,Ec as Kt,F as V,Fc as Ie,Ga as X,Gb as x,H as Mi,Hb as p,Ib as Vi,Jb as zi,Jc as gi,K as ci,Kc as Pe,L as hi,M as mi,Mb as T,Nb as O,O as ke,Ob as C,Pb as b,Qb as B,Ra as d,Rb as K,Sa as ae,Sb as Z,Tb as Le,Ub as Ui,Va as he,Wa as c,Wb as ct,Xb as ht,Y as _i,Ya as ut,Yb as mt,Zb as Te,_ as Li,a as Ot,aa as fi,ac as _e,b as Ut,bb as G,bc as Bt,ca as ie,cc as Bi,da as Fi,db as me,ea as Kn,eb as _,fa as Pi,ga as Hn,h as Ee,hc as Ki,ia as z,ja as Ct,jb as F,kb as a,lb as ee,m as je,mb as De,mc as $,oa as yt,ob as Me,pc as Qe,qc as Ae,s as Nt,sc as Hi,ua as q,ub as v,va as h,vb as S,w as ue,wa as m,wb as P,wc as Wi,xb as we,yb as xe,za as Gi,zb as H}from"./chunk-KVYG4BGC.js";Wi();Wi();Wn();Kn();Hn();var jn=["kendoSearchbar",""],Qn=["content"],$n=["list"],qn=["virtualContainer"],xn=(n,r,e)=>({"height.px":n,"minHeight.px":r,boxSizing:e}),ye=(n,r)=>({templateRef:n,$implicit:r}),An=(n,r)=>({"k-disabled":n,"k-table-alt-row":r});function Jn(n,r){}function Xn(n,r){if(n&1&&_(0,Jn,0,0,"ng-template",12),n&2){let e=p(2);a("templateContext",_e(1,ye,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function Zn(n,r){if(n&1&&(v(0,"span"),K(1),S()),n&2){let e=p(2);Me(e.listGroupStickyHeaderTextClass),d(),Z(e.currentGroup)}}function Yn(n,r){if(n&1&&(v(0,"div",10),_(1,Xn,1,4,null,7)(2,Zn,2,3,"ng-template",11),S()),n&2){let e=p();Me(e.listGroupStickyHeaderClass),a("ngStyle",Bt(5,xn,e.virtual==null?null:e.virtual.itemHeight,e.virtual==null?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),d(),a("ngIf",e.fixedGroupTemplate),d(),a("ngIf",!e.fixedGroupTemplate)}}function es(n,r){if(n&1){let e=N();v(0,"input",16),x("change",function(t){h(e);let s=p().index,o=p(2);return m(o.onCheckedChange(t,s+o.startFrom))}),S()}if(n&2){let e=p().index,i=p(2);a("ngClass",i.checkboxClasses)("checked",i.isChecked(e))}}function ts(n,r){}function is(n,r){if(n&1&&_(0,ts,0,0,"ng-template",12),n&2){let e=p().$implicit,i=p(2);a("templateContext",_e(1,ye,i.template.templateRef,e))}}function ns(n,r){if(n&1&&(v(0,"span",17),K(1),S()),n&2){let e=p().$implicit,i=p(2);d(),Z(i.getText(e))}}function ss(n,r){if(n&1&&(v(0,"li",14),_(1,es,1,2,"input",15)(2,is,1,4,null,7)(3,ns,2,1,"ng-template",11),S()),n&2){let e,i=r.index,t=p(2);Me(t.listItemClass),ee("width",(e=t.rowWidth)!==null&&e!==void 0?e:null,"px"),a("checkboxes",t.checkboxes)("height",t.virtual==null?null:t.virtual.itemHeight)("index",i+t.startFrom)("multipleSelection",t.multipleSelection)("ngClass",_e(15,An,t.isDisabled(i),t.isAltRow(i))),F("id",t.optionPrefix+"-"+i)("tabIndex",-1)("aria-selected",t.isItemSelected(i)),d(),a("ngIf",t.checkboxes.enabled),d(),a("ngIf",t.template),d(),a("ngIf",!t.template)}}function os(n,r){if(n&1&&_(0,ss,4,18,"ng-template",13),n&2){let e=p();a("ngForOf",e.data)}}function rs(n,r){}function as(n,r){if(n&1&&_(0,rs,0,0,"ng-template",12),n&2){let e=p(2).$implicit,i=p(2);a("templateContext",_e(1,ye,i.groupTemplate.templateRef,e.value))}}function ls(n,r){if(n&1&&K(0),n&2){let e=p(2).$implicit;Z(e.value)}}function ds(n,r){if(n&1&&(v(0,"li",20,2)(2,"span"),_(3,as,1,4,null,7)(4,ls,1,1,"ng-template",11),S()()),n&2){let e,i=p(),t=i.$implicit,s=i.index,o=p(2);Me(o.listGroupItemClass),ee("width",(e=o.rowWidth)!==null&&e!==void 0?e:null,"px"),De("k-table-alt-row",o.isAltRow(s-1)),a("ngStyle",Bt(14,xn,o.virtual==null?null:o.virtual.itemHeight,o.virtual==null?null:o.virtual.itemHeight,o.virtual?"border-box":"inherit")),F("group-index",t.index)("id",o.optionPrefix+"-"+t.groupIndex+"-"+t.value.toString().split(" ").join(""))("tabIndex",-1),d(2),Me(o.listGroupItemTextClass),d(),a("ngIf",o.groupTemplate),d(),a("ngIf",!o.groupTemplate)}}function ps(n,r){}function us(n,r){if(n&1&&_(0,ps,0,0,"ng-template",12),n&2){let e=p(2).$implicit,i=p(2);a("templateContext",_e(1,ye,i.template.templateRef,e.value))}}function cs(n,r){if(n&1&&(v(0,"span",17),K(1),S()),n&2){let e=p(2).$implicit,i=p(2);d(),Z(i.getText(e.value))}}function hs(n,r){if(n&1&&(v(0,"li",21,2),_(2,us,1,4,null,7)(3,cs,2,1,"ng-template",11),S()),n&2){let e,i=p(),t=i.$implicit,s=i.index,o=p(2);Me(o.listItemClass),ee("width",(e=o.rowWidth)!==null&&e!==void 0?e:null,"px"),a("height",o.virtual==null?null:o.virtual.itemHeight)("index",t.offsetIndex)("multipleSelection",o.multipleSelection)("ngClass",_e(14,An,o.isDisabled(t.offsetIndex),o.isAltRow(s-1))),F("absolute-index",t.index)("id",o.optionPrefix+"-"+(s-1-t.groupIndex))("tabIndex",-1)("aria-selected",o.isItemSelected(t.offsetIndex)),d(2),a("ngIf",o.template),d(),a("ngIf",!o.template)}}function ms(n,r){if(n&1&&_(0,ds,5,18,"li",18)(1,hs,4,17,"li",19),n&2){let e=r.$implicit;a("ngIf",e.header),d(),a("ngIf",!e.header)}}function _s(n,r){if(n&1&&_(0,ms,2,2,"ng-template",13),n&2){let e=p();a("ngForOf",e.data)}}function fs(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",22),x("resize",function(){h(e);let t=p();return m(t.listResize.emit())}),S()}}function gs(n,r){if(n&1){let e=N();v(0,"div",23,3)(2,"div")(3,"kendo-resize-sensor",22),x("resize",function(){h(e);let t=p();return m(t.listResize.emit())}),S()()()}if(n&2){let e=p();d(2),ee("height",e.scrollHeight,"px")}}var vs=["actionSheetSearchBar"],Ss=n=>({duration:n});function Cs(n,r){n&1&&P(0,"kendo-icon",19)}function bs(n,r){if(n&1){let e=N();v(0,"kendo-textbox",17,1),x("valueChange",function(t){h(e);let s=p(2);return m(s.onValueChange(t))}),_(2,Cs,1,0,"ng-template",18),S()}if(n&2){let e=p(2);a("value",e.searchBarValue)("size",e.size)}}function Es(n,r){n&1&&H(0)}function Ds(n,r){if(n&1){let e=N();v(0,"div",20)(1,"button",21),x("click",function(){h(e);let t=p(2);return m(t.onCancel.emit())})("keydown.enter",function(t){return h(e),m(t.stopImmediatePropagation())}),K(2),S(),v(3,"button",22),x("click",function(){h(e);let t=p(2);return m(t.onApply.emit())})("keydown.enter",function(t){return h(e),m(t.stopImmediatePropagation())}),K(4),S()()}if(n&2){let e=p(2);d(),a("size",e.size),d(),Le(" ",e.messageFor("cancelButton")," "),d(),a("size",e.size),d(),Le(" ",e.messageFor("applyButton")," ")}}function ws(n,r){if(n&1){let e=N();v(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),K(4),S(),v(5,"div",8),K(6),S()(),v(7,"div",9)(8,"button",10),x("click",function(){h(e);let t=p();return m(t.handleClose())}),S()()(),v(9,"div",11),_(10,bs,3,2,"kendo-textbox",12),S()(),v(11,"div",13)(12,"div",14),_(13,Es,1,0,"ng-container",15),S()(),_(14,Ds,5,4,"div",16)}if(n&2){let e=p();d(4),Z(e.title),d(2),Z(e.subtitle),d(2),a("svgIcon",e.xIcon)("size",e.size)("tabIndex",-1),F("title",e.messageFor("clearTitle")),d(2),a("ngIf",e.showTextInput),d(3),a("ngTemplateOutlet",e.sharedPopupActionSheetTemplate),d(),a("ngIf",e.showActionButtons)}}var Dt=["container"],wt=["popupTemplate"],ni=["optionsList"],j=n=>({templateRef:n});function xs(n,r){}function As(n,r){if(n&1&&(v(0,"span",14),_(1,xs,0,0,"ng-template",15),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Is(n,r){n&1&&P(0,"kendo-separator")}function Ts(n,r){if(n&1){let e=N();v(0,"span",16),x("click",function(t){h(e);let s=p();return m(s.clearValue(t))})("mousedown",function(t){return h(e),m(t.preventDefault())}),P(1,"kendo-icon-wrapper",17),S()}if(n&2){let e=p();ee("visibility",e.clearButtonVisiblity),F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function Os(n,r){n&1&&P(0,"span",18)}function Ns(n,r){n&1&&P(0,"kendo-separator")}function ys(n,r){}function ks(n,r){if(n&1&&(v(0,"span",19),_(1,ys,0,0,"ng-template",15),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function Rs(n,r){n&1&&H(0)}function Ms(n,r){if(n&1&&_(0,Rs,1,0,"ng-container",20),n&2){p();let e=B(16);a("ngTemplateOutlet",e)}}function Ls(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",21),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}function Fs(n,r){}function Ps(n,r){if(n&1&&_(0,Fs,0,0,"ng-template",24),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate.templateRef))}}function Gs(n,r){}function Vs(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function zs(n,r){if(n&1&&(v(0,"div",25),_(1,Gs,0,0,"ng-template",26)(2,Vs,2,1,"ng-template",27),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function Us(n,r){}function Bs(n,r){if(n&1&&_(0,Us,0,0,"ng-template",24),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate.templateRef))}}function Ks(n,r){if(n&1){let e=N();_(0,Ps,1,3,null,7),v(1,"kendo-list",22,3),x("pageChange",function(t){h(e);let s=p();return m(s.pageChange(t))}),S(),_(3,zs,3,5,"div",23)(4,Bs,1,3,null,7)}if(n&2){let e=p();a("ngIf",e.headerTemplate),d(),a("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var Hs=["select"],Ft=n=>({mousedown:n});function Ws(n,r){}function js(n,r){if(n&1&&(v(0,"span",17),_(1,Ws,0,0,"ng-template",18),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Qs(n,r){n&1&&P(0,"kendo-separator")}function $s(n,r){if(n&1){let e=N();v(0,"span",19),x("click",function(t){h(e);let s=p();return m(s.clearValue(t))}),P(1,"kendo-icon-wrapper",20),S()}if(n&2){let e=p();ee("visibility",e.clearButtonVisiblity),a("kendoEventsOutsideAngular",y(5,Ft,e.preventEventDefault)),F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function qs(n,r){n&1&&P(0,"span",21)}function Js(n,r){n&1&&P(0,"kendo-separator")}function Xs(n,r){}function Zs(n,r){if(n&1&&(v(0,"span",22),_(1,Xs,0,0,"ng-template",18),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function Ys(n,r){n&1&&H(0)}function eo(n,r){if(n&1&&_(0,Ys,1,0,"ng-container",23),n&2){p();let e=B(19);a("ngTemplateOutlet",e)}}function to(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",24),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}function io(n,r){}function no(n,r){if(n&1&&_(0,io,0,0,"ng-template",27),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate.templateRef))}}function so(n,r){}function oo(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function ro(n,r){if(n&1&&(v(0,"div",28),_(1,so,0,0,"ng-template",29)(2,oo,2,1,"ng-template",30),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function ao(n,r){}function lo(n,r){if(n&1&&_(0,ao,0,0,"ng-template",27),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate.templateRef))}}function po(n,r){if(n&1){let e=N();_(0,no,1,3,null,8),v(1,"kendo-list",25,4),x("pageChange",function(t){h(e);let s=p();return m(s.pageChange(t))}),S(),_(3,ro,3,5,"div",26)(4,lo,1,3,null,8)}if(n&2){let e=p();a("ngIf",e.headerTemplate),d(),a("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var In=n=>({"k-disabled":n});function uo(n,r){}function co(n,r){if(n&1&&_(0,uo,0,0,"ng-template",15),n&2){let e=p();a("templateContext",_e(1,ye,e.valueTemplate.templateRef,e.dataItem))}}function ho(n,r){if(n&1&&K(0),n&2){let e=p();Z(e.getText())}}function mo(n,r){n&1&&P(0,"span",16)}function _o(n,r){n&1&&H(0)}function fo(n,r){if(n&1&&_(0,_o,1,0,"ng-container",17),n&2){p();let e=B(15);a("ngTemplateOutlet",e)}}function go(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",18),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}function vo(n,r){if(n&1){let e=N();v(0,"div",21),x("click",function(t){return h(e),m(t.stopImmediatePropagation())}),v(1,"span",22),P(2,"kendo-icon-wrapper",23),v(3,"input",24,4),mt("ngModelChange",function(t){h(e);let s=p(2);return ht(s.filterText,t)||(s.filterText=t),m(t)}),x("keydown",function(t){h(e);let s=B(4),o=p(2);return m(o.keydown(t,s))})("input",function(t){h(e);let s=p(2);return m(s.handleFilter(t))})("focus",function(){h(e);let t=p(2);return m(t.onFilterFocus())})("blur",function(){h(e);let t=p(2);return m(t.blurFilterInput())})("click",function(){h(e);let t=p(2);return m(t.handleClick())}),S()()()}if(n&2){let e=p(2);d(),a("ngClass",e.filterInputClasses),d(),a("svgIcon",e.searchIcon),d(),a("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction),ct("ngModel",e.filterText),F("aria-controls",e.listBoxId)("aria-label",e.messageFor("filterInputLabel"))}}function So(n,r){if(n&1&&(v(0,"div",25)(1,"div",26),K(2),S()()),n&2){let e=p(2);a("ngClass",e.optionLabelSizeClass),d(),a("ngClass",y(4,In,e.isDisabledDefaultItem))("index",-1),d(),Le(" ",e.getDefaultItemText()," ")}}function Co(n,r){}function bo(n,r){if(n&1&&(v(0,"div",25)(1,"div",26),_(2,Co,0,0,"ng-template",15),S()()),n&2){let e=p(2);a("ngClass",e.optionLabelSizeClass),d(),a("ngClass",y(4,In,e.isDisabledDefaultItem))("index",-1),d(),a("templateContext",_e(6,ye,e.itemTemplate.templateRef,e.defaultItem))}}function Eo(n,r){}function Do(n,r){if(n&1&&_(0,Eo,0,0,"ng-template",15),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate.templateRef))}}function wo(n,r){}function xo(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function Ao(n,r){if(n&1&&(v(0,"div",27),_(1,wo,0,0,"ng-template",28)(2,xo,2,1,"ng-template",9),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function Io(n,r){}function To(n,r){if(n&1&&_(0,Io,0,0,"ng-template",15),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate.templateRef))}}function Oo(n,r){if(n&1){let e=N();_(0,vo,5,7,"ng-template",9)(1,So,3,6,"ng-template",9)(2,bo,3,9,"ng-template",9)(3,Do,1,3,null,8),v(4,"kendo-list",19,3),x("pageChange",function(t){h(e);let s=p();return m(s.pageChange(t))}),S(),_(6,Ao,3,5,"div",20)(7,To,1,3,null,8)}if(n&2){let e=p();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.defaultItem&&!e.itemTemplate),d(),a("ngIf",e.defaultItem&&e.itemTemplate),d(),a("ngIf",e.headerTemplate),d(),a("id",e.listBoxId)("size",e.size)("rounded",e.rounded)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("ariaLive",e.ariaLive)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var No=["*"],yo=(n,r,e,i,t,s,o,l,g,A,w,M)=>({"k-focus":n,"k-disabled":r,"k-chip-sm":e,"k-chip-md":i,"k-chip-lg":t,"k-rounded-sm":s,"k-rounded-md":o,"k-rounded-lg":l,"k-rounded-full":g,"k-chip-solid k-chip-solid-base":A,"k-chip-flat k-chip-flat-base":w,"k-chip-outline k-chip-outline-base":M});function ko(n,r){}function Ro(n,r){n&1&&_(0,ko,0,0,"ng-template")}function Mo(n,r){}function Lo(n,r){if(n&1&&_(0,Mo,0,0,"ng-template",12),n&2){let e=p(2).$implicit,i=p();a("templateContext",_e(1,ye,i.groupTemplate.templateRef,e))}}function Fo(n,r){if(n&1&&K(0),n&2){let e=p(2).$implicit;Ui("",e.length," ",e.length===1?"item":"items"," selected")}}function Po(n,r){if(n&1&&(v(0,"span",9),_(1,Lo,1,4,null,10)(2,Fo,1,2,"ng-template",11),S()),n&2){let e=p(2);d(),a("ngIf",e.groupTemplate),d(),a("ngIf",!e.groupTemplate)}}function Go(n,r){}function Vo(n,r){if(n&1&&_(0,Go,0,0,"ng-template",12),n&2){let e=p(2).$implicit,i=p();a("templateContext",_e(1,ye,i.template.templateRef,e))}}function zo(n,r){if(n&1&&K(0),n&2){let e=p(2),i=e.$implicit,t=e.index,s=p();Z(s.tagProp(i,s.textField,t))}}function Uo(n,r){if(n&1&&(v(0,"span",9),_(1,Vo,1,4,null,10)(2,zo,1,1,"ng-template",11),S()),n&2){let e=p(2);d(),a("ngIf",e.template),d(),a("ngIf",!e.template)}}function Bo(n,r){if(n&1){let e=N();v(0,"div",3)(1,"span",4),_(2,Ro,1,0,null,5)(3,Po,3,2,"ng-template",null,0,$)(5,Uo,3,2,"ng-template",null,1,$),S(),v(7,"span",6)(8,"span",7)(9,"kendo-icon-wrapper",8),x("mousedown",function(t){let s=h(e),o=s.$implicit,l=s.index,g=p();return m(g.deleteTag(t,o,l))}),S()()()()}if(n&2){let e=r.$implicit,i=r.index,t=B(4),s=B(6),o=p();a("ngClass",Ki(9,yo,[i===o.focused,o.isTagDisabled(e,i),o.size==="small",o.size==="medium",o.size==="large",o.rounded==="small",o.rounded==="medium",o.rounded==="large",o.rounded==="full",o.fillMode==="solid",o.fillMode==="flat",o.fillMode==="outline"])),F("id",o.itemId(e,i))("aria-selected",!0)("role","option"),d(2),a("ngIf",o.isGroupTag(e))("ngIfThen",t)("ngIfElse",s),d(6),F("aria-hidden",i!==o.focused),d(),a("svgIcon",o.xCircleIcon)}}function Ko(n,r){}function Ho(n,r){if(n&1&&(v(0,"span",17),_(1,Ko,0,0,"ng-template",18),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Wo(n,r){n&1&&P(0,"kendo-separator")}function jo(n,r){if(n&1){let e=N();v(0,"span",19),x("mousedown",function(t){h(e);let s=p();return m(s.clearAll(t))}),P(1,"kendo-icon-wrapper",20),S()}if(n&2){let e=p();ee("visibility",e.clearButtonVisiblity),F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function Qo(n,r){n&1&&P(0,"span",21)}function $o(n,r){n&1&&P(0,"kendo-separator")}function qo(n,r){}function Jo(n,r){if(n&1&&(v(0,"span",22),_(1,qo,0,0,"ng-template",18),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function Xo(n,r){n&1&&H(0)}function Zo(n,r){if(n&1&&_(0,Xo,1,0,"ng-container",23),n&2){p();let e=B(18);a("ngTemplateOutlet",e)}}function Yo(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",24),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}function er(n,r){}function tr(n,r){if(n&1&&_(0,er,0,0,"ng-template",28),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate.templateRef))}}function ir(n,r){}function nr(n,r){if(n&1&&_(0,ir,0,0,"ng-template",28),n&2){let e=p(3);a("templateContext",_e(1,ye,e.customItemTemplate.templateRef,e.text))}}function sr(n,r){if(n&1&&K(0),n&2){let e=p(3);Z(e.text)}}function or(n,r){if(n&1&&(v(0,"div",29)(1,"div",30),_(2,nr,1,4,null,31)(3,sr,1,1,"ng-template",null,4,$),P(5,"kendo-icon-wrapper",32),S()()),n&2){let e=B(4),i=p(2);a("ngClass",i.customItemSizeClass),d(),a("multipleSelection",!0)("index",-1),d(),a("ngIf",i.customItemTemplate)("ngIfElse",e),d(3),a("svgIcon",i.plusIcon)}}function rr(n,r){}function ar(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function lr(n,r){if(n&1&&(v(0,"div",33),_(1,rr,0,0,"ng-template",34)(2,ar,2,1,"ng-template",35),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),d(),a("ngIf",!e.noDataTemplate)}}function dr(n,r){}function pr(n,r){if(n&1&&_(0,dr,0,0,"ng-template",28),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate.templateRef))}}function ur(n,r){if(n&1){let e=N();_(0,tr,1,3,null,8)(1,or,6,6,"div",25),v(2,"kendo-list",26,3),x("pageChange",function(t){h(e);let s=p();return m(s.pageChange(t))}),S(),_(4,lr,3,5,"div",27)(5,pr,1,3,null,8)}if(n&2){let e=p();a("ngIf",e.headerTemplate),d(),a("ngIf",e.allowCustom&&e.text),d(),a("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual)("checkboxes",e.checkboxes)("isMultiselect",!0)("isActionSheetExpanded",e.isActionSheetExpanded)("showStickyHeader",e.showStickyHeader),d(2),a("ngIf",e.data.length===0),d(),a("ngIf",e.footerTemplate)}}var cr=["header"],hr=["headerTable"],mr=["columnHeader"],_r=(n,r,e)=>({templateRef:n,$implicit:r,column:e}),fr=(n,r,e,i)=>({templateRef:n,$implicit:r,dataItem:e,column:i});function gr(n,r){}function vr(n,r){if(n&1&&(v(0,"span",22),_(1,gr,0,0,"ng-template",23),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.prefixTemplate==null?null:e.prefixTemplate.templateRef)}}function Sr(n,r){n&1&&P(0,"kendo-separator")}function Cr(n,r){if(n&1){let e=N();v(0,"span",24),x("click",function(t){h(e);let s=p();return m(s.clearValue(t))}),P(1,"kendo-icon-wrapper",25),S()}if(n&2){let e=p();ee("visibility",e.clearButtonVisiblity),a("kendoEventsOutsideAngular",y(5,Ft,e.preventEventDefault)),F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function br(n,r){n&1&&P(0,"span",26)}function Er(n,r){n&1&&P(0,"kendo-separator")}function Dr(n,r){}function wr(n,r){if(n&1&&(v(0,"span",27),_(1,Dr,0,0,"ng-template",23),S()),n&2){let e=p();d(),a("ngTemplateOutlet",e.suffixTemplate==null?null:e.suffixTemplate.templateRef)}}function xr(n,r){n&1&&H(0)}function Ar(n,r){if(n&1&&_(0,xr,1,0,"ng-container",28),n&2){p();let e=B(19);a("ngTemplateOutlet",e)}}function Ir(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",29),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}function Tr(n,r){}function Or(n,r){if(n&1&&_(0,Tr,0,0,"ng-template",39),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function Nr(n,r){if(n&1&&P(0,"col"),n&2){let e=p().$implicit;ee("width",e.width,"px")}}function yr(n,r){if(n&1&&(we(0),_(1,Nr,1,2,"col",40),xe()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function kr(n,r){if(n&1&&(we(0),K(1),xe()),n&2){let e=p(2).$implicit;d(),Le(" ",e.title||e.field," ")}}function Rr(n,r){}function Mr(n,r){if(n&1&&_(0,Rr,0,0,"ng-template",39),n&2){let e=p(2).$implicit;a("templateContext",Bt(1,_r,e.headerTemplate==null?null:e.headerTemplate.templateRef,e,e))}}function Lr(n,r){if(n&1&&(v(0,"th",42,9),_(2,kr,2,1,"ng-container",13)(3,Mr,1,5,null,13),S()),n&2){let e=p().$implicit;a("ngStyle",e.headerStyle)("ngClass",e.headerClass),d(2),a("ngIf",!e.headerTemplate),d(),a("ngIf",e.headerTemplate)}}function Fr(n,r){if(n&1&&(we(0),_(1,Lr,4,4,"th",41),xe()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function Pr(n,r){if(n&1&&(we(0),K(1),xe()),n&2){let e=p(2).$implicit,i=p().$implicit,t=p(2);d(),Le(" ",t.textFrom(i,e.field)," ")}}function Gr(n,r){}function Vr(n,r){if(n&1&&_(0,Gr,0,0,"ng-template",39),n&2){let e=p(2).$implicit,i=p().$implicit;a("templateContext",Bi(1,fr,e.cellTemplate==null?null:e.cellTemplate.templateRef,i,i,e))}}function zr(n,r){if(n&1&&(v(0,"span",44),_(1,Pr,2,1,"ng-container",13)(2,Vr,1,6,null,13),S()),n&2){let e=p(),i=e.$implicit,t=e.index,s=p(3);ee("width",s.getColumnWidth(t),"px")("max-width",s.getColumnWidth(t),"px"),a("ngClass",i.class)("ngStyle",i.style),d(),a("ngIf",!i.cellTemplate),d(),a("ngIf",i.cellTemplate)}}function Ur(n,r){if(n&1&&(we(0),_(1,zr,3,8,"span",43),xe()),n&2){let e=r.$implicit;d(),a("ngIf",!e.hidden&&e.matchesMedia)}}function Br(n,r){if(n&1&&_(0,Ur,2,1,"ng-container",34),n&2){let e=p(2);a("ngForOf",e.columns)}}function Kr(n,r){}function Hr(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function Wr(n,r){if(n&1&&(v(0,"div",45),_(1,Kr,0,0,"ng-template",46)(2,Hr,2,1,"ng-template",47),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function jr(n,r){}function Qr(n,r){if(n&1&&(we(0),v(1,"div",48)(2,"table",49)(3,"tfoot",50)(4,"tr",36)(5,"td",51),_(6,jr,0,0,"ng-template",39),S()()()()(),xe()),n&2){let e=p(2);d(6),a("templateContext",y(1,j,e.footerTemplate.templateRef))}}function $r(n,r){if(n&1){let e=N();_(0,Or,1,3,null,13),v(1,"div",30)(2,"div",31,4)(4,"div",32,5)(6,"table",33,6)(8,"colgroup"),_(9,yr,2,1,"ng-container",34),S(),v(10,"thead",35)(11,"tr",36),_(12,Fr,2,1,"ng-container",34),S()()()()(),_(13,Br,1,1,"ng-template",null,7,$),v(15,"kendo-list",37,8),x("pageChange",function(t){h(e);let s=p();return m(s.pageChange(t))})("listResize",function(){h(e);let t=B(3),s=p();return m(s.updateHeaderPadding(t))})("popupListScroll",function(t){h(e);let s=B(5);return m(s.scrollLeft=t.target.scrollLeft)}),S(),_(17,Wr,3,5,"div",38)(18,Qr,7,3,"ng-container",13),S()}if(n&2){let e=B(14),i=p();a("ngIf",i.headerTemplate),d(),a("ngClass",i.tableSizeClass),d(8),a("ngForOf",i.columns),d(3),a("ngForOf",i.columns),d(3),a("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.textField)("valueField",i.valueField)("template",y(20,j,e))("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("id",i.listBoxId)("virtual",i.virtual)("type","dropdowngrid")("rowWidth",i.rowWidth)("showStickyHeader",i.showStickyHeader),d(2),a("ngIf",i.data.length===0),d(),a("ngIf",i.footerTemplate)}}var Tn=["treeview"],On=["filterInput"],Ti=n=>({blur:n});function qr(n,r){}function Jr(n,r){if(n&1&&_(0,qr,0,0,"ng-template",17),n&2){let e=p(2);a("templateContext",_e(1,ye,e.valueTemplate.templateRef,e.dataItem))}}function Xr(n,r){if(n&1&&K(0),n&2){let e=p(2);Le(" ",e.text||e.placeholder," ")}}function Zr(n,r){if(n&1&&(v(0,"span",14),_(1,Jr,1,4,null,15)(2,Xr,1,1,"ng-template",16),S()),n&2){let e=p();d(),a("ngIf",e.valueTemplate),d(),a("ngIf",!e.valueTemplate)}}function Yr(n,r){if(n&1){let e=N();v(0,"span",18),x("click",function(t){h(e);let s=p();return m(s.clearValue(t))}),P(1,"kendo-icon-wrapper",19),S()}if(n&2){let e=p();ee("visibility",e.clearButtonVisiblity),F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function ea(n,r){n&1&&P(0,"span",20)}function ta(n,r){n&1&&H(0)}function ia(n,r){if(n&1&&_(0,ta,1,0,"ng-container",21),n&2){p();let e=B(13);a("ngTemplateOutlet",e)}}function na(n,r){if(n&1){let e=N();v(0,"span",25)(1,"span",26)(2,"span",27),P(3,"kendo-icon-wrapper",28),S(),v(4,"input",29,3),x("input",function(t){h(e);let s=p(2);return m(s.handleFilterInputChange(t.target))})("keydown.arrowdown",function(t){h(e);let s=B(5),o=p(2);return m(o.handleKeydown(t,s))})("keydown.alt.arrowup",function(t){h(e);let s=B(5),o=p(2);return m(o.handleKeydown(t,s))})("keydown.escape",function(t){h(e);let s=B(5),o=p(2);return m(o.handleKeydown(t,s))}),S()()()}if(n&2){let e=p(2);d(),a("ngClass",e.filterInputClasses),d(2),a("svgIcon",e.searchIcon),d(),a("filterInput",e.filterable&&!e.touchEnabled)("value",e.filter)("kendoEventsOutsideAngular",y(7,Ti,e.handleBlur))("scope",e),F("aria-label",e.messageFor("filterInputLabel"))}}function sa(n,r){}function oa(n,r){if(n&1&&_(0,sa,0,0,"ng-template",17),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function ra(n,r){if(n&1){let e=N();v(0,"kendo-treeview",30,4),mt("selectedKeysChange",function(t){h(e);let s=p(2);return ht(s.selectedKeys,t)||(s.selectedKeys=t),m(t)}),x("focusout",function(t){h(e);let s=p(2);return m(s.handleBlur(t))})("keydown",function(t){h(e);let s=p(2);return m(s.handleKeydown(t))})("selectionChange",function(t){h(e);let s=p(2);return m(s.onSelectionChange(t))})("expand",function(t){h(e);let s=p(2);return m(s.nodeExpand.emit(t))})("collapse",function(t){h(e);let s=p(2);return m(s.nodeCollapse.emit(t))})("childrenLoaded",function(){h(e);let t=p(2);return m(t.onChildrenLoaded())}),S()}if(n&2){let e=p(2);ee("max-height",e.listHeight,"px"),a("size",e.size)("nodes",e.data)("animate",!1),ct("selectedKeys",e.selectedKeys),a("selectBy",e.selectBy)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("loadOnDemand",e.loadOnDemand)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("filter",e.filter)("isVisible",e.isNodeVisible),F("id",e.treeViewId)}}function aa(n,r){}function la(n,r){if(n&1&&_(0,aa,0,0,"ng-template",17),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate==null?null:e.footerTemplate.templateRef))}}function da(n,r){}function pa(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function ua(n,r){if(n&1&&(v(0,"div",31),_(1,da,0,0,"ng-template",32)(2,pa,2,1,"ng-template",16),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function ca(n,r){if(n&1&&_(0,na,6,9,"span",22)(1,oa,1,3,null,15)(2,ra,2,17,"kendo-treeview",23)(3,la,1,3,null,15)(4,ua,3,5,"div",24),n&2){let e=p();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.headerTemplate),d(),a("ngIf",e.data.length!==0&&!e.allNodesHidden),d(),a("ngIf",e.footerTemplate),d(),a("ngIf",e.data.length===0||e.allNodesHidden)}}function ha(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",33),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}var ma=["checkAllInput"],_a=n=>({focusout:n});function fa(n,r){if(n&1&&(v(0,"span",14),K(1),S()),n&2){let e=p();d(),Le(" ",e.placeholder," ")}}function ga(n,r){if(n&1){let e=N();v(0,"span",15),x("click",function(t){h(e);let s=p();return m(s.clearAll(t))}),P(1,"kendo-icon-wrapper",16),S()}if(n&2){let e=p();F("title",e.messageFor("clearTitle")),d(),a("svgIcon",e.xIcon)}}function va(n,r){n&1&&P(0,"span",17)}function Sa(n,r){n&1&&H(0)}function Ca(n,r){if(n&1&&_(0,Sa,1,0,"ng-container",18),n&2){p();let e=B(12);a("ngTemplateOutlet",e)}}function ba(n,r){if(n&1){let e=N();v(0,"div",24)(1,"span",25)(2,"span",26),P(3,"kendo-icon-wrapper",27),S(),v(4,"input",28,4),x("input",function(t){h(e);let s=p(2);return m(s.handleFilterInputChange(t.target))})("keydown",function(t){h(e);let s=B(5),o=p(2);return m(o.handleKeydown(t,s))}),S()()()}if(n&2){let e=p(2);d(),a("ngClass",e.filterInputClasses),d(2),a("svgIcon",e.searchIcon),d(),a("filterInput",e.filterable&&!e.touchEnabled)("value",e.filter)("kendoEventsOutsideAngular",y(7,Ti,e.handleBlur))("scope",e),F("aria-label",e.messageFor("filterInputLabel"))}}function Ea(n,r){}function Da(n,r){if(n&1&&_(0,Ea,0,0,"ng-template",29),n&2){let e=p(2);a("templateContext",y(1,j,e.headerTemplate==null?null:e.headerTemplate.templateRef))}}function wa(n,r){if(n&1){let e=N();v(0,"div",30)(1,"span",31)(2,"input",32,5),x("checkedItemsChange",function(t){h(e);let s=p(2);return m(s.handleCheckedItemsChange(t))})("keydown",function(t){h(e);let s=p(2);return m(s.handleKeydown(t))}),S()(),v(4,"span",33),x("click",function(){h(e);let t=p(2);return m(t.toggleCheckAll())})("mousedown",function(t){return h(e),m(t.preventDefault())}),K(5),S()()}if(n&2){p();let e=B(4),i=p();d(2),a("checkAll",!i.filterable&&!i.touchEnabled)("ngClass",i.checkAllCheckboxClasses)("treeview",e)("checkedItems",i.checkedItems)("valueField",i.valueField)("lastAction",i.lastAction)("kendoEventsOutsideAngular",y(9,Ti,i.handleBlur))("scope",i),d(3),Le(" ",i.messageFor("checkAllText")," ")}}function xa(n,r){}function Aa(n,r){if(n&1&&_(0,xa,0,0,"ng-template",29),n&2){let e=p(2);a("templateContext",y(1,j,e.footerTemplate==null?null:e.footerTemplate.templateRef))}}function Ia(n,r){}function Ta(n,r){if(n&1&&(v(0,"div"),K(1),S()),n&2){let e=p(3);d(),Z(e.messageFor("noDataText"))}}function Oa(n,r){if(n&1&&(v(0,"div",34),_(1,Ia,0,0,"ng-template",35)(2,Ta,2,1,"ng-template",36),S()),n&2){let e=p(2);d(),a("ngIf",e.noDataTemplate)("templateContext",y(3,j,e.noDataTemplate==null?null:e.noDataTemplate.templateRef)),d(),a("ngIf",!e.noDataTemplate)}}function Na(n,r){if(n&1){let e=N();_(0,ba,6,9,"div",19)(1,Da,1,3,null,20)(2,wa,6,11,"div",21),v(3,"kendo-treeview",22,3),x("keydown",function(t){h(e);let s=p();return m(s.handleKeydown(t))})("nodeClick",function(t){h(e);let s=p();return m(s.handleNodeClick(t))})("expand",function(t){h(e);let s=p();return m(s.nodeExpand.emit(t))})("collapse",function(t){h(e);let s=p();return m(s.nodeCollapse.emit(t))})("checkedItemsChange",function(t){h(e);let s=p();return m(s.handleCheckedItemsChange(t))})("childrenLoaded",function(){h(e);let t=p();return m(t.onChildrenLoaded())}),S(),_(5,Aa,1,3,null,20)(6,Oa,3,5,"div",23)}if(n&2){let e=p();a("ngIf",e.filterable&&!e.isActionSheetExpanded),d(),a("ngIf",e.headerTemplate),d(),a("ngIf",e.checkAll),d(),ee("max-height",e.listHeight,"px"),a("size",e.size)("nodes",e.data)("animate",!1)("isHeterogeneous",e.isHeterogeneous)("checkable",e.checkableSettings)("checkedItems",e.checkedItems)("valueField",e.valueField)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("loadOnDemand",e.loadOnDemand)("filter",e.filter)("isVisible",e.isNodeVisible)("kendoEventsOutsideAngular",y(26,_a,e.handleBlur))("scope",e),F("id",e.treeViewId),d(2),a("ngIf",e.footerTemplate),d(),a("ngIf",!e.data||(e.data==null?null:e.data.length)===0||e.allNodesHidden)}}function ya(n,r){if(n&1){let e=N();v(0,"kendo-resize-sensor",37),x("resize",function(){h(e);let t=p();return m(t.onResize())}),S()}}var si={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1745303969,version:"18.5.2",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},u=n=>n!=null,ka=n=>!isNaN(n),ne=()=>{let n="",r,e;for(r=0;r<32;r++)e=Math.random()*16|0,(r===8||r===12||r===16||r===20)&&(n+="-"),n+=(r===12?4:r===16?e&3|8:e).toString(16);return n},Ra=(n,r)=>n.concat(r.substr(r.toLowerCase().indexOf(n.toLowerCase())+n.length));var Y=n=>Array.isArray(n),_t=n=>u(n)&&typeof n=="object",mn=n=>typeof n=="string"&&n.length===0,Ma=(n,r=[],e)=>n.map(i=>r.find(t=>E(t,e)===i)).filter(i=>i!==void 0),La=(n,r)=>Y(n)&&n.filter(e=>_t(e)&&E(e,r)!==void 0),Fa=(n,r,e)=>{let i=La(n,e)||[];return(Ma(n,r,e)||[]).concat(i)},Zt=n=>Y(n)&&n.every(r=>_t(r)),Di=(n,r,e)=>{let i=r.map(t=>u(t)&&u(E(t,e))?E(t,e):t);return n.reduce((t,s)=>{let o=u(s)&&u(E(s,e))?E(s,e):s,l=i.indexOf(o);return l!==-1&&t.push(l),t},[])},E=(n,r)=>u(n)?!u(r)||!_t(n)?n:bt(r)(n):null;var Pa=(n,r)=>{for(let e=0;e<n.length;e++)if(n.charAt(e)!==r)return!1;return!0},Ga=(n,r,e)=>{let i=n;return e&&(i=[e].concat(i)),i.slice(r).concat(i.slice(0,r))},_n=(n,r,e)=>{if(!u(n))return!1;let i=String(n);return e&&(i=i.toLowerCase()),i.indexOf(r)===0};var Nn=(n,r)=>u(n)?r.every(e=>n.hasOwnProperty(e)):!1,Ue=n=>n.className.includes("ng-untouched"),ft=n=>{},Va=(n,r)=>{let e=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return e?e.call(n,r):!1},za=(n,r)=>{let e=n;for(;e!==null&&e.nodeType===1;){if(Va(e,r))return e;e=e.parentElement||e.parentNode}return null},Yt=(n,r=0)=>{let e=Number(n);return isNaN(e)?r:e},Pt=(n,r,e)=>n.nativeElement.contains(r)||e&&e.popupElement.contains(r),xi=n=>(n||"").split("_").length-1,oi=(n,r)=>{if(!u(n)||n.children.length===0)return[];let e=n.children;return u(r)&&(e=e.filter(i=>r(i.item))),e.forEach(i=>e=e.concat(oi(i,r))),e},rt=({dataItem:n,index:r,level:e},i)=>{let t=Array.isArray(i)?i:[i],s=u(e)?e:xi(r),o=Math.min(s,t.length-1),l=t[o];return bt(l)(n)},L=(n,r)=>({small:`k-${n}-sm`,medium:`k-${n}-md`,large:`k-${n}-lg`})[r],W=n=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"})[n],J=(n,r)=>({solid:`k-${n}-solid`,flat:`k-${n}-flat`,outline:`k-${n}-outline`})[r],Ua=(n,r,e)=>n.reduce((i,t)=>r(t)?[...i,e(t)]:i,[]),Ba=n=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(n),yn=n=>/[a-zA-Z]/.test(n)&&n?.length===1;var at=(n,r)=>{let e=`kendo-treeview[id='${n}'] li.k-treeview-item`;return Array.from(r.querySelectorAll(e)).map(t=>({text:t.innerText,index:t.getAttribute("data-treeindex")}))},xt=n=>!!n,At=(n,r,e)=>{let i=n.element.nativeElement.querySelector(".k-actionsheet"),t=n.element.nativeElement.querySelector(".k-child-animation-container");r==="medium"?(e.removeClass(i,"k-actionsheet-fullscreen"),e.addClass(i,"k-actionsheet-bottom"),e.addClass(i,"k-adaptive-actionsheet"),e.removeStyle(t,"top"),e.removeStyle(t,"height"),e.setStyle(t,"bottom","0px")):r==="small"&&(e.removeClass(i,"k-actionsheet-bottom"),e.addClass(i,"k-actionsheet-fullscreen"),e.addClass(i,"k-adaptive-actionsheet"),e.setStyle(t,"bottom","0px"),e.setStyle(t,"height","100%"))},lt=(n,r,e)=>{let i=n.wrapper.nativeElement.querySelector("kendo-list ul"),t=r.nativeElement.getAttribute("aria-labelledby")||r.nativeElement.getAttribute("data-kendo-label-id");t&&e.setAttribute(i,"aria-labelledby",t)},It=(n,r)=>{let e=n.nativeElement.getAttribute("aria-labelledby")||n.nativeElement.getAttribute("data-kendo-label-id");return!r&&e?document.getElementById(e).innerText:r},pt=300,gt=(()=>{class n{localization;injector;input;ngZone;direction;tagListId;set readonly(e){this._readonly=e,this._readonly?this.renderer.setAttribute(this.input.nativeElement,"readonly",""):this.renderer.removeAttribute(this.input.nativeElement,"readonly")}get readonly(){return this._readonly}set disabled(e){this._disabled=e,this._disabled?this.renderer.setAttribute(this.input.nativeElement,"disabled",""):this.renderer.removeAttribute(this.input.nativeElement,"disabled")}get disabled(){return this._disabled}set isRequired(e){this._isRequired=e,this._isRequired?this.renderer.setAttribute(this.input.nativeElement,"required",""):this.renderer.removeAttribute(this.input.nativeElement,"required")}get isRequired(){return this._isRequired}set isSuggestable(e){this._isSuggestable=e,this.setAriaAutocomplete()}get isSuggestable(){return this._isSuggestable}set isFilterable(e){this._isFilterable=e,this.setAriaAutocomplete()}get isFilterable(){return this._isFilterable}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get formControl(){return this.injector.get(qe,null)?.control||null}suggestedText;set inputAttributes(e){tn(this.parsedAttributes)&&sn(this.parsedAttributes,this.renderer,this.input.nativeElement),this._inputAttributes=e,this.parsedAttributes=this.inputAttributes?on(this.inputAttributes,this.defaultAttributes):this.inputAttributes,this.setInputAttributes()}get inputAttributes(){return this._inputAttributes}id;activeDescendant;tabIndex;isLoading;ariaControls;ariaExpanded=null;get attrAriaInvalid(){return this.formControl?.invalid?!0:null}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}role="combobox";get dir(){return this.direction}valueChange=new f;onBlur=new f;onFocus=new f;onClick=new f;onNavigate=new f;get value(){return this.input.nativeElement.value}_isRequired;_readonly;_disabled;_userInput="";_previousValue="";_placeholder="";_isSuggestable=!1;_isFilterable=!1;renderer;subs=new Ee;_inputAttributes;parsedAttributes={};get defaultAttributes(){return{id:this.id,disabled:this.disabled?"":null,readonly:this.readonly?"":null,placeholder:this.placeholder,tabIndex:this.tabIndex,tabindex:this.tabIndex,dir:this.direction,required:this.isRequired?"":null,"aria-haspopup":"listbox","aria-expanded":this.ariaExpanded,"aria-controls":this.ariaControls,"aria-activedescendant":this.activeDescendant,"aria-busy":this.isLoading,"aria-invalid":this.formControl?.invalid}}get mutableAttributes(){return{autocomplete:"off",role:this.role,"aria-describedby":this.tagListId}}constructor(e,i,t,s,o){this.localization=e,this.injector=t,this.input=s,this.ngZone=o,this.direction=e.rtl?"rtl":"ltr",this.renderer=i,this.renderer.addClass(this.input.nativeElement,"k-input-inner"),this.renderer.setAttribute(this.input.nativeElement,"aria-haspopup","listbox"),this.renderer.setAttribute(this.input.nativeElement,"autocomplete","off")}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"))}ngOnChanges(e){if(!k())return;let i;if(this.input&&(e.userInput||e.suggestedText)){e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?i=this._previousValue:i=e.userInput.currentValue||"":i=this._previousValue;let t=this.input.nativeElement.selectionStart,s=i.length===t;this.writeInputValue(this.suggestedText?Ra(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):vi(navigator.userAgent)&&!s?this.setInputSelection(t,this.userInput.length):s?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(t,t),this._previousValue=this.userInput}}ngAfterViewInit(){this.subs.add(this.input.nativeElement.addEventListener("input",e=>this.handleInput(e))),this.subs.add(this.input.nativeElement.addEventListener("focus",e=>this.handleFocus(e))),this.subs.add(this.input.nativeElement.addEventListener("blur",e=>this.handleBlur(e))),this.subs.add(this.input.nativeElement.addEventListener("keydown",e=>this.handleKeydown(e)))}ngOnDestroy(){this.subs.unsubscribe()}writeInputValue(e){k()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,i){if(k()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,i)}catch{}}setAriaAutocomplete(){this.isFilterable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","list"),this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","inline"),this.isFilterable&&this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","both"),!this.isFilterable&&!this.isSuggestable&&this.renderer.removeAttribute(this.input.nativeElement,"aria-autocomplete")}handleInput(e){let i=e.target,s=vi(navigator.userAgent)&&Ba(i.value)?e.data:i.value;s!==this.userInput&&(this._previousValue=s,this.valueChange.emit(s))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){let i=e.keyCode;[I.ArrowUp,I.ArrowDown,I.ArrowLeft,I.ArrowRight,I.Enter,I.Escape,I.Delete,I.Backspace,I.Home,I.End,I.PageDown,I.PageUp].indexOf(i)>-1&&this.onNavigate.emit(e)}focus(){k()&&this.input.nativeElement.focus()}blur(){k()&&this.input.nativeElement.blur()}setInputSize(){let e=l=>l?l.length:0,i=this.input.nativeElement,t=e(this.placeholder),s=e(this.value),o=Math.max(t,s,1);this.renderer.setAttribute(i,"size",o.toString())}setInputAttributes(){let e=Object.assign({},this.mutableAttributes,this.parsedAttributes);nn(e,this.renderer,this.input.nativeElement,this.ngZone)}static \u0275fac=function(i){return new(i||n)(c(Q),c(he),c(Re),c(X),c(ce))};static \u0275cmp=le({type:n,selectors:[["input","kendoSearchbar",""]],hostVars:10,hostBindings:function(i,t){i&2&&F("id",t.id)("aria-activedescendant",t.activeDescendant)("tabindex",t.tabIndex)("aria-busy",t.isLoading)("aria-controls",t.ariaControls)("aria-expanded",t.ariaExpanded)("aria-invalid",t.attrAriaInvalid)("placeholder",t.placeholder)("role",t.role)("dir",t.dir)},inputs:{tagListId:"tagListId",readonly:"readonly",disabled:"disabled",isRequired:"isRequired",isSuggestable:"isSuggestable",isFilterable:"isFilterable",userInput:"userInput",suggestedText:"suggestedText",inputAttributes:"inputAttributes",id:"id",activeDescendant:"activeDescendant",tabIndex:"tabIndex",isLoading:"isLoading",ariaControls:"ariaControls",ariaExpanded:"ariaExpanded",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[q],attrs:jn,decls:0,vars:0,template:function(i,t){},encapsulation:2})}return n})(),Ke=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]})}return n})(),ve=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]]})}return n})(),Se=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]]})}return n})(),He=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]})}return n})(),We=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]})}return n})(),de=(()=>{class n{grouped=!1;groupIndices=[];view;_data;_flatData;set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return!u(this.data)||this.data.length===0?0:(this.grouped?this._flatData.filter(i=>!i.header):this.data).length}isGrouped(e){return u(e)&&e.length!==0&&u(e[0])&&Nn(e[0],["aggregates","field","items","value"])}getGroupIndices(e){let i=[];for(let t=0;t<=e.length-1;t++)i[t]=(i[t-1]||0)+e[t].items.length;return i}filter(e){let i=[];if(this.isGrouped(this.data))for(let t=0;t<=this.groupIndices.length-1;t++){let s=this.data[t].items.filter(e);s&&(i=i.concat(s))}else i=this.data.filter(e);return i}indexOf(e,i=0){let t=s=>s===e;return this.grouped&&(t=s=>s.value===e),this.findIndex(t,i)}findIndex(e,i=0){let t=-1;if(this.grouped){let s=this._flatData.filter(o=>!o.header&&o.offsetIndex>=i);t=s.findIndex(e),t=s[t]?s[t].offsetIndex:-1}else{let o=this.data.slice(i).findIndex(e);t=o!==-1?o+i:-1}return t}closestGroup(e){for(let i=e;i>=0;i--)if(this._flatData[i].header)return this._flatData[i]}find(e){let i=this.findIndex(e);return this.itemAt(i)}flatIndex(e){if(this.itemsCount===0)return-1;if(this.grouped){let i=this._flatData.find(t=>!t.header&&t.offsetIndex===e);if(i)return i.index}else return e;return-1}itemAt(e){let i;if(this.itemsCount===0)return i;if(this.grouped){let t=this._flatData.find(s=>!s.header&&s.offsetIndex===e);t&&(i=t.value)}else i=this.data[e];return i}groupAt(e){if(!(this.itemsCount===0||!this.isGrouped))return this._flatData.find(i=>i.header&&i.index===e)}groupItemsIndices(){return this.isGrouped?Ua(this.data,e=>e.header,e=>e.index):[]}groupField(){return this.itemsCount===0||!this.isGrouped?null:this._data[0].field}itemGroup(e){if(!e||this.itemsCount===0||!this.isGrouped)return;let i=this.groupField();if(i)return E(e,i)}flatten(e,i=void 0,t=0,s=0){let o=[];u(i)&&o.push({header:!0,groupIndex:s,index:s+t,offsetIndex:s,value:i});for(let l=0;l<e.length;l++){let g=[];e[l].items?(g=this.flatten(e[l].items,e[l].value,t,l),t=t+e[l].items.length):g.push({header:!1,groupIndex:s,index:s+t+l+1,offsetIndex:t+l,value:e[l]}),o=o.concat(g)}return o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ct({token:n,factory:n.\u0275fac})}return n})(),se=(()=>{class n{dataService;defaultItem;itemDisabled=null;constructor(e){this.dataService=e}isIndexDisabled(e){if(this.itemDisabled){let i=this.dataService.itemAt(e);if(u(i))return this.itemDisabled({dataItem:i,index:e});if(u(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){let i=this.dataService.indexOf(e);if(i!==-1)return this.itemDisabled({dataItem:e,index:i});if(u(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}static \u0275fac=function(i){return new(i||n)(yt(de))};static \u0275prov=Ct({token:n,factory:n.\u0275fac})}return n})(),oe=(()=>{class n{disabledItemsService;onSelect=new f;onChange=new f;onFocus=new f;total=0;lastClickedIndex;selectedIndices=[];focusedIndex;constructor(e){this.disabledItemsService=e}getTotal(){return this.total}isSelected(e){return u(this.selectedIndices.find(i=>i===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:u(e)}))}add(e,i){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice(),preventClosingPopup:i}))}indicesToBeRemoved=[];indicesToBeAdded=[];emitMultipleAddedRemoved(){this.onChange.emit({added:this.indicesToBeAdded,removed:this.indicesToBeRemoved,indices:this.selectedIndices.slice(),preventClosingPopup:!0,isMultipleSelection:!0}),this.indicesToBeAdded=[],this.indicesToBeRemoved=[]}addMultiple(e){this.indicesToBeAdded=e.slice(),this.selectedIndices.push(...e)}deselect(e,i){if(!this.isSelected(e))return;let t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.selected.length===0&&(this.lastClickedIndex=null),this.onChange.emit({indices:this.selectedIndices.slice(),removed:e,preventClosingPopup:i})}unselectMultiple(e){e.forEach(i=>{let t=this.selectedIndices.indexOf(i);this.selectedIndices.splice(t,1)}),this.indicesToBeRemoved=e.slice()}change(e){let i=u(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:i})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}selectFromTo(e,i){let t=[];for(let s=e;s<=i;s++)!this.isSelected(s)&&!this.disabledItemsService.isIndexDisabled(s)&&t.push(s);this.addMultiple(t)}unselectFromTo(e,i){let t=[];for(let s=e;s>=i;s--)this.isSelected(s)&&!this.disabledItemsService.isIndexDisabled(s)&&t.push(s);this.unselectMultiple(t)}unselectNotNeededIndices(e,i,t){let s=[];for(let o=0;o<e;o++)this.isSelected(o)&&s.push(o);for(let o=i+1;o<t;o++)this.isSelected(o)&&s.push(o);this.unselectMultiple(s)}static \u0275fac=function(i){return new(i||n)(yt(se))};static \u0275prov=Ct({token:n,factory:n.\u0275fac})}return n})(),D=function(n){return n[n.Undefined=0]="Undefined",n[n.Open=1]="Open",n[n.Close=2]="Close",n[n.Enter=3]="Enter",n[n.Tab=4]="Tab",n[n.Esc=5]="Esc",n[n.Delete=6]="Delete",n[n.Backspace=7]="Backspace",n[n.Home=8]="Home",n[n.End=9]="End",n[n.Up=10]="Up",n[n.Down=11]="Down",n[n.Left=12]="Left",n[n.Right=13]="Right",n[n.PageDown=14]="PageDown",n[n.PageUp=15]="PageUp",n[n.SelectPrevious=16]="SelectPrevious",n[n.SelectNext=17]="SelectNext",n[n.SelectAll=18]="SelectAll",n[n.SelectAllToBeginning=19]="SelectAllToBeginning",n[n.SelectAllToEnd=20]="SelectAllToEnd",n}(D||{}),fn=0,ei=class{index;originalEvent;constructor(r,e){this.index=r,this.originalEvent=e}},pe=(()=>{class n{disabledItemsService;selectionService;open=new f;close=new f;enter=new f;tab=new f;esc=new f;up=new f;right=new f;down=new f;left=new f;delete=new f;backspace=new f;home=new f;end=new f;pagedown=new f;pageup=new f;selectnext=new f;selectprevious=new f;selectall=new f;selectalltobeginning=new f;selectalltoend=new f;constructor(e,i){this.disabledItemsService=e,this.selectionService=i}process(e){let i=e.originalEvent.keyCode,t=e.originalEvent.altKey,s=e.originalEvent.shiftKey,o=e.originalEvent.ctrlKey||e.originalEvent.metaKey,l=e.openOnSpace,g=e.closeOnSpace,A,w=D.Undefined;t&&i===I.ArrowDown||l&&i===I.Space?w=D.Open:t&&i===I.ArrowUp||g&&i===I.Space?w=D.Close:s&&i===I.ArrowUp?w=D.SelectPrevious:s&&i===I.ArrowDown?w=D.SelectNext:o&&i===I.KeyA?w=D.SelectAll:o&&s&&i===I.Home?w=D.SelectAllToBeginning:o&&s&&i===I.End?w=D.SelectAllToEnd:i===I.Enter?w=D.Enter:i===I.Escape?w=D.Esc:i===I.Tab?w=D.Tab:i===I.ArrowUp?(A=this.next({current:e.current,start:e.min,end:e.max,step:-1}),w=D.Up):i===I.ArrowLeft?(A=this.next({current:e.current,start:e.min,end:e.max,step:-1}),w=D.Left):i===I.ArrowDown?(A=this.next({current:e.current,start:e.min,end:e.max,step:1}),w=D.Down):i===I.ArrowRight?(A=this.next({current:e.current,start:e.min,end:e.max,step:1}),w=D.Right):i===I.Home?(A=this.isDisabled(fn)?e.current:fn,w=D.Home):i===I.End?(A=this.isDisabled(e.max)?e.current:e.max,w=D.End):i===I.Delete?w=D.Delete:i===I.Backspace?w=D.Backspace:i===I.PageDown?w=D.PageDown:i===I.PageUp&&(w=D.PageUp);let M=new ei(A,e.originalEvent);return w!==D.Undefined&&this[D[w].toLowerCase()].emit(M),w}next(e){let{current:i,start:t,end:s,step:o}=e,l=u(i)?this.clampIndex(i+o,t,s):t,g=this.firstFocusableIndex(l,t,s,o);if(u(g))return g;if(this.selectionService.isSelected(i)&&i>=t)return i;let A=-1*o;return this.firstFocusableIndex(l,t,s,A)}clampIndex(e,i,t){return!u(e)||e<i?i:e>t?t:e}firstFocusableIndex(e,i,t,s){for(;i<=e&&e<=t;){if(!this.isDisabled(e))return e;e+=s}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}static \u0275fac=function(i){return new(i||n)(yt(se),yt(oe))};static \u0275prov=Ct({token:n,factory:n.\u0275fac})}return n})(),Ce=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]]})}return n})(),Be=class{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}},dt=class{data;filterable;filterChange;textField;valueField},gn=(()=>{class n{element;constructor(e){this.element=e}static \u0275fac=function(i){return new(i||n)(c(X))};static \u0275dir=G({type:n,selectors:[["li","role","option"],["li","role","group"]]})}return n})(),Oi=(()=>{class n{index;checkboxes={enabled:!1};height;isMultiselect;multipleSelection=!1;selectionService;constructor(e){this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.selectionService.lastClickedIndex=this.index,!(this.checkboxes.enabled&&!this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.deselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}static \u0275fac=function(i){return new(i||n)(c(oe))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(i,t){i&1&&x("click",function(o){return t.onClick(o)}),i&2&&(F("index",t.index),ee("height",t.height,"px")("min-height",t.height,"px"),De("k-focus",t.focusedClassName)("k-selected",t.selectedClassName))},inputs:{index:"index",checkboxes:"checkboxes",height:"height",isMultiselect:"isMultiselect",multipleSelection:"multipleSelection"}})}return n})(),Gt=(()=>{class n{dataService;wrapper;selectionService;disabledItemsService;cdr;zone;renderer;selected=[];focused=-1;textField;valueField;height;template;groupTemplate;fixedGroupTemplate;show=!0;id;optionPrefix;multipleSelection=!1;virtual;type="list";checkboxes={enabled:!1};ariaLive;isMultiselect;isActionSheetExpanded;showStickyHeader;rowWidth;set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set size(e){this.type==="list"&&(this.renderer.removeClass(this.wrapper.nativeElement,L("list",this.size)),e&&this.renderer.addClass(this.wrapper.nativeElement,L("list",e)),this._size=e)}get size(){return this._size}rounded="medium";onClick=new f;pageChange=new f;listResize=new f;popupListScroll=new f;items;content;list;virtualContainer;currentGroup;startFrom=0;lastLoaded=0;lastScrollTop=0;listContentClass;listClass;listItemClass;listVirtualClass;listGroupStickyHeaderClass;listGroupStickyHeaderTextClass;listGroupItemClass;listGroupItemTextClass;scrollToFocused=!1;_data;scrollSubscription;selectSubscription;_size="medium";get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return this.virtual.total*this.virtual.itemHeight}get overflowY(){if(u(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}get checkboxClasses(){return`${this.size?L("checkbox",this.size):""} ${this.rounded?W(this.rounded):""}`}constructor(e,i,t,s,o,l,g){this.dataService=e,this.wrapper=i,this.selectionService=t,this.disabledItemsService=s,this.cdr=o,this.zone=l,this.renderer=g,this.selectSubscription=re(this.selectionService.onSelect.pipe(ue(A=>A.indices[0])),this.selectionService.onFocus).pipe(Li(A=>this.zone.onStable.pipe(ke(1),ue(()=>A)))).subscribe(this.scrollToItem.bind(this)),this.prepareClasses()}ngOnChanges(e){be("data",e,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange()),this.setOverflow(),this.zone.onStable.pipe(ke(1)).subscribe(()=>{this.setGroupAttributes()})),be("virtual",e,!1)&&this.setOverflow(),be("type",e,!1)&&this.prepareClasses()}ngAfterViewInit(){this.setComponentClasses(),this.zone.runOutsideAngular(()=>{this.scrollSubscription=Ri(this.content.nativeElement,"scroll").pipe(Mi(100),ie(this.prefetchData.bind(this)),ie(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setGroupAttributes(),this.setOverflow()}setGroupAttributes(){let e=document.querySelectorAll("li"),i,t=[],s=!1,o;e.forEach((l,g)=>{i=l.getAttribute("role")==="group",!i&&s&&(this.renderer.setAttribute(l,"aria-describedby",o.getAttribute("id")),t.push(l.getAttribute("id")),(g+1>=e.length||e[g+1]?.getAttribute("role")==="group")&&(this.renderer.setAttribute(o,"aria-owns",t.join(" ")),t=[])),i&&(s=!0,o=l)})}ngAfterViewChecked(){if(this.virtual&&this.positionItems(),this.items&&this.scrollToFocused){this.scrollToFocused=!1;let e=this.items.length&&this.selectionService.focused===-1?0:this.selectionService.focused;this.scrollToItem(e)}this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(e,i){let t=e.target.checked;t&&!this.selectionService.isSelected(i)&&this.selectionService.add(i),!t&&this.selectionService.isSelected(i)&&this.selectionService.deselect(i)}prepareClasses(){this.type==="list"?(this.listContentClass="k-list-content",this.listClass="k-list-ul",this.listItemClass="k-list-item",this.listVirtualClass="k-virtual-list",this.listGroupStickyHeaderClass="k-list-group-sticky-header",this.listGroupStickyHeaderTextClass="k-list-header-text",this.listGroupItemClass="k-list-group-item",this.listGroupItemTextClass="k-list-item-text"):(this.listContentClass="k-table-body k-table-scroller",this.listClass="k-table k-table-list",this.listItemClass="k-table-row",this.listVirtualClass="k-virtual-table",this.listGroupStickyHeaderClass="k-table-group-sticky-header",this.listGroupStickyHeaderTextClass="k-table-th",this.listGroupItemClass="k-table-group-row",this.listGroupItemTextClass="k-table-th")}isChecked(e){let i=this.virtual?e+this.virtual.skip:e;return this.selectionService.isSelected(i)}firstVisibleItem(){let e=this.content.nativeElement,i=e.getBoundingClientRect(),t=Array.prototype.slice.call(e.querySelectorAll(".k-disabled"));t.forEach(o=>this.renderer.setStyle(o,"pointer-events","auto"));let s=document.elementFromPoint(i.left+1,i.top+1);return t.forEach(o=>this.renderer.setStyle(o,"pointer-events","none")),za(s,"li")}findCurrentGroup(){if(!this.dataService.grouped){this.currentGroup=void 0;return}let e=this.firstVisibleItem();if(e){let i;e.getAttribute("role")==="group"?(i=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(i)?.value):(i=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(i)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;let e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),i=this.content.nativeElement.scrollTop,t=Math.trunc(i/this.virtual.itemHeight),s=i>this.lastScrollTop,o=t+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1,l=this.pageSize-(this.lastLoaded-this.startFrom),g=this.lastLoaded-this.pageSize+e>=t-l;s&&o&&this.changePage(t),!s&&g&&this.changePage(t-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let i=this.pageSize+e;i>this.virtual.total&&(e--,i=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=i,this.pageChange.emit({skip:e,take:this.pageSize})}),this.setGroupAttributes()}index(e,i){return e>0?this.dataService.groupIndices[e-1]+i:i}getText(e){return E(e,this.textField)}getValue(e){return E(e,this.valueField)}isDisabled(e){return u(this.virtual)&&!this.dataService.grouped&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}isAltRow(e){return this.type==="dropdowngrid"&&e%2!==0}scrollToItem(e){let i=e;if(this.dataService.grouped&&(i=this.dataService.flatIndex(e)),this.virtual&&i>-1){this.scrollToIndex(i);return}let t=this.items.toArray();u(t[i])&&i!==-1&&this.scroll(t[i].element)}scrollWithOnePage(e){let i=this.content.nativeElement,t=i.clientHeight;e===D.PageDown?i.scrollTop+=t:e===D.PageUp&&(i.scrollTop-=t)}scrollToIndex(e){let i=this.content.nativeElement,t=i.scrollTop,s=e*this.virtual.itemHeight,o=this.virtual.itemHeight,l=i.clientHeight,g=s+o;t>s?t=s:g>t+l&&(t=g-l),i.scrollTop=t}scroll(e){if(!e)return;let i=e.nativeElement,t=this.content.nativeElement,s=i.offsetTop,o=i.offsetHeight,l=t.scrollTop,g=t.clientHeight,A=s+o;l>s?l=s:A>l+g&&(l=A-g),t.scrollTop=l}hasScrollbar(){return u(this.items)&&this.items.length&&u(this.list)&&u(this.content)?u(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight:!1}isItemSelected(e){return this.selectionService.isSelected(e)||null}setOverflow(){if(this.virtual){let e=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",e)}}hasVirtualScrollbar(){let e=this.content.nativeElement.offsetHeight,i=this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight;return this.virtualContainer&&i>e}positionItems(){this.items.forEach((e,i)=>{let t=(i+this.startFrom)*this.virtual.itemHeight;this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${t}px`)})}firstGroupHeaderInTargetedPage(e){return u(this.virtual)?this.virtual.skip===0&&this.virtual.pageSize>e:!0}setComponentClasses(){this.type==="list"&&(this.renderer.addClass(this.wrapper.nativeElement,"k-list"),this.size&&this.renderer.addClass(this.wrapper.nativeElement,L("list",this.size))),this.type==="dropdowngrid"&&this.renderer.setStyle(this.wrapper.nativeElement,"overflow-y","scroll"),u(this.virtual)&&this.renderer.addClass(this.wrapper.nativeElement,this.listVirtualClass)}static \u0275fac=function(i){return new(i||n)(c(de),c(X),c(oe),c(se),c(Ae),c(ce),c(he))};static \u0275cmp=le({type:n,selectors:[["kendo-list"]],viewQuery:function(i,t){if(i&1&&(O(Qn,7),O($n,7),O(qn,5),O(gn,5)),i&2){let s;C(s=b())&&(t.content=s.first),C(s=b())&&(t.list=s.first),C(s=b())&&(t.virtualContainer=s.first),C(s=b())&&(t.items=s)}},inputs:{selected:"selected",focused:"focused",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",show:"show",id:"id",optionPrefix:"optionPrefix",multipleSelection:"multipleSelection",virtual:"virtual",type:"type",checkboxes:"checkboxes",ariaLive:"ariaLive",isMultiselect:"isMultiselect",isActionSheetExpanded:"isActionSheetExpanded",showStickyHeader:"showStickyHeader",rowWidth:"rowWidth",data:"data",size:"size",rounded:"rounded"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize",popupListScroll:"popupListScroll"},features:[q],decls:9,vars:15,consts:[["content",""],["list",""],["li",""],["virtualContainer",""],[3,"class","ngStyle",4,"ngIf"],["unselectable","on",3,"scroll"],["role","listbox"],[4,"ngIf"],[3,"resize",4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[3,"ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",3,"checkboxes","height","index","multipleSelection","ngClass"],["type","checkbox","class","k-checkbox","role","presentation","tabindex","-1","aria-hidden","true",3,"ngClass","checked","change",4,"ngIf"],["type","checkbox","role","presentation","tabindex","-1","aria-hidden","true",1,"k-checkbox",3,"change","ngClass","checked"],[1,"k-list-item-text"],["role","group",3,"class","k-table-alt-row","ngStyle","width",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","class","ngClass","width",4,"ngIf"],["role","group",3,"ngStyle"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","ngClass"],[3,"resize"],["role","presentation",1,"k-height-container"]],template:function(i,t){if(i&1){let s=N();_(0,Yn,3,9,"div",4),v(1,"div",5,0),x("scroll",function(l){return h(s),m(t.popupListScroll.emit(l))}),v(3,"ul",6,1),_(5,os,1,1,null,7)(6,_s,1,1,null,7)(7,fs,1,0,"kendo-resize-sensor",8),S(),_(8,gs,4,2,"div",9),S()}i&2&&(a("ngIf",t.dataService.grouped&&t.showStickyHeader),d(),Me(t.listContentClass),ee("max-height",t.height,"px"),d(2),Me(t.listClass),F("id",t.id)("aria-live",t.ariaLive)("aria-multiselectable",t.isMultiselect)("aria-hidden",!t.show),d(2),a("ngIf",!t.dataService.grouped&&t.show),d(),a("ngIf",t.dataService.grouped),d(),a("ngIf",!t.virtual),d(),a("ngIf",t.virtual))},dependencies:[Ie,gi,Oe,Kt,gn,Oi,Fe,Ge],encapsulation:2})}return n})(),vn={pageSize:50,itemHeight:28},ri=(n,r)=>{let e=Object.assign({},vn,r);return n===!0?e:n?Ot({pageSize:vn.pageSize},n):null},ge=(()=>{class n{localization;title;showActionButtons;subtitle;size;showTextInput;sharedPopupActionSheetTemplate;isActionSheetExpanded;text;placeholder;closePopup=new f;textInputChange=new f;navigate=new f;onExpand=new f;onCollapse=new f;onApply=new f;onCancel=new f;actionSheet;actionSheetSearchBar;constructor(e){this.localization=e}searchBarValue="";animationDuration=pt;xIcon=Je;expanded=!1;messageFor(e){return this.localization.get(e)}onValueChange(e){this.searchBarValue=e,this.textInputChange.emit(e)}onOverlayClick(){this.expanded&&this.handleClose()}handleExpand(){this.onExpand.emit(),this.expanded=!0}handleClose(){this.closePopup.emit(),this.expanded=!1}static \u0275fac=function(i){return new(i||n)(c(Q))};static \u0275cmp=le({type:n,selectors:[["responsive-renderer"]],viewQuery:function(i,t){if(i&1&&(O(Ci,5),O(vs,5)),i&2){let s;C(s=b())&&(t.actionSheet=s.first),C(s=b())&&(t.actionSheetSearchBar=s.first)}},inputs:{title:"title",showActionButtons:"showActionButtons",subtitle:"subtitle",size:"size",showTextInput:"showTextInput",sharedPopupActionSheetTemplate:"sharedPopupActionSheetTemplate",isActionSheetExpanded:"isActionSheetExpanded",text:"text",placeholder:"placeholder"},outputs:{closePopup:"closePopup",textInputChange:"textInputChange",navigate:"navigate",onExpand:"onExpand",onCollapse:"onCollapse",onApply:"onApply",onCancel:"onCancel"},decls:3,vars:4,consts:[["actionSheet",""],["actionSheetSearchBar",""],[3,"overlayClick","keydown","expand","collapse","animation","expanded"],["kendoActionSheetTemplate",""],[1,"k-text-center","k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","icon","x","type","button","fillMode","flat","aria-hidden","true","innerCssClass","k-button-icon",3,"click","svgIcon","size","tabIndex"],[1,"k-actionsheet-titlebar-group","k-actionsheet-filter"],["placeholder","Filter","class","k-searchbox","autocomplete","off",3,"value","size","valueChange",4,"ngIf"],[1,"k-actionsheet-content","!k-overflow-hidden"],[1,"k-list-container"],[4,"ngTemplateOutlet"],["class","k-actionsheet-footer k-actions k-actions-stretched",4,"ngIf"],["placeholder","Filter","autocomplete","off",1,"k-searchbox",3,"valueChange","value","size"],["kendoTextBoxPrefixTemplate",""],["name","search"],[1,"k-actionsheet-footer","k-actions","k-actions-stretched"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","base",3,"click","keydown.enter","size"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","primary",3,"click","keydown.enter","size"]],template:function(i,t){if(i&1){let s=N();v(0,"kendo-actionsheet",2,0),x("overlayClick",function(){return h(s),m(t.onOverlayClick())})("keydown",function(l){return h(s),m(t.navigate.emit(l))})("expand",function(){return h(s),m(t.handleExpand())})("collapse",function(){return h(s),m(t.onCollapse.emit())}),_(2,ws,15,9,"ng-template",3),S()}i&2&&a("animation",y(2,Ss,t.animationDuration))("expanded",t.isActionSheetExpanded)},dependencies:[Ci,dn,ln,Ie,un,pn,an,Pe],encapsulation:2})}return n})(),ai=(()=>{class n{ngZone;renderer;cdr;hostElement;clearButtonClicked;isFocused;isFocusedChange=new f;onFocus=new f;handleBlur=new f;subscriptions=new Ee;constructor(e,i,t){this.ngZone=e,this.renderer=i,this.cdr=t}ngAfterViewInit(){let e=this.hostElement.nativeElement,i=!1,t=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",s=>{this.isFocused&&(t?(rn(s.relatedTarget,l=>l===e)||this.handleBlur.emit(),t=!1):i||this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{i=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{i=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",s=>{s.keyCode===I.Tab?t=!0:t=!1}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(i){return new(i||n)(c(ce),c(he),c(Ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}})}return n})(),ti=(()=>{class n extends Yi{noDataText;clearTitle;checkAllText;selectButtonText;filterInputLabel;popupLabel;applyButton;cancelButton;static \u0275fac=(()=>{let e;return function(t){return(e||(e=Gi(n)))(t||n)}})();static \u0275dir=G({type:n,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText",selectButtonText:"selectButtonText",filterInputLabel:"filterInputLabel",popupLabel:"popupLabel",applyButton:"applyButton",cancelButton:"cancelButton"},standalone:!1,features:[me]})}return n})(),vt=(()=>{class n extends ti{service;constructor(e){super(),this.service=e}static \u0275fac=function(i){return new(i||n)(c(Q))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],features:[Te([{provide:ti,useExisting:z(()=>n)}]),me]})}return n})(),$t="",Ka="medium",Ha="medium",Wa="solid",ja={multi:!0,provide:$e,useExisting:z(()=>kn)},kn=(()=>{class n{localization;dataService;popupService;selectionService;navigationService;disabledItemsService;_zone;cdr;renderer;hostElement;injector;adaptiveService;animationDuration=pt;xIcon=Je;responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){let e=0;k()&&(e=this.wrapper.offsetWidth);let i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get height(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}get listContainerClasses(){let e=["k-list-container","k-autocomplete-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText){this.suggestedText=void 0;return}let e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());if(this.suggest&&!this.backspacePressed&&e)return this.suggestedText}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}get clearButtonVisiblity(){if(fe)return"visible"}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return jt(this.formControl)}dataItem;toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!this._open;this._toggle(i)})}get isOpen(){return xt(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(i||t)return;this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){return!this.isOpen||!u(this.selectionService.focused)||this.selectionService.focused===-1?null:this.optionPrefix+"-"+this.selectionService.focused}highlightFirst=!0;showStickyHeader=!0;focusableId=`k-${ne()}`;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=E(this.dataService.itemAt(0),this.valueField))}get data(){let e=this.virtual;if(e){let i=e.skip||0,t=i+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(i,t)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||$t,this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||$t}valueField;placeholder="";adaptiveMode="none";title="";set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;clearButton=!0;suggest;disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}filterable=!1;set virtual(e){this._virtualSettings=ri(e)}get virtual(){return this._virtualSettings}set size(e){let i=e||Ka;this.renderer.removeClass(this.wrapper,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper,L("input",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||Ha;this.renderer.removeClass(this.wrapper,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper,W(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){let i=e||Wa;this.renderer.removeClass(this.wrapper,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper,J("input",i)),this._fillMode=i}get fillMode(){return this._fillMode}inputAttributes;valueChange=new f;filterChange=new f;open=new f;opened=new f;close=new f;closed=new f;onFocus=new f;onBlur=new f;inputFocus=new f;inputBlur=new f;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;widgetClasses=!0;get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-focus"),this._isFocused=e}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}text;listBoxId=`k-${ne()}`;optionPrefix=`k-${ne()}`;popupRef;windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}get formControl(){return this.injector.get(qe,null)?.control||null}onChangeCallback=ft;onTouchedCallback=ft;constructor(e,i,t,s,o,l,g,A,w,M,U,te){this.localization=e,this.dataService=i,this.popupService=t,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this._zone=g,this.cdr=A,this.renderer=w,this.hostElement=M,this.injector=U,this.adaptiveService=te,kt(si),this.direction=e.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges(),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){let i=this.virtual;i&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:i.pageSize})}reset(){this.value=$t}messageFor(e){return this.localization.get(e)}onAdaptiveTextBoxChange(e){this.search(e)}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change($t),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focusItemAt(e){let i=e>=0&&e<this.data.length;u(e)&&i&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this._open&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.width;i.style.minWidth=t,i.style.width=s}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Qe()&&u(e)&&typeof e!="string")throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,i=0){let t=this.findIndex(e,i);this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=E(this.dataService.itemAt(t),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){let i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(i))return;let t=this.navigationService.process({current:i,max:this.dataService.itemsCount-1,min:0,originalEvent:e});t!==D.Undefined&&t!==D.Backspace&&t!==D.Delete&&t!==D.Home&&t!==D.End&&t!==D.Left&&t!==D.Right&&t!==D.PageDown&&t!==D.PageUp&&(t===D.Enter&&this.isOpen||t!==D.Enter)&&e.preventDefault(),t===D.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(e){let i=this.selectionService.focused,t;if(this.isOpen&&e.originalEvent.preventDefault(),i>=0)t=E(this.dataService.itemAt(i),this.valueField);else{let s=this.suggest&&this.suggestedText&&this.data.length&&E(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();this.isOpen&&s?t=this.suggestedText:t=this.searchbar.value}this.isActionSheetExpanded&&i>=0&&this.togglePopup(!1),this.change(t)}handleEscape(){this.isOpen?this.togglePopup(!1):this.value="",this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){let i=u(this.text)?this.text.length:0;this.backspacePressed=e.length<i,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}onFilterChange(e){this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleInputFocus(){this.handleFocus(),R(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}handleFocus(){this._zone.run(()=>{!this.isFocused&&R(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;let e=this.value!==this.text;R(this.onBlur)||R(this.close)||Ue(this.wrapper)||e?this._zone.run(()=>{e&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){let e=this.filterable?this.selectionService.focused:-1;this.searchbar.input.nativeElement.scrollLeft=0;let i,t;e!==-1?(i=this.dataService.itemAt(e),t=E(i,this.valueField)||""):t=this.searchbar.value;let s=t===this.searchbar.value,o=t.toLowerCase()===this.searchbar.value.toLowerCase();!s&&o&&this.selectionService.resetSelection([]);let l=this.value!==this.text;R(this.inputBlur)||R(this.close)||Ue(this.wrapper)||l||this.formControl?.updateOn==="blur"?this._zone.run(()=>{l&&this.change(this.searchbar.value),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}pageChange(e){let i=this.virtual;i.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}popupMouseDownHandler=e=>e.preventDefault();_popupSettings={animate:!0};_virtualSettings;_open=!1;_value="";suggestedText;backspacePressed;subs=new Ee;valueChangeSubject=new je;touchstartDisposeHandler;_subtitle;wrapper;_isFocused=!1;direction;_size="medium";_rounded="medium";_fillMode="solid";subscribeEvents(){k()&&(this.subs.add(this.valueChangeSubject.subscribe(e=>{let i=this.value!==e,t=this.findIndex(e);this.selectionService.focused=t,this.value=e,this.text=e,i&&this.emitChange(e)})),this.subs.add(this.selectionService.onChange.subscribe(this.handleItemChange.bind(this))),this.subs.add(this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this))),this.subs.add(re(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.enter.subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(D[e.originalEvent.code]))})))}findIndex(e,i=0){let t;return e&&e.length&&this.dataService.itemsCount?t=this.dataService.findIndex(this.findIndexPredicate(e),i):t=-1,t}subscribeTouchEvents(){!k()||!fe||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let i=e.target;this.isFocused&&!Pt(this.hostElement,i,this.popupRef)&&this._zone.run(()=>this.blur())}))}handleItemChange(e){let i=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!u(i))return;let t=E(this.dataService.itemAt(i),this.valueField);this.change(t)}handleItemFocus(e){let i=this.selectionService.focused;!!(this.suggest&&this.data&&this.data.length&&i>=0)&&(this.suggestedText=E(this.dataService.itemAt(i),this.valueField))}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute",popupAlign:t,anchorAlign:i});let o=this.popupRef.popupElement,{min:l,max:g}=this.width;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=g,o.style.height=this.height,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){let i=new Be;return e?this.open.emit(i):this.close.emit(i),i.isDefaultPrevented()}firstFocusableIndex(e){let i=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<i?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?i=>{let t=E(i.value,this.valueField);return t=u(t)?t.toString().toLowerCase():"",t.startsWith(e.toLowerCase())}:i=>{let t=E(i,this.valueField);return t=u(t)?t.toString().toLowerCase():"",t.startsWith(e.toLowerCase())}}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper,J("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&this.filterChange.emit(""),this.searchbar.input.nativeElement.focus(),this.responsiveRendererComponent.searchBarValue="",this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.title=It(this.searchbar.input,this.title),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(Q),c(de),c(nt),c(oe),c(pe),c(se),c(ce),c(Ae),c(he),c(X),c(Re),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-autocomplete"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ke,5),T(s,ve,5),T(s,Se,5),T(s,Ce,5),T(s,He,5),T(s,We,5),T(s,it,5),T(s,tt,5)),i&2){let o;C(o=b())&&(t.template=o.first),C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.noDataTemplate=o.first),C(o=b())&&(t.groupTemplate=o.first),C(o=b())&&(t.fixedGroupTemplate=o.first),C(o=b())&&(t.suffixTemplate=o.first),C(o=b())&&(t.prefixTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(Dt,7,ut),O(wt,7),O(gt,7),O(ni,5)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.searchbar=s.first),C(s=b())&&(t.optionsList=s.first)}},hostVars:11,hostBindings:function(i,t){i&2&&(F("dir",t.dir),De("k-readonly",t.readonly)("k-autocomplete",t.widgetClasses)("k-input",t.widgetClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading))},inputs:{highlightFirst:"highlightFirst",showStickyHeader:"showStickyHeader",focusableId:"focusableId",data:"data",value:"value",valueField:"valueField",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",clearButton:"clearButton",suggest:"suggest",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode",inputAttributes:"inputAttributes"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoAutoComplete"],features:[Te([ja,de,oe,pe,se,Q,{provide:Xe,useValue:"kendo.autocomplete"},{provide:dt,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)}]),q],decls:17,vars:30,consts:()=>{let e;e=$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.autocomplete.clearTitle|The title of the clear button:clear`;let t;return t=$localize`:kendo.autocomplete.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoAutoCompleteLocalizedMessages","","noDataText",e,"clearTitle",i,"popupLabel",t],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","isSuggestable","isFilterable","isLoading","ariaControls","id","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(i,t){if(i&1){let s=N();H(0,4),we(1,5),mt("isFocusedChange",function(l){return h(s),ht(t.isFocused,l)||(t.isFocused=l),m(l)}),x("handleBlur",function(){return h(s),m(t.handleBlur())})("onFocus",function(){return h(s),m(t.handleFocus())}),_(2,As,2,1,"span",6)(3,Is,1,0,"kendo-separator",7),v(4,"input",8),x("onNavigate",function(l){return h(s),m(t.handleNavigate(l))})("valueChange",function(l){return h(s),m(t.searchBarChange(l))})("onBlur",function(){return h(s),m(t.handleInputBlur())})("onFocus",function(){return h(s),m(t.handleInputFocus())})("click",function(){return h(s),m(t.handleClick())}),S(),_(5,Ts,2,4,"span",9)(6,Os,1,0,"span",10)(7,Ns,1,0,"kendo-separator",7)(8,ks,2,1,"span",11),xe(),_(9,Ms,1,1,"ng-template",null,0,$),H(11,null,1),_(13,Ls,1,0,"kendo-resize-sensor",12),v(14,"responsive-renderer",13),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("textInputChange",function(l){return h(s),m(t.onFilterChange(l))})("navigate",function(l){return h(s),m(t.handleNavigate(l))}),S(),_(15,Ks,5,17,"ng-template",null,2,$)}if(i&2){let s=B(16);d(),a("hostElement",t.hostElement),ct("isFocused",t.isFocused),d(),a("ngIf",t.prefixTemplate),d(),a("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),d(),a("ariaExpanded",t.isOpen)("isSuggestable",t.suggest)("isFilterable",t.filterable)("isLoading",t.isLoading)("ariaControls",t.ariaControls)("id",t.focusableId)("activeDescendant",t.activeDescendant)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("isRequired",t.isControlRequired)("placeholder",t.placeholder)("inputAttributes",t.inputAttributes),d(),a("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(t.text==null?null:t.text.length)),d(),a("ngIf",t.loading),d(),a("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),d(),a("ngIf",t.suffixTemplate),d(5),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled),d(),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[vt,ai,Ie,Pe,Ve,gt,ze,Ge,ge,Oe,Gt],encapsulation:2})}return n})(),qt={array:"Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding",object:"Expected values of Object type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-object-values",primitive:"Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/data-binding/#toc-arrays-of-complex-data"},Ne={array:"Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding",primitive:"Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-primitive-values",object:"Expected values of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-object-values",dataItems:"Expected dataItems of type Object[] to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",dataItemsLength:"Expected dataItems length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding",valueDepth:"Expected valueDepth of type number[] to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth",valueDepthLength:"Expected valueDepth length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth"},Jt={object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-object-values",primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/data-binding/#toc-arrays-of-complex-data",noItemHeight:"Expected virtual.itemHeight of type number."},Sn={data:"Provided data must consist only of objects. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/#toc-fields-configuration"},Xt={defaultItem:"defaultItem and data items must be of same type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-object-values",primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-primitive-values",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/data-binding/#toc-arrays-of-complex-data"},Lt={primitive:"Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-primitive-values",object:"Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-object-values",dataItem:"Expected dataItem of type Object to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownTreeComponent/#toc-dataitem",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding",valueDepth:"Expected valueDepth to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/DropDownTreeComponent/#toc-valuedepth"},Qa={multi:!0,provide:$e,useExisting:z(()=>Ni)},$a="medium",qa="medium",Ja="solid",Ni=(()=>{class n extends Qt{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;zone;cdr;renderer;injector;hostElement;adaptiveService;icon;svgIcon;inputAttributes;animationDuration=pt;xIcon=Je;responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}caretAltDownIcon=Ht;set text(e){this._text=u(e)?e.toString():""}get text(){return this._text}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return jt(this.formControl)}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(i||t)return;this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){return!this.isOpen||!u(this.selectionService.focused)||this.selectionService.focused===-1?null:this.optionPrefix+"-"+this.selectionService.focused}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}dataItem;selected=[];showStickyHeader=!0;focusableId=`k-${ne()}`;allowCustom=!1;set data(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){let t=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=t}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=E(this.dataService.itemAt(0),this.textField))}get data(){let e=this.virtual;if(e){let i=e.skip||0,t=i+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(i,t)}return this.dataService.data}set value(e){this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return u(this._valuePrimitive)?this._valuePrimitive:!u(this.valueField)}valueNormalizer=e=>e.pipe(ue(i=>i));placeholder="";adaptiveMode="none";title="";set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;suggest=!1;clearButton=!0;disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}filterable=!1;set virtual(e){this._virtualSettings=ri(e,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}set size(e){let i=e||$a;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||qa;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){let i=e||Ja;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",i)),this._fillMode=i}get fillMode(){return this._fillMode}valueChange=new f;selectionChange=new f;filterChange=new f;open=new f;opened=new f;close=new f;closed=new f;onFocus=new f;onBlur=new f;inputFocus=new f;inputBlur=new f;escape=new f;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;select;widgetClasses=!0;get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}_isFocused=!1;get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get clearButtonVisiblity(){if(fe)return"visible"}get formControl(){return this.injector.get(qe,null)?.control||null}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}listBoxId=`k-${ne()}`;optionPrefix=`k-${ne()}`;popupRef;get popupWidth(){let e=0;k()&&(e=this.wrapper.nativeElement.offsetWidth);let i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get popupHeight(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}onChangeCallback=e=>{};onTouchedCallback=e=>{};defaultVirtualItemHeight=28;defaultVirtualPageSize=50;valueSubscription;_filtering=!1;_text="";filterText="";_open=!1;_value;_valuePrimitive;_previousDataItem;suggestedText;backspacePressed;_popupSettings={animate:!0};_virtualSettings;_subtitle;popupMouseDownHandler=e=>e.preventDefault();customValueSubject=new je;valueSubject=new je;clearValueSubject=new je;direction;subs=new Ee;touchstartDisposeHandler;selectClickDisposeHandler;_size="medium";_rounded="medium";_fillMode="solid";constructor(e,i,t,s,o,l,g,A,w,M,U,te,Tt){super(),this.wrapper=e,this.localization=i,this.popupService=t,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this.dataService=g,this.zone=A,this.cdr=w,this.renderer=M,this.injector=U,this.hostElement=te,this.adaptiveService=Tt,kt(si),this.direction=i.rtl?"rtl":"ltr",this.data=[]}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges(),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}createValueStream(){let e=this.valueSubject.pipe(V(g=>{let A=E(this.value,this.valueField),w=E(g,this.valueField),M=E(g,this.textField);return!u(this.value)&&!u(w)?!1:(u(M)&&(M=M.toString()),A===w&&this.text===M?(this.clearFilter(),!1):!0)}),ue(g=>{let A=E(g,this.valueField),w=E(g,this.textField);return{dataItem:g,text:w,value:this.valuePrimitive?A:g}})),i=Pi(()=>this.allowCustom)(this.customValueSubject.pipe(Fi(300))),t=i[0].pipe(ie(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),V(()=>{let g=this.text!==E(this.value,this.valueField);return this.loading=g,this.disabled=g,g||this.clearFilter(),g}),this.valueNormalizer,ue(g=>({custom:!0,dataItem:g,text:this.text,value:g}))),s=i[1].pipe(ue(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),o=this.clearValueSubject.pipe(ue(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();let l=re(e,t,s,o);this.valueSubscription=l.pipe(ci(()=>{let g=E(this.dataItem,this.valueField)!==void 0;return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,g&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),Nt(null)})).subscribe(g=>{let A=E(this.dataItem,this.valueField)!==E(g.dataItem,this.valueField);if(this.dataItem=g.dataItem,this.value=g.value,this.text=g.text,this.loading=!1,this.disabled=!1,this.clearFilter(),g.custom&&(this.selectionService.focused=-1),A){let w=g.custom?void 0:this.dataItem;this.selectionChange.emit(w)}this.emitValueChange()})}attachStreams(){k()&&(this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.subs.add(re(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(V(e=>u(e.index))).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(D[e.originalEvent.code]))})),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(ie(e=>{this.isOpen&&e.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(re(this.selectionService.onChange,this.selectionService.onSelect.pipe(V(()=>!this.isOpen))).pipe(ie(()=>{this._filtering=!1,this.togglePopup(!1)}),ue(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{this.change(e)})),this.subs.add(this.selectionService.onSelect.pipe(V(()=>this.isOpen),ie(()=>this._filtering=!1),ue(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{let i=E(e,this.valueField)!==E(this.dataItem,this.valueField);this.updateState({dataItem:e}),i&&this.selectionChange.emit(e)})))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),u(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(e){let i=this.virtual;i&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:i.pageSize}),be("valueNormalizer",e)&&this.createValueStream(),Ze(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(e){let i=e>=0&&e<this.data.length;u(e)&&i&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!this._open;this._toggle(i),this.cdr.markForCheck()})}get isOpen(){return xt(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){let e=!u(this.text)||mn(this.text),i=!u(this.value)||mn(this.value);return e&&i}messageFor(e){return this.localization.get(e)}clearValue(e){e?.stopImmediatePropagation(),e&&this.focus(),this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(e){this.value=e===null?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}
        `}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.popupWidth;i.style.minWidth=t,i.style.width=s}}verifySettings(){if(!Qe())return;if(this.valuePrimitive===!0&&u(this.value)&&typeof this.value=="object")throw new Error(Jt.primitive);if(this.valuePrimitive===!1&&u(this.value)&&typeof this.value!="object")throw new Error(Jt.object);if(!u(this.valueField)!=!u(this.textField))throw new Error(Jt.textAndValue);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(Jt.noItemHeight)}setState(){if(this._filtering)return;let e=this.value,i=this.valueField,t=this.findDataItem({valueField:i,value:e});u(t.index)&&t.index!==-1?(this.updateState({dataItem:t.dataItem,confirm:!0}),this.resetSelection(t.index)):u(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:e,confirm:i=!1}){this.dataItem=e,this.text=E(e,this.textField),i&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){let i=!u(e)||e<0;this.selectionService.resetSelection(i?[]:[e]),this.selectionService.focused=e}firstFocusableIndex(e){let i=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<i?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?i=>{let t=E(i.value,this.textField);return t=u(t)?t.toString().toLowerCase():"",t.startsWith(e.toLowerCase())}:i=>{let t=E(i,this.textField);return t=u(t)?t.toString().toLowerCase():"",t.startsWith(e.toLowerCase())}}findDataItem({valueField:e,value:i}){let t={dataItem:null,index:-1},s=l=>{let g=this.dataService.grouped?l.value:l;return E(g,e)===E(i,e)},o=this.dataService.findIndex(s);return t.dataItem=this.dataService.itemAt(o),t.index=o,t}search(e,i=0){let t=this.findIndex(e,i);this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=E(this.dataService.itemAt(t),this.textField)))}onAdaptiveTextBoxChange(e){this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}getSuggestion(){let e=!!this.selectionService.selected.length,i=this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text;if(!e&&i&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(e){this.dataService.itemsCount!==0&&(this.text=E(this.dataService.itemAt(e),this.textField),this.selectionService.select(e))}handleNavigate(e){let i=u(this.selectionService.selected[0]),t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused,s=0;if(this.disabled||this.readonly||e.keyCode===I.Home||e.keyCode===I.End)return;i||(e.keyCode===I.ArrowDown?s=-1:e.keyCode===I.ArrowUp&&(s=1));let o=this.navigationService.process({current:s+t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});o!==D.Undefined&&o!==D.Left&&o!==D.Right&&o!==D.Backspace&&o!==D.Delete&&o!==D.PageDown&&o!==D.PageUp&&(o===D.Enter&&this.isOpen||o!==D.Enter)&&e.preventDefault(),o===D.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(){let e=this.text,i=this.selectionService.focused,t=u(i)&&i!==-1,s=E(this._previousDataItem,this.textField)||"",o=E(this.dataService.itemAt(i),this.textField),l=e!==s;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&l&&(e===o||this.useSuggestion()?this.selectionService.change(i):this.change(e,!0)),this.allowCustom||(t?this.selectionService.change(i):l&&this.change(e,!0))}handleFocus(){this.zone.run(()=>{!this.isFocused&&R(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;let e=E(this.dataItem,this.valueField)!==E(this.value,this.valueField),i=this.searchbar.value,t=i!==(E(this.dataItem,this.textField)||""),s=e||t;s||R(this.onBlur)||R(this.close)||Ue(this.wrapper.nativeElement)?this.zone.run(()=>{s&&(u(this.focusedItemText)&&this.focusedItemText.toLowerCase()===i.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(i,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0;let e=E(this.dataItem,this.valueField)!==E(this.value,this.valueField),i=this.searchbar.value,t=i!==(E(this.dataItem,this.textField)||""),s=e||t;s||R(this.onBlur)||R(this.close)||Ue(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this.zone.run(()=>{s&&(u(this.focusedItemText)&&this.focusedItemText.toLowerCase()===i.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(i,!0)),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleEscape(){this.isOpen?this.togglePopup(!1):this.clearValue(),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1),R(this.escape)&&this.escape.emit()}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(e){let i=this.text?this.text.length:0;this.backspacePressed=e.length<i,this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}handleInputFocus(){this.handleFocus(),R(this.inputFocus)&&this.zone.run(()=>this.inputFocus.emit())}pageChange(e){let i=this.virtual;i.skip=e.skip}change(e,i=!1){i?this.customValueSubject.next(e):(this.valueSubject.next(e),this.isActionSheetExpanded&&this.togglePopup(!1))}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){fe||(this.searchbar.focus(),this.isFocused=!0),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-combobox-popup"].concat(this.popupSettings.popupClass||[])}preventEventDefault(e){e.preventDefault()}get focusedItemText(){let e=this.selectionService.focused;if(!u(e)||e===-1)return null;let i=E(this.dataService.itemAt(e),this.textField);return u(i)?i.toString():""}restoreItemFocus(){!(u(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!(this.suggest&&u(this.searchbar.value)))return!1;let e=this.dataService.itemAt(this.selectionService.focused),i=E(e,this.textField);return u(i)?this.searchbar.value.toLowerCase()===i.toLowerCase():!1}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute",anchorAlign:i,popupAlign:t});let o=this.popupRef.popupElement,{min:l,max:g}=this.popupWidth;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=g,o.style.height=this.popupHeight,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&(this.windowSize=this.adaptiveService.size,this.createPopup())}triggerPopupEvents(e){let i=new Be;return e?this.open.emit(i):this.close.emit(i),i.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}subscribeTouchEvents(){!k()||!fe||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let i=e.target,t=Pt(this.wrapper,i,this.popupRef);this.isFocused&&!t?this.zone.run(()=>this.blur()):this.isOpen&&!t&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){let e=this.select.nativeElement,i=en?"pointerdown":"click";this.selectClickDisposeHandler=this.renderer.listen(e,i,this.selectClick.bind(this))}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}findIndex(e,i=0){let t;return e&&e.length&&this.dataService.itemsCount?t=this.dataService.findIndex(this.findIndexPredicate(e),i):t=-1,t}closeActionSheet(){this.actionSheet.toggle(!1),this.searchbar.input.nativeElement.focus(),this.responsiveRendererComponent.searchBarValue="",this.closed.emit()}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.title=It(this.searchbar.input,this.title),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(X),c(Q),c(nt),c(oe),c(pe),c(se),c(de),c(ce),c(Ae),c(he),c(Re),c(X),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-combobox"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ke,5),T(s,ve,5),T(s,Se,5),T(s,Ce,5),T(s,He,5),T(s,We,5),T(s,it,5),T(s,tt,5)),i&2){let o;C(o=b())&&(t.template=o.first),C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.noDataTemplate=o.first),C(o=b())&&(t.groupTemplate=o.first),C(o=b())&&(t.fixedGroupTemplate=o.first),C(o=b())&&(t.suffixTemplate=o.first),C(o=b())&&(t.prefixTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(Dt,7,ut),O(wt,7),O(gt,7),O(ni,5),O(Hs,7)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.searchbar=s.first),C(s=b())&&(t.optionsList=s.first),C(s=b())&&(t.select=s.first)}},hostVars:11,hostBindings:function(i,t){i&2&&(F("dir",t.dir),De("k-readonly",t.readonly)("k-combobox",t.widgetClasses)("k-input",t.widgetClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading))},inputs:{icon:"icon",svgIcon:"svgIcon",inputAttributes:"inputAttributes",showStickyHeader:"showStickyHeader",focusableId:"focusableId",allowCustom:"allowCustom",data:"data",value:"value",textField:"textField",valueField:"valueField",valuePrimitive:"valuePrimitive",valueNormalizer:"valueNormalizer",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",escape:"escape"},exportAs:["kendoComboBox"],features:[Te([Qa,de,oe,pe,se,Q,{provide:Xe,useValue:"kendo.combobox"},{provide:dt,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)},{provide:Qt,useExisting:z(()=>n)}]),me,q],decls:20,vars:38,consts:()=>{let e;e=$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.combobox.clearTitle|The title of the clear button:clear`;let t;t=$localize`:kendo.combobox.selectButtonText|The text set as aria-label on the select button:Select`;let s;return s=$localize`:kendo.combobox.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,[["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoComboBoxLocalizedMessages","","noDataText",e,"clearTitle",i,"selectButtonText",t,"popupLabel",s],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","ariaControls","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"keydown.enter","ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(i,t){if(i&1){let s=N();H(0,5),we(1,6),mt("isFocusedChange",function(l){return h(s),ht(t.isFocused,l)||(t.isFocused=l),m(l)}),x("handleBlur",function(){return h(s),m(t.handleBlur())})("onFocus",function(){return h(s),m(t.handleFocus())}),_(2,js,2,1,"span",7)(3,Qs,1,0,"kendo-separator",8),v(4,"input",9),x("onNavigate",function(l){return h(s),m(t.handleNavigate(l))})("valueChange",function(l){return h(s),m(t.searchBarChange(l))})("onBlur",function(){return h(s),m(t.handleInputBlur())})("onFocus",function(){return h(s),m(t.handleInputFocus())})("click",function(){return h(s),m(t.handleClick())}),S(),_(5,$s,2,7,"span",10)(6,qs,1,0,"span",11)(7,Js,1,0,"kendo-separator",8)(8,Zs,2,1,"span",12),v(9,"button",13,0),x("keydown.enter",function(l){return h(s),m(l.stopImmediatePropagation())}),P(11,"kendo-icon-wrapper",14),S(),xe(),_(12,eo,1,1,"ng-template",null,1,$)(14,to,1,0,"kendo-resize-sensor",15),H(15,null,2),v(17,"responsive-renderer",16),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("textInputChange",function(l){return h(s),m(t.onAdaptiveTextBoxChange(l))})("navigate",function(l){return h(s),m(t.handleNavigate(l))}),S(),_(18,po,5,17,"ng-template",null,3,$)}if(i&2){let s=B(19);d(),a("hostElement",t.hostElement),ct("isFocused",t.isFocused),d(),a("ngIf",t.prefixTemplate),d(),a("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),d(),a("ariaExpanded",t.isOpen)("ariaControls",t.ariaControls)("id",t.focusableId)("isLoading",t.loading)("isSuggestable",t.suggest)("isFilterable",t.filterable)("activeDescendant",t.activeDescendant)("userInput",t.text)("suggestedText",t.getSuggestion())("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("isRequired",t.isControlRequired)("placeholder",t.placeholder)("inputAttributes",t.inputAttributes),d(),a("ngIf",t.clearButton&&!t.loading&&!t.disabled&&!t.readonly&&(t.text==null?null:t.text.length)),d(),a("ngIf",t.loading),d(),a("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),d(),a("ngIf",t.suffixTemplate),d(),a("ngClass",t.selectButtonClasses)("kendoEventsOutsideAngular",y(36,Ft,t.preventEventDefault)),F("aria-label",t.messageFor("selectButtonText"))("disabled",t.disabled?"":null),d(2),a("name",t.icon||"caret-alt-down")("svgIcon",t.svgIcon||t.caretAltDownIcon),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[vt,ai,Ie,Pe,Ve,gt,Et,ze,Fe,Ge,ge,Oe,Gt],encapsulation:2})}return n})(),Vt=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]]})}return n})(),yi=(()=>{class n{element;zone;focused;constructor(e,i){this.element=e,this.zone=i}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}static \u0275fac=function(i){return new(i||n)(c(X),c(ce))};static \u0275dir=G({type:n,selectors:[["","filterInput",""]],inputs:{focused:[0,"filterInput","focused"]},features:[q]})}return n})(),Xa={multi:!0,provide:$e,useExisting:z(()=>Rn)},Za="medium",Ya="medium",el="solid",Rn=(()=>{class n{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;_zone;renderer;cdr;injector;adaptiveService;touchEnabled=fe;animationDuration=pt;xIcon=Je;searchIcon=Wt;caretAltDownSVGIcon=Ht;customIconClass;responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){let e=k()?this.wrapper.nativeElement.offsetWidth:0,i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get height(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;let e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaActivedescendant(){if(!(!u(this.dataItem)||!this.isOpen))return this.optionPrefix+"-"+this.selectionService.focused}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}onFilterChange(e){this.filterable&&this.filterChange.emit(e)}get ariaLive(){return this.filterable?"polite":"off"}showStickyHeader=!0;icon;svgIcon;loading;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){let e=this.virtual;if(e){let i=e.skip||0,t=i+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(i,t)}return this.dataService.data}set value(e){u(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;adaptiveMode="none";title="";subtitle="";get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;defaultItem;disabled;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}readonly=!1;filterable=!1;set virtual(e){this._virtualSettings=ri(e)}get virtual(){return this._virtualSettings}ignoreCase=!0;delay=500;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return u(this._valuePrimitive)?this._valuePrimitive:!u(this.valueField)}tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){let i=e||Za;this.renderer.removeClass(this.wrapper.nativeElement,L("picker",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||Ya;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(i)),this._rounded=e}get rounded(){return this._rounded}set fillMode(e){let i=e||el;this.renderer.removeClass(this.wrapper.nativeElement,J("picker",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",i)),this._fillMode=i}get fillMode(){return this._fillMode}leftRightArrowsNavigation=!0;valueChange=new f;filterChange=new f;selectionChange=new f;open=new f;opened=new f;close=new f;closed=new f;onFocus=new f;onBlur=new f;itemTemplate;groupTemplate;fixedGroupTemplate;valueTemplate;headerTemplate;footerTemplate;noDataTemplate;container;popupTemplate;optionsList;blurComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementBlurred.emit())}blurFilterInput(){this.filterBlurred.emit()}focusComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementFocused.emit(),this.isFocused||(this.isFocused=!0,R(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.width;i.style.minWidth=t,i.style.width=s}}hostClasses=!0;get isDisabledClass(){return this.disabled||null}get isLoading(){return this.loading}focusableId=`k-${ne()}`;get dir(){return this.direction}get hostTabIndex(){return this.widgetTabIndex}get readonlyClass(){return this.readonly}get readonlyAttr(){return this.readonly?"":null}get isBusy(){return this.isLoading}role="combobox";haspopup="listbox";get hostAriaInvalid(){return this.formControl?.invalid?!0:null}keydown(e,i){i&&e.stopPropagation();let t=u(this.defaultItem)?-1:0,s=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,o=0;if(this.disabled||this.readonly)return;let l=e.keyCode===I.Home||e.keyCode===I.End;if(this.filterable&&this.isFocused&&this.isOpen&&l)return;let A=u(this.selectionService.selected[0]),w=u(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!A||w)&&(e.keyCode===I.ArrowDown||e.keyCode===I.ArrowRight&&this.leftRightArrowsNavigation?o=-1:(e.keyCode===I.ArrowUp||e.keyCode===I.ArrowLeft&&this.leftRightArrowsNavigation)&&(o=1));let M=e,U=this.navigationService.process({current:s+o,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:M,openOnSpace:!this.isOpen,closeOnSpace:this.isOpen&&!i&&!(e.target instanceof HTMLInputElement)}),te=U===D.Left||U===D.Right&&this.leftRightArrowsNavigation;U!==D.Undefined&&U!==D.Tab&&U!==D.Backspace&&U!==D.Delete&&U!==D.PageDown&&U!==D.PageUp&&U!==D.SelectAll&&!(te&&this.filterable)&&U!==D.Enter&&M.preventDefault(),U===D.Tab&&this.isActionSheetExpanded&&this.togglePopup(!1)}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(){this.isActionSheetExpanded||(this.focus(),this.togglePopup(!this.isOpen))}groupIndices=[];optionPrefix=`k-${ne()}`;valueLabelId;filterText="";listBoxId=`k-${ne()}`;subs=new Ee;_isFocused=!1;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}direction;dataItem;popupRef;onTouchedCallback=e=>{};onChangeCallback=e=>{};popupMouseDownHandler;word="";last="";typingTimeout;filterFocused=new f;filterBlurred=new f;hostElementFocused=new f;hostElementBlurred=new f;touchstartDisposeHandler;_value;_open=!1;_previousDataItem;_valuePrimitive;text;_popupSettings={animate:!0};_virtualSettings;_size="medium";_rounded="medium";_fillMode="solid";constructor(e,i,t,s,o,l,g,A,w,M,U,te){this.wrapper=e,this.localization=i,this.popupService=t,this.selectionService=s,this.navigationService=o,this.disabledItemsService=l,this.dataService=g,this._zone=A,this.renderer=w,this.cdr=M,this.injector=U,this.adaptiveService=te,kt(si),this.direction=i.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.ariaActivedescendant&&this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.assignAriaDescribedBy(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}isEmpty(){let e=this.value;return!(e===0||e===!1||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){let i=this.virtual;i&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:i.pageSize}),be("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Ze(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}get formControl(){return this.injector.get(qe,null)?.control||null}focusItemAt(e){let t=(u(this.defaultItem)?-1:0)<=e&&e<this.data.length;u(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||(this.wrapper.nativeElement.blur(),this.cdr.detectChanges())}toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!this._open;this._toggle(i)})}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){let i=new Be;return e?this.open.emit(i):this.close.emit(i),i.isDefaultPrevented()}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(i||t)return;this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return xt(this._open||this.isActionSheetExpanded)}reset(){this.value=void 0}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e===null?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}get optionLabelSizeClass(){return`${this.size?L("list",this.size):""}`}get listContainerClasses(){let e=["k-list-container","k-dropdownlist-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return E(this.defaultItem,this.textField)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:i,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:t,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute"}),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId);let o=this.popupRef.popupElement,{min:l,max:g}=this.width;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=l,o.style.width=g,o.style.height=this.height,o.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel")));let A=o.querySelector("ul.k-list-ul"),w=this.wrapper.nativeElement.getAttribute("aria-labelledby");w&&A.setAttribute("aria-labelledby",w),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),lt(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.filterable||this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-activedescendant"),this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:i=!1}){this.dataItem=e,this.text=E(e,this.textField),i&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){let i=!u(e);this.selectionService.resetSelection(i?[]:[e]),this.selectionService.focused=i?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy(),this.setAriaactivedescendant()}subscribeEvents(){k()&&(this.subs.add(this.selectionService.onSelect.pipe(V(()=>this.isOpen),ue(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.subs.add(re(this.selectionService.onSelect.pipe(V(()=>!this.isOpen)),this.selectionService.onChange).pipe(ue(this.itemFromEvent.bind(this)),ie(()=>this.togglePopup(!1))).subscribe(({dataItem:e,value:i,newSelection:t})=>{t&&this.onSelectionChange({dataItem:e});let s=!u(e)&&this._previousDataItem,o=i!==E(this.value,this.valueField);s?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):o&&(this.value=this.valuePrimitive?i:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.subs.add(re(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(V(()=>this.leftRightArrowsNavigation),_i(()=>this.filterable)),this.navigationService.right.pipe(V(()=>this.leftRightArrowsNavigation),_i(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(V(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index))),this.subs.add(re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(D[e.originalEvent.code]))})),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()})),this.subs.add(this.navigationService.enter.pipe(ie(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.filterBlurred.pipe(hi(()=>ui(10).pipe(ke(1),fi(this.hostElementFocused)))).subscribe(()=>{this.hostElementBlurred.emit()})),this._zone.runOutsideAngular(()=>{this.subs.add(re(this.hostElementBlurred.pipe(hi(()=>ui(10).pipe(ke(1),fi(this.filterFocused)))),this.navigationService.tab).pipe(ie(e=>e instanceof ei&&this.focus()),V(()=>this.isFocused)).subscribe(()=>this.componentBlur()))}))}setAriaactivedescendant(){if(this.ariaActivedescendant){this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant);let e=this.popupRef?.popupElement.querySelector('input[role="searchbox"]')||this.actionSheetSearchBar?.input.nativeElement;e&&this.renderer.setAttribute(e,"aria-activedescendant",this.ariaActivedescendant)}}subscribeTouchEvents(){!k()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let i=e.target;this.isFocused&&!Pt(this.wrapper,i,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}subscribeFocusEvents(){k()&&(this.focusComponent=this.focusComponent.bind(this),this.blurComponent=this.blurComponent.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.focusComponent,!0),document.addEventListener("blur",this.blurComponent,!0)}))}unSubscribeFocusEvents(){k()&&(document.removeEventListener("focus",this.focusComponent,!0),document.removeEventListener("blur",this.blurComponent,!0))}itemFromEvent(e){let i=e.indices[0],t=this.dataService.itemAt(i);t=u(t)?t:this.currentOrDefault(i);let s=E(t,this.valueField),o=e.newSelection;return{dataItem:t,index:i,newSelection:o,value:s}}currentOrDefault(e){return u(this.dataItem)&&e!==-1?this.dataItem:this.defaultItem}firstFocusableIndex(e){let i=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<i?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){u(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(!Qe())return;if(this.defaultItem&&this.valueField&&typeof this.defaultItem!="object")throw new Error(Xt.defaultItem);if(this.valuePrimitive===!0&&u(this.value)&&typeof this.value=="object")throw new Error(Xt.primitive);if(this.valuePrimitive===!1&&u(this.value)&&typeof this.value!="object")throw new Error(Xt.object);if(!u(this.valueField)!=!u(this.textField))throw new Error(Xt.textAndValue)}componentBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;let i=u(this.selectionService.selected[0])&&E(this.value,this.valueField)!==E(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);i||R(this.close)||R(this.onBlur)||R(this.filterChange)||Ue(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this._zone.run(()=>{i&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.togglePopup(!1),this.cdr.markForCheck())}}onMouseDown(e){e.target.tagName.toLowerCase()!=="input"&&e.preventDefault()}onKeyPress(e){if(e.which===0||e.keyCode===I.Enter)return;let i=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(i=i.toLowerCase()),i===" "&&e.preventDefault(),this.word+=i,this.last=i,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(w=>u(w)&&!w.header&&!this.disabledItemsService.isItemDisabled(w)).map(w=>this.dataService.grouped?{item:w.value,itemIndex:w.offsetIndex}:{item:w,itemIndex:this.dataService.indexOf(w)}),i=Pa(this.word,this.last),t=e.length,s=!isNaN(this.selectionService.selected[0]),o=s?this.selectionService.selected[0]:0,l,g,A;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(A={item:this.defaultItem,itemIndex:-1},t+=1,o+=1),o+=i&&s?1:0,e=Ga(e,o,A),g=0;g<t;g++){l=E(e[g].item,this.textField);let w=!!(i&&_n(l,this.last,this.ignoreCase)),M=!!_n(l,this.word,this.ignoreCase);if(w||M){g=e[g].itemIndex;break}}g!==t&&this.navigate(g)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}findDataItem({valueField:e,value:i}){let t={dataItem:null,index:-1},s=g=>E(g,e),o;this.dataService.grouped?o=g=>s(g.value)===s(i):o=g=>s(g)===s(i);let l=this.dataService.findIndex(o);return t.dataItem=this.dataService.itemAt(l),t.index=l,t}setState(){let e=this.value,i=this.valueField,t=this.textField,s=this.valuePrimitive;if(this.defaultItem){let g=E(this.defaultItem,i),A=E(e,i);if(!u(e)||A===g){this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0));return}}let o=this.findDataItem({valueField:i,value:e}),l=!(s&&t);o.dataItem?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):u(e)&&l?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}pageChange(e){let i=this.virtual;i.skip=e.skip}assignAriaDescribedBy(){let i=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=`k-${ne()}`;let t=`${this.valueLabelId} ${i}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.filterable&&(this.responsiveRendererComponent.searchBarValue="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this.cdr.detectChanges(),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId),lt(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.title=It(this.wrapper,this.title),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.filterable&&this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(X),c(Q),c(nt),c(oe),c(pe),c(se),c(de),c(ce),c(he),c(Ae),c(Re),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdownlist"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ke,5),T(s,He,5),T(s,We,5),T(s,Vt,5),T(s,ve,5),T(s,Se,5),T(s,Ce,5)),i&2){let o;C(o=b())&&(t.itemTemplate=o.first),C(o=b())&&(t.groupTemplate=o.first),C(o=b())&&(t.fixedGroupTemplate=o.first),C(o=b())&&(t.valueTemplate=o.first),C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.noDataTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(Dt,7,ut),O(wt,7),O(ni,5)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.optionsList=s.first)}},hostVars:19,hostBindings:function(i,t){i&1&&x("keydown",function(o){return t.keydown(o)})("keypress",function(o){return t.keypress(o)})("click",function(){return t.click()}),i&2&&(F("aria-disabled",t.isDisabledClass)("id",t.focusableId)("dir",t.dir)("tabindex",t.hostTabIndex)("readonly",t.readonlyAttr)("aria-busy",t.isBusy)("role",t.role)("aria-haspopup",t.haspopup)("aria-invalid",t.hostAriaInvalid),De("k-readonly",t.readonly)("k-dropdownlist",t.hostClasses)("k-picker",t.hostClasses)("k-disabled",t.isDisabledClass)("k-loading",t.isLoading))},inputs:{customIconClass:"customIconClass",showStickyHeader:"showStickyHeader",icon:"icon",svgIcon:"svgIcon",loading:"loading",data:"data",value:"value",textField:"textField",valueField:"valueField",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",defaultItem:"defaultItem",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",filterable:"filterable",virtual:"virtual",ignoreCase:"ignoreCase",delay:"delay",valuePrimitive:"valuePrimitive",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",leftRightArrowsNavigation:"leftRightArrowsNavigation",focusableId:[0,"id","focusableId"]},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Te([Xa,de,oe,pe,se,Q,{provide:Xe,useValue:"kendo.dropdownlist"},{provide:dt,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)}]),q],decls:16,vars:19,consts:()=>{let e;e=$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.dropdownlist.selectButtonText|The text set as aria-label on the select button:Select`;let t;t=$localize`:kendo.dropdownlist.filterInputLabel|The text set as aria-label on the filter input:Filter`;let s;return s=$localize`:kendo.dropdownlist.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["searchInput",""],["kendoDropDownListLocalizedMessages","","noDataText",e,"selectButtonText",i,"filterInputLabel",t,"popupLabel",s],["unselectable","on",1,"k-input-inner",3,"click","id"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["unselectable","on","innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle"],[3,"templateContext"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","id","size","rounded","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","ariaLive","showStickyHeader"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter",3,"click"],[1,"k-searchbox","k-input",3,"ngClass"],["innerCssClass","k-input-icon","name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","aria-autocomplete","list","aria-haspopup","listbox","tabindex","-1",1,"k-input-inner",3,"ngModelChange","keydown","input","focus","blur","click","filterInput","dir","ngModel"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-no-data"],[3,"ngIf","templateContext"]]},template:function(i,t){if(i&1){let s=N();H(0,5),v(1,"span",6),x("click",function(l){return h(s),m(l.preventDefault())}),v(2,"span",7),_(3,co,1,4,null,8)(4,ho,1,1,"ng-template",9),S()(),_(5,mo,1,0,"span",10),v(6,"button",11),P(7,"kendo-icon-wrapper",12),S(),_(8,fo,1,1,"ng-template",null,0,$)(10,go,1,0,"kendo-resize-sensor",13),H(11,null,1),v(13,"responsive-renderer",14),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("textInputChange",function(l){return h(s),m(t.onFilterChange(l))}),S(),_(14,Oo,8,21,"ng-template",null,2,$)}if(i&2){let s=B(15);d(),a("id",t.valueLabelId),d(2),a("ngIf",t.valueTemplate),d(),a("ngIf",!t.valueTemplate),d(),a("ngIf",t.loading),d(),a("ngClass",t.selectButtonClasses)("kendoEventsOutsideAngular",y(17,Ft,t.onMouseDown)),F("aria-label",t.messageFor("selectButtonText"))("disabled",t.disabled?"":null),d(),a("name",t.icon||"caret-alt-down")("customFontClass",t.customIconClass)("svgIcon",t.svgIcon||t.caretAltDownSVGIcon),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",t.filterable)("subtitle",t.subtitle)}},dependencies:[vt,Ie,Oe,Fe,Et,ze,Pe,Ge,ge,Ji,ji,Qi,yi,qi,$i,Oi,Gt],encapsulation:2})}return n})(),Mn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]})}return n})(),li=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]]})}return n})(),di=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]]})}return n})(),ii=class extends Be{dataItem;constructor(r){super(),this.dataItem=r}},tl=n=>_t(n)?Object.assign({},{enabled:!0,checkOnClick:!0},n):{enabled:!!n,checkOnClick:!0},Ai=(()=>{class n{renderer;hostElement;xCircleIcon=Xi;tags;textField;valueField;valueDepth;focused;template;groupTemplate;disabled;tagPrefix;id;set size(e){this.renderer.removeClass(this.hostElement.nativeElement,L("chip-list",this.size)),e&&this.renderer.addClass(this.hostElement.nativeElement,L("chip-list",e)),this._size=e}get size(){return this._size}rounded="medium";fillMode="solid";disabledIndices=new Set;removeTag=new f;hostClass=!0;get hostId(){return this.id}taglistRole="listbox";multiselectable=!0;_size="medium";constructor(e,i){this.renderer=e,this.hostElement=i}tagProp(e,i,t){let s=i&&this.getPropField(e,i,t);return E(e,s)}isTagDisabled(e,i){return this.isGroupTag(e)?e.every((t,s)=>this.disabledIndices.has(s+i)):this.disabledIndices.has(i)}deleteTag(e,i,t){e.preventDefault(),e.stopImmediatePropagation(),!this.disabled&&e.which===1&&this.removeTag.emit({tag:i,index:t})}itemId(e,i){if(e)return this.tagPrefix+"-"+i}isGroupTag(e){return e instanceof Array}tagAriaHidden(e){return u(this.focused)&&this.focused!==e}getPropField(e,i,t){let s=i.length-1;if(typeof i=="string")return i;if(this.valueDepth){let o=this.valueDepth[t];return s<o?i[s]:i[o]}else return i.find(o=>o in e)}static \u0275fac=function(i){return new(i||n)(c(he),c(X))};static \u0275cmp=le({type:n,selectors:[["kendo-taglist"]],hostVars:5,hostBindings:function(i,t){i&2&&(F("id",t.hostId)("role",t.taglistRole)("aria-multiselectable",t.multiselectable),De("k-chip-list",t.hostClass))},inputs:{tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id",size:"size",rounded:"rounded",fillMode:"fillMode",disabledIndices:"disabledIndices"},outputs:{removeTag:"removeTag"},ngContentSelectors:No,decls:2,vars:1,consts:[["groupTag",""],["singleTag",""],["class","k-chip",3,"ngClass",4,"ngFor","ngForOf"],[1,"k-chip",3,"ngClass"],[1,"k-chip-content"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"k-chip-actions"],["aria-label","delete",1,"k-chip-action","k-chip-remove-action"],["name","x-circle",3,"mousedown","svgIcon"],[1,"k-chip-label","k-text-ellipsis"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(i,t){i&1&&(Vi(),_(0,Bo,10,22,"div",2),zi(1)),i&2&&a("ngForOf",t.tags)},dependencies:[Kt,Fe,Ie,Oe,ze],encapsulation:2})}return n})(),il={multi:!0,provide:$e,useExisting:z(()=>ki)},nl="medium",sl="medium",ol="solid",ki=(()=>{class n{wrapper;localization;popupService;dataService;selectionService;navigationService;disabledItemsService;cdr;differs;renderer;_zone;injector;hostElement;adaptiveService;animationDuration=pt;xIcon=Je;plusIcon=Zi;listBoxId=`k-${ne()}`;tagListId=`k-${ne()}`;tagPrefix="tag-"+ne();optionPrefix="option-"+ne();popupRef;text;tags;focusedTagIndex=void 0;responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return jt(this.formControl)}get formControl(){return this.injector.get(qe,null)?.control||null}focusItemAt(e){let t=(this.allowCustom?-1:0)<=0&&e<this.data.length;u(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}handleInputFocus(){this.handleFocus(),R(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}onAdaptiveTextBoxChange(e){if(this.filterable){this.filterChange.emit(e);return}this.searchTextAndFocus(e)}blur(){this.disabled||this.searchbar.blur()}handleFocus(){this._zone.run(()=>{!this.isFocused&&R(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;this.isFocused=!1,R(this.onBlur)||R(this.filterChange)||R(this.close)||Ue(this.wrapper.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}handleInputBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;R(this.inputBlur)||R(this.filterChange)||R(this.close)||Ue(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur"?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.inputBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}onPointerDown(e){e.preventDefault()}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.width;i.style.minWidth=t,i.style.width=s}}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}showStickyHeader=!0;focusableId=`k-${ne()}`;autoClose=!0;loading;set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){let e=this.virtual;if(e){let i=e.skip||0,t=i+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(i,t)}return this.dataService.data}set value(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}valueField;textField;tabindex=0;set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){let i=e||nl;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||sl;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){let i=e||ol;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",i)),this._fillMode=i}get fillMode(){return this._fillMode}set placeholder(e){this._placeholder=e||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}adaptiveMode="none";title="";set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}disabled=!1;set itemDisabled(e){if(typeof e!="function")throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set checkboxes(e){this._checkboxes=tl(e)}get checkboxes(){return this._checkboxes}readonly=!1;filterable=!1;set virtual(e){this._virtualSettings=ri(e)}get virtual(){return this._virtualSettings}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return u(this._valuePrimitive)?this._valuePrimitive:!u(this.valueField)}clearButton=!0;tagMapper=e=>e||[];allowCustom=!1;valueNormalizer=e=>e.pipe(ue(i=>{let t=l=>typeof l=="string"&&i.toLowerCase()===l.toLowerCase(),s=this.value.find(t);if(s)return s;let o=this.dataService.find(t);return o||i}));inputAttributes;filterChange=new f;valueChange=new f;open=new f;opened=new f;close=new f;closed=new f;onFocus=new f;onBlur=new f;inputFocus=new f;inputBlur=new f;removeTag=new f;container;searchbar;tagList;popupTemplate;optionsList;template;customItemTemplate;groupTemplate;fixedGroupTemplate;headerTemplate;footerTemplate;tagTemplate;groupTagTemplate;noDataTemplate;suffixTemplate;prefixTemplate;hostClasses=!0;get dir(){return this.direction}get disabledClass(){return this.disabled}get isLoading(){return this.loading}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}disabledIndices;initialized=!1;_size="medium";_rounded="medium";_fillMode="solid";_subtitle;_valueHolder=[];constructor(e,i,t,s,o,l,g,A,w,M,U,te,Tt,Bn){this.wrapper=e,this.localization=i,this.popupService=t,this.dataService=s,this.selectionService=o,this.navigationService=l,this.disabledItemsService=g,this.cdr=A,this.differs=w,this.renderer=M,this._zone=U,this.injector=te,this.hostElement=Tt,this.adaptiveService=Bn,kt(si),this.popupPointerDownHandler=this.onPointerDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get listContainerClasses(){let e=["k-list-container","k-multiselect-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get customItemSizeClass(){return`${this.size?L("list",this.size):""}`}get width(){let e=0;k()&&(e=this.wrapper.nativeElement.offsetWidth);let i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get height(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}get activeDescendant(){let e=this.focusedTagIndex,i=this.selectionService.focused,t,s;if(u(e)&&!this.isOpen)s=e,t=this.tagPrefix;else if(u(i)&&i!==-1&&this.isOpen)s=i,t=this.optionPrefix;else return null;return t+"-"+s}get clearButtonVisiblity(){if(fe)return"visible"}applyValue(){this.value=this._valueHolder,this._valueHolder=[],this.emitValueChange(),this.togglePopup(!1)}cancelValue(){this._valueHolder=[],this.togglePopup(!1)}verifySettings(){if(!Qe()||this.value.length===0)return;if(!Y(this.value))throw new Error(qt.array);if(this.valuePrimitive===!0&&Zt(this.value))throw new Error(qt.primitive);if(this.valuePrimitive===!1&&!Zt(this.value))throw new Error(qt.object);if(!u(this.valueField)!=!u(this.textField))throw new Error(qt.textAndValue)}change(e){if(e.isMultipleSelection)u(e.added)&&e.added.length>0&&e.added.forEach(i=>{let t=this.dataService.itemAt(i),s=this.valuePrimitive&&u(t)&&u(E(t,this.valueField))?E(t,this.valueField):t;s&&(!this.isAdaptive||!this.isActionSheetExpanded?this.value=[...this.value,s]:this._valueHolder=[...this._valueHolder,s])}),u(e.removed)&&e.removed.length>0&&(e.removed.forEach(i=>{let t=this.dataService.itemAt(i),s=o=>E(o,this.valueField)!==E(t,this.valueField);!this.isAdaptive||!this.isActionSheetExpanded?this.value=this.value.filter(s):this._valueHolder=this._valueHolder.filter(s)}),this.cdr.detectChanges());else{if((u(e.added)||u(e.removed))&&(e.added===-1||e.removed===-1)){this.addCustomValue(this.text);return}if(u(e.added)){let t=this.dataService.itemAt(e.added),s=this.valuePrimitive&&u(t)&&u(E(t,this.valueField))?E(t,this.valueField):t;!this.isAdaptive||!this.isActionSheetExpanded?this.value=[...this.value,s]:this._valueHolder=[...this._valueHolder,s]}if(u(e.removed)){let t=this.dataService.itemAt(e.removed),s=o=>E(o,this.valueField)!==E(t,this.valueField);!this.isAdaptive||!this.isActionSheetExpanded?this.value=this.value.filter(s):this._valueHolder=this._valueHolder.filter(s),this.selectionService.focused=e.removed,this.cdr.detectChanges()}}(!this.isAdaptive||!this.isActionSheetExpanded)&&this.emitValueChange()}setState(e){let i=this.dataService.data;this.dataService.grouped&&(i=i.filter(s=>!s.header).map(s=>s.value));let t=Di(this.value,i,this.valueField);this.selectionService.resetSelection(t),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&this.selectionService.focused===void 0&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(Zt(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=Fa(e,i,this.valueField)),this.selectedDataItems.length<e.length&&(this.selectedDataItems=e.map(s=>{let o=this.selectedDataItems.find(l=>E(l,this.valueField)===E(s,this.valueField));return u(o)?o:this.resolveDataItemFromTags(s)}).filter(s=>u(s))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}pageChange(e){let i=this.virtual;i.skip=e.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(e){let i=this.text&&e.keyCode!==I.ArrowDown&&e.keyCode!==I.ArrowUp,t=this.text&&e.keyCode===I.Enter||e.keyCode===I.Escape,s=!this.text&&e.keyCode===I.Backspace&&this.tags.length>0;if(e.keyCode===I.Backspace&&this.isActionSheetExpanded)return;if(s){this.handleBackspace();return}if(this.disabled||i&&!t)return;let o=e,l=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,g=this.navigationService.process({current:l,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:o});g!==D.Undefined&&(g===D.Enter&&this.isOpen||g!==D.Enter)&&!this.isActionSheetExpanded&&g===D.Tab&&e.preventDefault()}handleRemoveTag({tag:e}){let i=new ii(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(i),!i.isDefaultPrevented()&&(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}clearAll(e){e?.stopImmediatePropagation(),e?.preventDefault(),this.focus(),this.clearFilter(),this.selectionService.lastClickedIndex=null;let i=this.selectionService.selected;this.value=this.value.filter((t,s)=>this.disabledItemsService.isIndexDisabled(i[s])),this.emitValueChange()}addCustomValue(e){this.customValueSubject.next(e)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.createCustomValueStream(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setState(this.value),this.setComponentClasses(),this.initialized=!0}ngOnChanges(e){let i=this.virtual;i&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:i.pageSize}),be("valueNormalizer",e)&&this.createCustomValueStream(),Ze(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges(),this.searchbar.setInputSize(),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"mousedown",this.handleMousedown.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none")),this._zone.onStable.pipe(ke(1)).subscribe(()=>{let e=this.searchbar.input.nativeElement.getAttribute("aria-labelledby")||this.searchbar.input.nativeElement.getAttribute("data-kendo-label-id");e&&this.renderer.setAttribute(this.tagList.hostElement.nativeElement,"aria-labelledby",e)})}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents()}toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!this._open;this._toggle(i),this.cdr.markForCheck()})}get isOpen(){return xt(this._open||this.isActionSheetExpanded)}reset(){this.text="",this.value=[]}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}onChangeCallback=e=>{};onTouchedCallback=e=>{};_placeholder="";_open=!1;_value=[];_popupSettings={animate:!0};_virtualSettings;_valuePrimitive;_checkboxes={enabled:!1};_isFocused=!1;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}selectedDataItems=[];popupPointerDownHandler;isOpenPrevented=!1;customValueSubject=new je;customValueSubscription;subs=new Ee;touchstartDisposeHandler;direction;differ;valueChangeDetected;subscribeEvents(){if(!k())return;let e=()=>this.isOpen,i=()=>!this.isOpen,t=()=>!this.isOpen&&this.focusedTagIndex!==void 0;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(V(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(V(e)).subscribe(s=>this.handleUp(s.index)),this.navigationService.home.pipe(V(()=>i)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(V(()=>i)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(V(t)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(V(t)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.direction==="rtl"?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.direction==="rtl"?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(s=>this.handleDownKey(s.index)),this.navigationService.selectprevious.pipe(V(e)).subscribe(s=>this.handleSelectUpDown(s)),this.navigationService.selectnext.pipe(V(e)).subscribe(s=>this.handleSelectUpDown(s)),this.navigationService.selectalltobeginning.pipe(V(e)).subscribe(()=>this.handleSelectAllToBeginning()),this.navigationService.selectalltoend.pipe(V(e)).subscribe(()=>this.handleSelectAllToEnd()),re(this.navigationService.pagedown,this.navigationService.pageup).subscribe(s=>{this.isOpen&&(s.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(D[s.originalEvent.code]))})].forEach(s=>this.subs.add(s))}subscribeTouchEvents(){!k()||!fe||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let i=e.target;(this.isFocused||this.isOpen)&&!Pt(this.wrapper,i,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){k()&&(this.subs.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(e){let i=this.dataService.data;this.dataService.grouped&&(i=i.filter(s=>!s.header).map(s=>s.value));let t=new Set(e.map(s=>E(s,this.valueField)));this.value=this.value.filter(s=>{let o=Di([s],i,this.valueField)[0],l=this.disabledItemsService.isIndexDisabled(o);return!t.has(E(s,this.valueField))||l}),this.emitValueChange()}removeSingleTag(e){let i=this.dataService.data;this.dataService.grouped&&(i=i.filter(s=>!s.header).map(s=>s.value));let t=Di([e],i,this.valueField)[0];if(!this.disabledItemsService.isIndexDisabled(t))if(ka(t))this.selectionService.deselect(t),this.selectionService.focused=t,this.togglePopup(!1);else{let s=o=>E(o,this.valueField)!==E(e,this.valueField);this.value=this.value.filter(s),this.emitValueChange()}}disabledItemsMapper(){let{selected:e}=this.selectionService;return new Set(this.selectedDataItems.reduce((i,t,s)=>(this.disabledItemsService.isIndexDisabled(e[s])&&i.push(s),i),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(ie(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,ci(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),Nt(null)))).subscribe(e=>{if(this.loading=!1,this.disabled=!1,u(e)){let i=this.valuePrimitive?E(e,this.valueField):e,t=this.dataService.indexOf(i),s=t===-1;this.value.indexOf(i)===-1?(this.tags=this.tagMapper([...this.selectedDataItems,e]),s?this.value=[...this.value,i]:this.selectionService.add(t)):!s&&this.selectionService.isSelected(t)?(this.selectionService.deselect(t),this.selectionService.focused=t):this.value=this.value.filter(o=>E(o,this.valueField)!==i),this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(e){this.change(e),this.autoClose&&!e.preventClosingPopup&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleMousedown(e){if(!(e.target.closest(".k-input-prefix")||e.target.closest(".k-input-suffix"))&&!this.isActionSheetExpanded){let i=this.searchbar.input.nativeElement;if(e.button===0){if(this.isFocused&&(this.isOpen||this.isOpenPrevented)&&e.target===i||((!fe||fe&&e.target.tagName!=="SPAN")&&this.searchbar.focus(),this.popupRef&&this.popupRef.popupElement.contains(e.target)))return;e.preventDefault(),this.togglePopup(!this.isOpen)}}}handleKeydown(e){this.isFocused&&this.isOpen&&(e.ctrlKey||e.metaKey)&&e.keyCode===I.KeyA&&(e.preventDefault(),this.handleSelectAll())}handleEnter(e){let i=this.selectionService,t=this.selectionService.focused;if(this.selectionService.lastClickedIndex=t,this.isOpen&&e.originalEvent.preventDefault(),t===-1){this.allowCustom&&this.text&&this.addCustomValue(this.text);return}i.isSelected(t)?(i.deselect(t),i.focused=t):i.add(t),this.autoClose&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}sortSelectionAscending(){return this.selectionService.selected.sort((e,i)=>e-i)}handleSelectAll(){let e=this.selectionService.selected.length,i=this.dataService.data.length,t=this.dataService.data.filter(s=>!s.header).length;!this.dataService.grouped&&e===i||this.dataService.grouped&&e===t?this.clearAll():(this.selectionService.selectFromTo(0,i-1),this.selectionService.emitMultipleAddedRemoved())}handleSelectAllToBeginning(){let e=this.selectionService.selected.length,i=this.dataService.data.length,t=this.selectionService.focused,s=this.sortSelectionAscending()[e-1];e!==i&&(this.selectionService.unselectFromTo(s,t+1),this.selectionService.selectFromTo(0,t)),this.nextTick(()=>this.selectionService.focus(0)),this.selectionService.emitMultipleAddedRemoved()}handleSelectAllToEnd(){let e=this.selectionService.selected.length,i=this.dataService.data.length,t=this.selectionService.focused;if(e!==i&&(this.selectionService.unselectFromTo(t-1,0),this.selectionService.selectFromTo(t,i-1)),this.dataService.grouped){let s=this.dataService.groupIndices[this.dataService.groupIndices.length-1]-1;this.nextTick(()=>this.selectionService.focus(s))}else this.nextTick(()=>this.selectionService.focus(i-1));this.selectionService.emitMultipleAddedRemoved()}handleSelectUpDown(e){let i=this.selectionService.focused;if(!u(i))return;let t;e.originalEvent.key==="ArrowUp"?t=i>0?i-1:i:t=i<this.dataService.data.length-1?i+1:i,u(this.selectionService.lastClickedIndex)||(this.selectionService.lastClickedIndex=i),this.selectRangeFromTo(t)}selectRangeFromTo(e){let i=this.selectionService.lastClickedIndex;i>e?(this.selectionService.unselectNotNeededIndices(e,i,this.dataService.data.length),this.selectionService.selectFromTo(e,this.selectionService.lastClickedIndex),this.selectionService.emitMultipleAddedRemoved()):(this.selectionService.unselectNotNeededIndices(i,e,this.dataService.data.length),this.selectionService.selectFromTo(i,e),this.selectionService.emitMultipleAddedRemoved()),this.nextTick(()=>this.selectionService.focus(e))}handleUp(e){this.selectionService.focused=e}handleBackspace(){this.focusedTagIndex!==void 0?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){this.focusedTagIndex===void 0||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:this.focusedTagIndex!==0&&this.focusedTagIndex--}handleDownKey(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){let e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}findIndex(e,i=0){let t;e=e.toLowerCase();let s=this.dataService.findIndex(o=>(this.dataService.grouped?t=E(o.value,this.textField):t=E(o,this.textField),t=u(t)?t.toString().toLowerCase():"",e&&t.startsWith(e)),i);return this.disabledItemsService.isIndexDisabled(s)?s+1>this.dataService.itemsCount?-1:this.findIndex(e,s+1):s}searchTextAndFocus(e){let i=this.findIndex(e);this.selectionService.focused=i}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(i||t)return;let s=this.triggerPopupEvents(e);e&&(this.isOpenPrevented=s),s||this._toggle(e)}triggerPopupEvents(e){let i=new Be;return e?this.open.emit(i):this.close.emit(i),i.isDefaultPrevented()}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.closeActionSheet(),this.focus()),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("pointerdown",this.popupPointerDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:i,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:t,popupClass:this.listContainerClasses,positionMode:s?"fixed":"absolute"});let o=this.popupRef.popupElement,{min:l,max:g}=this.width;this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),o.addEventListener("pointerdown",this.popupPointerDownHandler),o.style.minWidth=l,o.style.width=g,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(e){return this.tags&&this.tags.length&&u(e)?this.tags.reduce((t,s)=>{let o=Y(s)?s:[s];return t.push(...o),t},[]).find(t=>E(t,this.valueField)===E(e,this.valueField)):void 0}firstFocusableIndex(e){let i=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){let t=e+1;return t<i?this.firstFocusableIndex(t):void 0}else return e}nextTick(e){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(e))})}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&this.filterChange.emit(""),this.responsiveRendererComponent.searchBarValue="",this.closed.emit()}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this._valueHolder=[...this.value],this.cdr.detectChanges(),lt(this.optionsList,this.searchbar.input,this.renderer),this.title=It(this.searchbar.input,this.title),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(X),c(Q),c(nt),c(de),c(oe),c(pe),c(se),c(Ae),c(Hi),c(he),c(ce),c(Re),c(X),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-multiselect"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ke,5),T(s,Mn,5),T(s,He,5),T(s,We,5),T(s,ve,5),T(s,Se,5),T(s,li,5),T(s,di,5),T(s,Ce,5),T(s,it,5),T(s,tt,5)),i&2){let o;C(o=b())&&(t.template=o.first),C(o=b())&&(t.customItemTemplate=o.first),C(o=b())&&(t.groupTemplate=o.first),C(o=b())&&(t.fixedGroupTemplate=o.first),C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.tagTemplate=o.first),C(o=b())&&(t.groupTagTemplate=o.first),C(o=b())&&(t.noDataTemplate=o.first),C(o=b())&&(t.suffixTemplate=o.first),C(o=b())&&(t.prefixTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(Dt,7,ut),O(gt,7),O(Ai,7),O(wt,7),O(ni,5)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.searchbar=s.first),C(s=b())&&(t.tagList=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.optionsList=s.first)}},hostVars:11,hostBindings:function(i,t){i&2&&(F("dir",t.dir),De("k-readonly",t.readonly)("k-multiselect",t.hostClasses)("k-input",t.hostClasses)("k-disabled",t.disabledClass)("k-loading",t.isLoading))},inputs:{showStickyHeader:"showStickyHeader",focusableId:"focusableId",autoClose:"autoClose",loading:"loading",data:"data",value:"value",valueField:"valueField",textField:"textField",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",disabled:"disabled",itemDisabled:"itemDisabled",checkboxes:"checkboxes",readonly:"readonly",filterable:"filterable",virtual:"virtual",popupSettings:"popupSettings",listHeight:"listHeight",valuePrimitive:"valuePrimitive",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",inputAttributes:"inputAttributes"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[Te([il,de,oe,pe,se,Q,{provide:Xe,useValue:"kendo.multiselect"},{provide:dt,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)}]),q],decls:19,vars:43,consts:()=>{let e;e=$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.multiselect.clearTitle|The title of the clear button:clear`;let t;t=$localize`:kendo.multiselect.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let s;s=$localize`:kendo.multiselect.applyButton|The text of the Apply button in the action sheet:Apply`;let o;return o=$localize`:kendo.multiselect.cancelButton|The text of the Cancel button in the action sheet:Cancel`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["default_custom_item_template",""],["kendoMultiSelectLocalizedMessages","","noDataText",e,"clearTitle",i,"popupLabel",t,"applyButton",s,"cancelButton",o],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-values"],[3,"removeTag","size","rounded","fillMode","id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaControls","ariaExpanded","id","tagListId","isLoading","isFilterable","activeDescendant","userInput","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","onApply","onCancel","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","showActionButtons","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"mousedown"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],["class","k-list",3,"ngClass",4,"ngIf"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","multipleSelection","virtual","checkboxes","isMultiselect","isActionSheetExpanded","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["name","plus",1,"k-icon",3,"svgIcon"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(i,t){if(i&1){let s=N();H(0,5),we(1,6),mt("isFocusedChange",function(l){return h(s),ht(t.isFocused,l)||(t.isFocused=l),m(l)}),x("handleBlur",function(){return h(s),m(t.handleBlur())})("onFocus",function(){return h(s),m(t.handleFocus())}),_(2,Ho,2,1,"span",7)(3,Wo,1,0,"kendo-separator",8),v(4,"div",9)(5,"kendo-taglist",10),x("removeTag",function(l){return h(s),m(t.handleRemoveTag(l))}),S(),v(6,"input",11),x("onNavigate",function(l){return h(s),m(t.handleNavigate(l))})("valueChange",function(l){return h(s),m(t.handleFilter(l))})("onBlur",function(){return h(s),m(t.handleInputBlur())})("onFocus",function(){return h(s),m(t.handleInputFocus())})("click",function(){return h(s),m(t.handleClick())}),S()(),_(7,jo,2,4,"span",12)(8,Qo,1,0,"span",13)(9,$o,1,0,"kendo-separator",8)(10,Jo,2,1,"span",14),xe(),_(11,Zo,1,1,"ng-template",null,0,$)(13,Yo,1,0,"kendo-resize-sensor",15),H(14,null,1),v(16,"responsive-renderer",16),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("textInputChange",function(l){return h(s),m(t.onAdaptiveTextBoxChange(l))})("navigate",function(l){return h(s),m(t.handleNavigate(l))})("onApply",function(){return h(s),m(t.applyValue())})("onCancel",function(){return h(s),m(t.cancelValue())}),S(),_(17,ur,6,22,"ng-template",null,2,$)}if(i&2){let s=B(18);d(),a("hostElement",t.hostElement),ct("isFocused",t.isFocused),d(),a("ngIf",t.prefixTemplate),d(),a("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),d(2),a("size",t.size)("rounded",t.rounded)("fillMode",t.fillMode)("id",t.tagListId)("tags",t.tags)("textField",t.textField)("valueField",t.valueField)("focused",t.focusedTagIndex)("disabled",t.disabled)("template",t.tagTemplate)("groupTemplate",t.groupTagTemplate)("tagPrefix",t.tagPrefix)("disabledIndices",t.disabledIndices),d(),a("ariaControls",t.ariaControls)("ariaExpanded",t.isOpen)("id",t.focusableId)("tagListId",t.tagListId)("isLoading",t.loading)("isFilterable",t.filterable)("activeDescendant",t.activeDescendant)("userInput",t.text)("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("isRequired",t.isControlRequired)("placeholder",t.placeholder)("inputAttributes",t.inputAttributes),d(),a("ngIf",!t.loading&&!t.readonly&&t.clearButton&&((t.tags==null?null:t.tags.length)||(t.text==null?null:t.text.length))),d(),a("ngIf",t.loading),d(),a("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),d(),a("ngIf",t.suffixTemplate),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("showActionButtons",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[vt,ai,Ie,Pe,Ve,Ai,gt,ze,Ge,ge,Oe,Fe,Oi,Gt],encapsulation:2})}return n})(),Ln=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoMultiColumnComboBoxColumnCellTemplate",""]]})}return n})(),Fn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoMultiColumnComboBoxColumnHeaderTemplate",""]]})}return n})(),Pn=(()=>{class n{cellTemplate;headerTemplate;field;title;width;hidden=!1;style;headerStyle;class;headerClass;media;matchesMedia=!0;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["kendo-combobox-column"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ln,5),T(s,Fn,5)),i&2){let o;C(o=b())&&(t.cellTemplate=o.first),C(o=b())&&(t.headerTemplate=o.first)}},inputs:{field:"field",title:"title",width:"width",hidden:"hidden",style:"style",headerStyle:"headerStyle",class:"class",headerClass:"headerClass",media:"media"},decls:0,vars:0,template:function(i,t){},encapsulation:2})}return n})(),wi,Ii=()=>{if(isNaN(wi)){let n=document.createElement("div");n.style.cssText="overflow: scroll; overflow-x: hidden; zoom: 1; clear: both; display: block;",n.innerHTML="&nbsp;",document.body.appendChild(n),wi=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return wi},rl=n=>!u(n)||n.length===0?!1:n.toArray().every(r=>!isNaN(r.width)&&r.width>0),al=n=>{if(!rl(n))return null;let e=Ii()+2;return n.reduce((i,t)=>(!t.hidden&&t.matchesMedia&&(i+=parseInt(t.width,10)),i),e)},ll=(()=>{class n extends Ni{hostElement;animationDuration=pt;hostClasses=!0;get isDisabled(){return this.disabled}columns;set header(e){this.updateHeaderPadding(e&&e.nativeElement)}set headerTable(e){this._headerTable=e,this.headerTable&&this.zone.onStable.pipe(ke(1)).subscribe(()=>{this.rowWidth=this.calculateRowWidth()})}get headerTable(){return this._headerTable}set headerColumns(e){this.zone.onStable.pipe(ke(1)).subscribe(()=>{this.headerColumnWidths=e.map(i=>i.nativeElement.offsetWidth)})}rowWidth;headerColumnWidths=[];totalColumnsWidth;get popupWidth(){let e=this.wrapper.nativeElement.offsetWidth,i=`${e}px`,t=this.popupSettings.width||al(this.columns)||e,s=isNaN(t)?t:`${t}px`;return{min:i,max:s}}_headerTable;removeWindowResizeListener=ft;columnsChangeSubscription=new Ee;get tableSizeClass(){return`${this.size?L("table",this.size):""}`}get listContainerClasses(){return["k-popup","k-dropdowngrid-popup"].concat(this.popupSettings.popupClass||[])}constructor(e,i,t,s,o,l,g,A,w,M,U,te,Tt){super(M,e,i,t,s,o,l,g,A,w,U,te,Tt),this.hostElement=te,this.defaultVirtualItemHeight=36,this.defaultVirtualPageSize=30}ngAfterViewInit(){this.updateColumnsMediaState(),this.addWindowResizeListener(),this.windowSize=this.adaptiveService.size,this.rowWidth=this.calculateRowWidth(),this.totalColumnsWidth=this.columns.reduce((e,i)=>e+i.width,0),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>{this.rowWidth=this.calculateRowWidth(),this.totalColumnsWidth=this.columns.reduce((e,i)=>e+i.width,0)}),this.cdr.detectChanges(),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){super.ngOnDestroy(),this.removeWindowResizeListener(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe()}textFrom(e,i){return E(e,i)}updateHeaderPadding(e){if(!u(e))return;let i=this.localization.rtl?"padding-left":"padding-right";this.optionsList.hasScrollbar()&&Ii()>0?this.renderer.setStyle(e,i,`${Ii()}px`):this.renderer.removeStyle(e,i)}getColumnWidth(e){return this.virtual?this.headerColumnWidths[e]:this.columns.get(e).width}verifySettings(){if(Qe()){if(u(this.data)&&this.data.length>0&&this.data.some(e=>!_t(e)))throw new Error(Sn.data);if(!u(this.valueField)||!u(this.textField))throw new Error(Sn.textAndValue);super.verifySettings()}}addWindowResizeListener(){k()&&this.zone.runOutsideAngular(()=>this.removeWindowResizeListener=this.renderer.listen(window,"resize",this.updateColumnsMediaState.bind(this)))}updateColumnsMediaState(){!(u(this.columns)&&k())||this.isActionSheetExpanded||this.columns.forEach(e=>{let i=!e.media||window.matchMedia(e.media).matches;e.matchesMedia!==i&&(e.matchesMedia=i,this.isOpen&&this.zone.run(()=>this.popupRef.popupElement.style.width=this.popupWidth.max))})}calculateRowWidth(){if(!(this.isActionSheetExpanded||!this.virtual))return this.headerTable?.nativeElement.offsetWidth}static \u0275fac=function(i){return new(i||n)(c(Q),c(nt),c(oe),c(pe),c(se),c(de),c(ce),c(Ae),c(he),c(X),c(Re),c(X),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-multicolumncombobox"]],contentQueries:function(i,t,s){if(i&1&&T(s,Pn,4),i&2){let o;C(o=b())&&(t.columns=o)}},viewQuery:function(i,t){if(i&1&&(O(cr,5),O(hr,5),O(mr,5)),i&2){let s;C(s=b())&&(t.header=s.first),C(s=b())&&(t.headerTable=s.first),C(s=b())&&(t.headerColumns=s)}},hostVars:4,hostBindings:function(i,t){i&2&&De("k-dropdowngrid",t.hostClasses)("k-disabled",t.isDisabled)},features:[Te([oe,de,pe,se,Q,{provide:Xe,useValue:"kendo.multicolumncombobox"},{multi:!0,provide:$e,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)},{provide:dt,useExisting:z(()=>n)},{provide:Qt,useExisting:z(()=>n)}]),me],decls:20,vars:38,consts:()=>{let e;e=$localize`:kendo.multicolumncombobox.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.multicolumncombobox.clearTitle|The title of the clear button:clear`;let t;t=$localize`:kendo.multicolumncombobox.selectButtonText|The title of the select button:Select`;let s;return s=$localize`:kendo.multicolumncombobox.popupLabel|The label of the popup element that contains the list of options
                when its role is 'region':Options list`,[["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["header",""],["headerWrap",""],["headerTable",""],["rowTemplate",""],["optionsList",""],["columnHeader",""],["kendoMultiColumnComboBoxLocalizedMessages","","noDataText",e,"clearTitle",i,"selectButtonText",t,"popupLabel",s],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaControls","ariaExpanded","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","aria-hidden","true","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-data-table",3,"ngClass"],[1,"k-table-header"],[1,"k-table-header-wrap"],["role","presentation",1,"k-table"],[4,"ngFor","ngForOf"],[1,"k-table-thead"],[1,"k-table-row"],[3,"pageChange","listResize","popupListScroll","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","id","virtual","type","rowWidth","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[3,"width",4,"ngIf"],["class","k-table-th",3,"ngStyle","ngClass",4,"ngIf"],[1,"k-table-th",3,"ngStyle","ngClass"],["class","k-table-td",3,"ngClass","width","max-width","ngStyle",4,"ngIf"],[1,"k-table-td",3,"ngClass","ngStyle"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"],[1,"k-table-footer"],[1,"k-table"],[1,"k-table-tfoot"],[1,"k-table-td"]]},template:function(i,t){if(i&1){let s=N();H(0,10),we(1,11),mt("isFocusedChange",function(l){return h(s),ht(t.isFocused,l)||(t.isFocused=l),m(l)}),x("handleBlur",function(){return h(s),m(t.handleBlur())})("onFocus",function(){return h(s),m(t.handleFocus())}),_(2,vr,2,1,"span",12)(3,Sr,1,0,"kendo-separator",13),v(4,"input",14),x("onNavigate",function(l){return h(s),m(t.handleNavigate(l))})("valueChange",function(l){return h(s),m(t.searchBarChange(l))})("onBlur",function(){return h(s),m(t.handleInputBlur())})("onFocus",function(){return h(s),m(t.handleInputFocus())})("click",function(){return h(s),m(t.handleClick())}),S(),_(5,Cr,2,7,"span",15)(6,br,1,0,"span",16)(7,Er,1,0,"kendo-separator",13)(8,wr,2,1,"span",17),v(9,"button",18,0),P(11,"kendo-icon-wrapper",19),S(),xe(),_(12,Ar,1,1,"ng-template",null,1,$)(14,Ir,1,0,"kendo-resize-sensor",20),H(15,null,2),v(17,"responsive-renderer",21),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("textInputChange",function(l){return h(s),m(t.onAdaptiveTextBoxChange(l))})("navigate",function(l){return h(s),m(t.handleNavigate(l))}),S(),_(18,$r,19,22,"ng-template",null,3,$)}if(i&2){let s=B(19);d(),a("hostElement",t.hostElement),ct("isFocused",t.isFocused),d(),a("ngIf",t.prefixTemplate),d(),a("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),d(),a("ariaControls",t.ariaControls)("ariaExpanded",t.isOpen)("id",t.focusableId)("isLoading",t.loading)("isSuggestable",t.suggest)("isFilterable",t.filterable)("activeDescendant",t.activeDescendant)("userInput",t.text)("suggestedText",t.getSuggestion())("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("isRequired",t.isControlRequired)("placeholder",t.placeholder)("inputAttributes",t.inputAttributes),d(),a("ngIf",t.clearButton&&!t.loading&&!t.disabled&&(!t.readonly||t.readonly&&t.isAdaptiveModeEnabled&&t.windowSize!=="large")&&(t.text==null?null:t.text.length)),d(),a("ngIf",t.loading),d(),a("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),d(),a("ngIf",t.suffixTemplate),d(),a("ngClass",t.selectButtonClasses)("kendoEventsOutsideAngular",y(36,Ft,t.preventEventDefault)),F("aria-label",t.messageFor("selectButtonText"))("disabled",t.disabled?"":null),d(2),a("name",t.icon||"caret-alt-down")("svgIcon",t.svgIcon||t.caretAltDownIcon),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled),d(3),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[vt,ai,Ie,Pe,Ve,gt,Et,ze,Fe,Ge,ge,Oe,Kt,gi,Gt],encapsulation:2})}return n})(),pi=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(c(ae))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownTreeNodeTemplate",""],["","kendoMultiSelectTreeNodeTemplate",""]]})}return n})(),Cn={animate:!0},dl=()=>!1,pl=()=>Nt([]),ul=()=>!1,cl=()=>!0,hl="medium",ml="medium",_l="solid",bn=n=>n.stopImmediatePropagation(),fl=(()=>{class n{injector;wrapper;popupService;navigationService;renderer;_zone;cdr;localization;adaptiveService;icon;svgIcon;touchEnabled=fe;animationDuration=pt;searchIcon=Wt;caretAltDownIcon=Ht;xIcon=Je;responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}hostClasses=!0;get isReadonly(){return this.readonly?"":null}get hostAriaInvalid(){return this.formControl?.invalid?!0:null}get isDisabled(){return this.disabled||null}get isLoading(){return this.loading}get isBusy(){return this.loading?"true":null}get hostAriaControls(){return this.isOpen?this.treeViewId:void 0}get id(){return this.focusableId}direction;get hostTabIndex(){return this.tabindex}role="combobox";ariaHasPopup="tree";get isAriaExpanded(){return this.isOpen}get hostAriaAutocomplete(){return this.filterable?"list":null}noDataTemplate;headerTemplate;footerTemplate;nodeTemplate;valueTemplate;popupTemplate;container;set treeview(e){e&&((this.isFocused&&!this.filterable||this.touchEnabled)&&e.focus(),e.animate=!0,this._treeview=e)}get treeview(){return this._treeview}filterInput;open=new f;opened=new f;close=new f;closed=new f;nodeExpand=new f;nodeCollapse=new f;onFocus=new f;onBlur=new f;valueChange=new f;filterChange=new f;loading;clearButton=!0;set data(e){this._nodes=e,this.setState()}get data(){return this._nodes}set value(e){this._value=e,this.setState()}get value(){return this._value}textField;valueField;valueDepth;hasChildren=dl;fetchChildren=pl;placeholder="";set popupSettings(e){this._popupSettings=Object.assign({},Cn,e)}get popupSettings(){return this._popupSettings}set dataItem(e){this._dataItem=e,this.setState()}get dataItem(){return this._dataItem?this._dataItem:this.value}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;disabled=!1;readonly=!1;valuePrimitive=!1;set tabindex(e){let i=Number(e),t=0;this._tabindex=isNaN(i)?t:i}get tabindex(){return this.disabled?-1:this._tabindex}set size(e){let i=e||hl;this.renderer.removeClass(this.wrapper.nativeElement,L("picker",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||ml;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){let i=e||_l;this.renderer.removeClass(this.wrapper.nativeElement,J("picker",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",i)),this._fillMode=i}get fillMode(){return this._fillMode}itemDisabled=ul;isNodeExpanded;isNodeVisible=cl;loadOnDemand=!0;filterable=!1;filter="";focusableId=`k-${Ye()}`;set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}get width(){let e=this.wrapper.nativeElement.offsetWidth,i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get height(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}get isOpen(){return xt(u(this.popupRef)||this.isActionSheetExpanded)}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get isFilterActive(){return this.filterInput&&document.activeElement===this.filterInput.nativeElement}popupRef;selectedKeys=[];selectBy;text;onFilterChange(e){this.filterable&&this.filterChange.emit(e)}adaptiveMode="none";title="";subtitle="";get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";isActionSheetExpanded=!1;get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}set isExpanded(e){this.isNodeExpanded=e}get isExpanded(){return this.isNodeExpanded}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set nodes(e){this.data=e}get nodes(){return this.data}set children(e){this.fetchChildren=e}get children(){return this.fetchChildren}set isVisible(e){this.isNodeVisible=e}get isVisible(){return this.isNodeVisible}filterStateChange=new f;allNodesHidden=!1;valueLabelId=`k-${Ye()}`;get formControl(){return this.injector.get(qe,null)?.control||null}treeViewId=`k-${Ye()}`;_nodes;_value;_popupSettings=Cn;_tabindex=0;_isFocused=!1;_dataItem;_treeview;_size="medium";_rounded="medium";_fillMode="solid";_searchableNodes=[];_typedValue="";printableCharacters=new je;subs=new Ee;touchstartDisposeHandler;lastNodeOnFocus;constructor(e,i,t,s,o,l,g,A,w){this.injector=e,this.wrapper=i,this.popupService=t,this.navigationService=s,this.renderer=o,this._zone=l,this.cdr=g,this.localization=A,this.adaptiveService=w,this.direction=A.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents()}ngOnInit(){this.subs.add(this.printableCharacters.pipe(ie(e=>{this._typedValue+=e;let i=this._searchableNodes.find(t=>t.text.toLowerCase().indexOf(this._typedValue)===0);this.treeview.focus(i?.index)}),mi(1e3)).subscribe(()=>{this._typedValue=""})),this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.assignAriaDescribedBy(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setComponentClasses()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(e){Ze(["textField","valueField","valuePrimitive"],e,!1)&&this.setState(),be("value",e,!1)&&e.value&&!e.dataItem&&!this.valuePrimitive&&(this.dataItem=this.value)}ngAfterContentChecked(){this.verifySettings(),this.data?.length>0&&this.popupRef&&(this.allNodesHidden=this.areNodesHidden(this.data))}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"click",this.handleClick.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.width;i.style.minWidth=t,i.style.width=s}}isEmpty(){return!this.text&&!this.placeholder}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(i||t)return;this.triggerPopupEvents(e)||(e?this.createPopup():this.destroyPopup())}handleFocus(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.isFocused||(this.isFocused=!0,R(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}handleBlur(e){if(!this.isActionSheetExpanded){let i=e&&e.relatedTarget;if(this.wrapper.nativeElement.contains(i)||this.isOpen&&this.popupRef.popupElement.contains(i))return;this.isFocused=!1,this.togglePopup(!1),(R(this.onBlur)||Ue(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur")&&this._zone.run(()=>{this.onBlur.emit(),this.onTouchedCallback()})}}handleKeydown(e,i){if(this.disabled||this.readonly)return;if(e.keyCode===I.Tab&&this.isActionSheetExpanded){this.togglePopup(!1);return}!this.isFilterActive&&yn(e.key)&&!this.actionSheetSearchBar?.onFocus&&this.printableCharacters.next(e.key);let t=e;this.navigationService.process({originalEvent:t,openOnSpace:!this.isOpen,closeOnSpace:this.isOpen&&!i&&!(e.target instanceof HTMLInputElement)})}focusItemAt(e){if(this.treeview){let i=this.treeview.itemLookup(e);!u(i)||this.treeview.isDisabled(i.item.dataItem,i.item.index)||this.treeview.focus(e)}}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}reset(){this.value=void 0,this.dataItem=void 0}toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!u(this.popupRef);this.destroyPopup(),i&&this.createPopup()})}get popupContainerClasses(){let e=["k-dropdowntree-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}onSelectionChange({dataItem:e,index:i}){this.valueDepth=i.split("_").length-1;let t=this.getField(this.valueField,e),s=this.valuePrimitive?bt(t)(e):e;s!==this.value&&(this.value=s,this.dataItem=e,this.emitValueChange(this.value)),this.togglePopup(!1),this.focus()}messageFor(e){return this.localization.get(e)}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.value=void 0,this.dataItem=void 0,this.clearState(),this.valueChange.emit(void 0),this.emitValueChange()}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}preventEventDefault(e){e.preventDefault()}writeValue(e){!u(e)&&u(this.value)&&(this.dataItem=null),this.value=e===null?void 0:e,u(this.value)&&!this.valuePrimitive&&(this.dataItem=this.value)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}handleFilterInputChange(e){let i=typeof e=="string"?e:e.value;this.filter=i,this.filterChange.next(i),this.allNodesHidden=this.areNodesHidden(this.nodes),this._zone.onStable.pipe(ke(1)).subscribe(()=>{(this.data.length===0||this.allNodesHidden||this.filter==="")&&this.filterInput?.nativeElement.focus()})}get selectButtonClasses(){return`${this.size?L("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}onTouchedCallback=ft;onChangeCallback=ft;verifySettings(){if(Qe()){if(this.valuePrimitive===!0&&u(this.value)&&typeof this.value=="object")throw new Error(Lt.primitive);if(this.valuePrimitive===!0&&u(this.value)&&typeof this.dataItem!="object")throw new Error(Lt.dataItem);if(this.valuePrimitive===!1&&u(this.value)&&typeof this.value!="object")throw new Error(Lt.object);if(!u(this.valueField)||!u(this.textField))throw new Error(Lt.textAndValue);if((Y(this.valueField)||Y(this.textField))&&u(this.value)&&!u(this.valueDepth))throw new Error(Lt.valueDepth)}}emitValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}getText(e,i){if(u(i)&&u(e)){let t=this.getField(e,i);return bt(t)(i)}return null}onChildrenLoaded(){setTimeout(()=>{this.popupRef&&(this._searchableNodes=at(this.treeViewId,this.popupRef.popupElement)),this.isActionSheetExpanded&&(this._searchableNodes=at(this.treeViewId,this.actionSheet.element.nativeElement))})}onExpand(){this._searchableNodes=at(this.treeViewId,this.actionSheet.element.nativeElement),this.isActionSheetExpanded=!0}onCollapse(){this.isActionSheetExpanded=!1}getField(e,i){let t=e.length-1;if(typeof e=="string")return e;if(u(this.valueDepth))return t<this.valueDepth?e[t]:e[this.valueDepth];if(i&&typeof i=="object")return e.find(s=>s in i)}areNodesHidden(e){return e.every((i,t)=>!this.isVisible(i,String(t)))}triggerPopupEvents(e){let i=new Be;return e?this.open.emit(i):this.close.emit(i),i.isDefaultPrevented()}createPopup(){if(this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet(),this.cdr.detectChanges();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:i,animate:this.popupSettings.animate,content:this.popupTemplate,popupAlign:t,positionMode:s?"fixed":"absolute",popupClass:this.popupContainerClasses});let o=this.popupRef.popupElement,{min:l,max:g}=this.width;this.renderer.setStyle(o,"minWidth",l),this.renderer.setStyle(o,"width",g),this.renderer.setStyle(o,"height",this.height),this.renderer.setAttribute(o,"dir",this.direction),this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),this.popupRef.popupOpen.subscribe(()=>{this.allNodesHidden=this.areNodesHidden(this.data),this.popupRef.popupElement.addEventListener("click",A=>bn(A)),this.cdr.detectChanges(),this.opened.emit(),this._searchableNodes=at(this.treeViewId,this.popupRef.popupElement)}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})}destroyPopup(){this.isActionSheetExpanded&&this.closeActionSheet(),this.popupRef&&(this.popupRef.popupElement.removeEventListener("click",e=>bn(e)),this.popupRef.close(),this.popupRef=null,this.filter!==""&&(this.filter="",this.allNodesHidden=!1,R(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")})))}handleClick(e){this.windowSize=this.adaptiveService.size,this.isActionSheetExpanded||(this.popupRef&&!this.popupRef.popupElement.contains(e.target)||!this.popupRef&&!e.target.className.includes("k-treeview-leaf"))&&this.togglePopup(!this.isOpen)}handleEscape(){this.togglePopup(!1),this.focus()}setState(){if(u(this.value)&&u(this.dataItem)&&u(this.valueField)){this.text=this.getText(this.textField,this.dataItem);let e=this.getField(this.valueField,this.dataItem);this.selectBy=e,this.selectedKeys=[bt(e)(this.dataItem)]}else this.clearState();this.cdr.markForCheck()}clearState(){this.text=void 0,this.selectedKeys=[]}subscribeEvents(){[this.navigationService.open.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!0)}),this.navigationService.close.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!1),this.focus()}),this.navigationService.enter.pipe(ie(e=>e.originalEvent.preventDefault())).subscribe(e=>{e.originalEvent.target===this.wrapper.nativeElement&&this.togglePopup(!0),this.isOpen||this.focus()}),this.navigationService.esc.subscribe(()=>this.handleEscape()),this.navigationService.tab.subscribe(()=>{this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())}),this.navigationService.down.subscribe(e=>{this.treeview&&(e.originalEvent.preventDefault(),this.treeview.isActive||this.treeview.focus())}),this.navigationService.up.subscribe(e=>{this.treeview&&(e.originalEvent.preventDefault(),this.filterable&&this.treeview.navigationService.activeIndex==="0"&&(this.isActionSheetExpanded?this.actionSheetSearchBar.focus():this.filterInput.nativeElement.focus()))})].forEach(e=>this.subs.add(e))}subscribeTouchEvents(){!k()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{let i=e.target;this.isFocused&&!Pt(this.wrapper,i,this.popupRef)&&this._zone.run(()=>{this.isOpen&&this.treeview.blur(),this.blur()})}))}subscribeFocusEvents(){k()&&(this.handleFocus=this.handleFocus.bind(this),this.handleDocumentBlur=this.handleDocumentBlur.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.handleFocus,!0),document.addEventListener("blur",this.handleDocumentBlur,!0)}))}unSubscribeFocusEvents(){k()&&(document.removeEventListener("focus",this.handleFocus,!0),document.removeEventListener("blur",this.handleDocumentBlur,!0))}unsubscribeEvents(){this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}handleDocumentBlur(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.handleBlur(e))}assignAriaDescribedBy(){let e=this.wrapper.nativeElement.getAttribute("aria-describedby")||"",i=`${this.valueLabelId} ${e.trim()}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",i)}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("picker",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("picker",this.fillMode))}removeTreeViewFromTabOrder(){this.treeview.element.nativeElement.querySelectorAll("li").forEach(i=>{i.getAttribute("tabindex")==="0"&&(this.lastNodeOnFocus=i,this.lastNodeOnFocus.setAttribute("tabindex","-1"))})}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&(this.actionSheetSearchBar.value="",this.filterChange.emit("")),this.wrapper.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.windowSize=this.adaptiveService.size,this.isActionSheetExpanded=!0,this.actionSheet.toggle(!0),this.title=It(this.wrapper,this.title),this.cdr.detectChanges(),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.removeTreeViewFromTabOrder(),this.filterable&&this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(Re),c(X),c(nt),c(pe),c(he),c(ce),c(Ae),c(Q),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdowntree"]],contentQueries:function(i,t,s){if(i&1&&(T(s,Ce,5),T(s,ve,5),T(s,Se,5),T(s,pi,5),T(s,Vt,5)),i&2){let o;C(o=b())&&(t.noDataTemplate=o.first),C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.nodeTemplate=o.first),C(o=b())&&(t.valueTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(wt,7),O(Dt,7,ut),O(Tn,5),O(On,5)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.treeview=s.first),C(s=b())&&(t.filterInput=s.first)}},hostVars:22,hostBindings:function(i,t){i&2&&(F("readonly",t.isReadonly)("aria-invalid",t.hostAriaInvalid)("aria-disabled",t.isDisabled)("aria-busy",t.isBusy)("aria-controls",t.hostAriaControls)("id",t.id)("dir",t.direction)("tabindex",t.hostTabIndex)("role",t.role)("aria-haspopup",t.ariaHasPopup)("aria-expanded",t.isAriaExpanded)("aria-autocomplete",t.hostAriaAutocomplete),De("k-dropdowntree",t.hostClasses)("k-picker",t.hostClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading)("k-readonly",t.readonly))},inputs:{icon:"icon",svgIcon:"svgIcon",loading:"loading",clearButton:"clearButton",data:"data",value:"value",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",hasChildren:"hasChildren",fetchChildren:"fetchChildren",placeholder:"placeholder",popupSettings:"popupSettings",dataItem:"dataItem",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",tabindex:"tabindex",size:"size",rounded:"rounded",fillMode:"fillMode",itemDisabled:"itemDisabled",isNodeExpanded:"isNodeExpanded",isNodeVisible:"isNodeVisible",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",focusableId:"focusableId",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle"},outputs:{open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",onFocus:"focus",onBlur:"blur",valueChange:"valueChange",filterChange:"filterChange"},exportAs:["kendoDropDownTree"],features:[Te([de,oe,pe,se,Q,{provide:Xe,useValue:"kendo.dropdowntree"},{multi:!0,provide:$e,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)},{provide:ot,useExisting:z(()=>n)},{provide:Rt,useExisting:z(()=>n)}]),q],decls:15,vars:15,consts:()=>{let e;e=$localize`:kendo.dropdowntree.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.dropdowntree.clearTitle|The title of the clear button:clear`;let t;t=$localize`:kendo.dropdowntree.selectButtonText|The text set as aria-label on the select button:Select`;let s;s=$localize`:kendo.dropdowntree.filterInputLabel|The text set as aria-label on the filter input:Filter`;let o;return o=$localize`:kendo.dropdowntree.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["filterInput",""],["treeview",""],["kendoDropDownTreeLocalizedMessages","","noDataText",e,"clearTitle",i,"selectButtonText",t,"filterInputLabel",s,"popupLabel",o],[1,"k-input-inner",3,"click"],["class","k-input-value-text",4,"ngIf"],["class","k-clear-value","aria-hidden","true",3,"visibility","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","type","button","aria-hidden","true",1,"k-input-button","k-button","k-icon-button",3,"ngClass"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"closePopup","onExpand","onCollapse","textInputChange","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle"],[3,"resize",4,"ngIf"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"],["aria-hidden","true",1,"k-clear-value",3,"click"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],["class","k-list-filter",4,"ngIf"],["kendoTreeViewSelectable","",3,"size","nodes","maxHeight","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible","selectedKeysChange","focusout","keydown","selectionChange","expand","collapse","childrenLoaded",4,"ngIf"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter"],[1,"k-textbox","k-input",3,"ngClass"],[1,"k-input-prefix"],["name","search",1,"k-icon",3,"svgIcon"],["role","textbox",1,"k-input-inner",3,"input","keydown.arrowdown","keydown.alt.arrowup","keydown.escape","filterInput","value","kendoEventsOutsideAngular","scope"],["kendoTreeViewSelectable","",3,"selectedKeysChange","focusout","keydown","selectionChange","expand","collapse","childrenLoaded","size","nodes","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(i,t){if(i&1){let s=N();H(0,5),v(1,"span",6),x("click",function(l){return h(s),m(l.preventDefault())}),_(2,Zr,3,2,"span",7),S(),_(3,Yr,2,4,"span",8)(4,ea,1,0,"span",9),v(5,"button",10),P(6,"kendo-icon-wrapper",11),S(),_(7,ia,1,1,"ng-template",null,0,$),H(9,null,1),v(11,"responsive-renderer",12),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("onExpand",function(){return h(s),m(t.onExpand())})("onCollapse",function(){return h(s),m(t.onCollapse())})("textInputChange",function(l){return h(s),m(t.handleFilterInputChange(l))}),S(),_(12,ca,5,5,"ng-template",null,2,$)(14,ha,1,0,"kendo-resize-sensor",13)}if(i&2){let s=B(13);d(),F("id",t.valueLabelId),d(),a("ngIf",t.valueTemplate||t.text||t.placeholder),d(),a("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(t.text==null?null:t.text.length)&&!t.disabled),d(),a("ngIf",t.loading),d(),a("ngClass",t.selectButtonClasses),F("aria-label",t.messageFor("selectButtonText"))("disabled",t.disabled?"":null),d(),a("name",t.icon||"caret-alt-down")("svgIcon",t.svgIcon||t.caretAltDownIcon),d(5),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",t.filterable)("subtitle",t.subtitle),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled)}},dependencies:[vt,Ie,Oe,ze,Fe,Pe,ge,yi,Et,Mt,hn,Ge],encapsulation:2,changeDetection:0})}return n})(),Gn=n=>(n||{}).key;var gl=(n,r,e)=>u(n)?{dataItem:n,key:rt({dataItem:n,level:e},r)+"_"+e}:null,En=(()=>{class n{map=new Map;reset(){this.map.clear()}registerChildren(e,i){let t=this.item(e);t&&(t.children=i)}item(e){return this.map.get(e)||null}registerItem(e,i){let t={children:[],item:e,parent:this.item(Gn(i))};this.map.set(e.key,t)}itemLookup(e){let i=this.item(e);return i?{children:this.mapChildren(i.children),item:i.item,parent:i.parent}:null}mapChildren(e=[]){return e.map(i=>{let{item:t,parent:s,children:o}=this.item(i.key);return{children:this.mapChildren(o),item:t,parent:s}})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ct({token:n,factory:n.\u0275fac})}return n})(),Vn=(()=>{class n{isHeterogeneous;addItem(e){if(this.isItemChecked(e))return;let i=xi(e.index),t=this.getKey(e,i),s=Ut(Ot({},e),{level:i,key:t});this.checkedItems.push(s),this.checkedKeys.add(t)}removeItem(e){if(!this.isItemChecked(e))return;let i=xi(e.index),t=this.getKey(e,i),s=Ut(Ot({},e),{level:i,key:t});this.checkedItems=this.checkedItems.filter(o=>{let l=rt(o,this.valueField)===rt(s,this.valueField),g=o.level===s.level;return this.isHeterogeneous?!(l&&g):!l}),this.checkedKeys.delete(t)}isItemChecked(e){let i=e.index.split("_").length-1;e.level=i;let t=this.getKey(e,i);return this.checkedKeys.has(t)}updateItems(){this.checkedItems=this.checkedItems||[],this.checkedKeys=new Set(this.checkedItems.map(e=>e.key))}getKey(e,i){return rt(e,this.valueField)+"_"+(this.isHeterogeneous?i:0)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,inputs:{valueField:"valueField",checkedItems:"checkedItems",isHeterogeneous:"isHeterogeneous"},standalone:!1})}return n})(),vl=(()=>{class n extends Vn{treeView;checkable;valueField;checkedItems;checkedItemsChange=new f;checkedKeys=new Set;subscriptions=new Ee;clickSubscription;constructor(e){super(),this.treeView=e,this.subscriptions.add(this.treeView.checkedChange.subscribe(this.handleCheckedChange.bind(this))),this.treeView.isChecked=this.getCheckedState.bind(this)}ngOnChanges(e){u(e.checkable)&&this.toggleCheckOnClick(),u(e.checkedItems)&&this.updateItems()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.unsubscribeClick()}getCheckedState(e,i){return this.isItemChecked({dataItem:e,index:i})?"checked":this.checkable.checkChildren&&this.isItemIndeterminate(this.treeView.itemLookup(i))?"indeterminate":"none"}handleCheckedChange(e){this.checkNode(e),this.checkable.checkChildren&&this.checkParents(e.parent),this.checkedItemsChange.emit(this.checkedItems.slice())}toggleCheckOnClick(){this.unsubscribeClick(),this.checkable.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.pipe(V(e=>e.type==="click")).subscribe(e=>{let i=this.treeView.itemLookup(e.item.index);this.handleCheckedChange(i)}))}unsubscribeClick(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)}checkNode(e){if(this.treeView.isDisabled(e.item.dataItem,e.item.index))return;let i=e.item,t=[i];this.checkable.checkChildren&&oi(e,l=>this.treeView.isVisible(l.dataItem,l.index)&&!this.treeView.isDisabled(l.dataItem,l.index)).forEach(l=>t.push(l.item));let s=!this.isItemChecked(i);t.forEach(o=>{s?this.addItem(o):this.removeItem(o)})}checkParents(e){let i=e;for(;i;)i.children.every(s=>this.isItemChecked(s))?this.addItem(i.item):this.removeItem(i.item),i=i.parent}isItemIndeterminate(e){let i=e.children;if(!Array.isArray(i)||i.length===0)return!1;let t=0,s=i[t];for(;u(s);){if(this.isItemChecked(s.item)||this.isItemIndeterminate(s))return!0;t+=1,s=i[t]}return!1}static \u0275fac=function(i){return new(i||n)(c(Mt))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectTreeCheckable",""]],inputs:{checkable:"checkable",valueField:"valueField",checkedItems:"checkedItems"},outputs:{checkedItemsChange:"checkedItemsChange"},features:[me,q]})}return n})(),Sl=(()=>{class n extends Vn{element;zone;cdr;renderer;lastAction;treeview;checkedItems;valueField;focused;checkedItemsChange=new f;checkedKeys=new Set;currentCheckedState;currentIndeterminateState;handleChange(e){this.currentCheckedState=e.checked,this.currentIndeterminateState=this.isIndeterminate,this.treeview.nodes.map((i,t)=>{let s=String(t),o=this.treeview.itemLookup(s);this.checkNode(o)}),this.checkedItemsChange.emit(this.checkedItems.slice())}get isIndeterminate(){let e=this.treeview.nodes.some((i,t)=>{let s=String(t),o=this.treeview.itemLookup(s);return this.someChecked(o)});return this.isChecked?!1:e}get isChecked(){return this.treeview.nodes.every((i,t)=>{let s=String(t),o=this.treeview.itemLookup(s);return this.allChecked(o)})}constructor(e,i,t,s){super(),this.element=e,this.zone=i,this.cdr=t,this.renderer=s}ngOnChanges(e){u(e.checkedItems)&&(this.updateItems(),this.renderer.setProperty(this.element.nativeElement,"checked",this.isChecked),this.renderer.setProperty(this.element.nativeElement,"indeterminate",this.isIndeterminate))}ngOnInit(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}checkNode(e){if(this.treeview.isDisabled(e.item.dataItem,e.item.index))return;let i=[],t=s=>this.treeview.isVisible(s.dataItem,s.index)&&!this.treeview.isDisabled(s.dataItem,s.index);i.push(e.item),oi(e,t).forEach(s=>i.push(s.item)),i.forEach(s=>{if(this.currentIndeterminateState){this.lastAction==="check"?this.addItem(s):this.removeItem(s);return}this.currentCheckedState?this.addItem(s):this.removeItem(s)})}allChecked(e){let i=e&&e.children;return Array.isArray(i)?i.every(s=>s.children.length?this.isItemChecked(s.item)&&this.allChecked(s):this.isItemChecked(s.item))&&this.isItemChecked(e.item):void 0}someChecked(e){let i=e&&e.children;return Array.isArray(i)?i.some(s=>s.children.length?this.isItemChecked(s.item)||this.someChecked(s):this.isItemChecked(s.item))||this.isItemChecked(e.item):void 0}static \u0275fac=function(i){return new(i||n)(c(X),c(ce),c(Ae),c(he))};static \u0275dir=G({type:n,selectors:[["","checkAll",""]],hostBindings:function(i,t){i&1&&x("change",function(o){return t.handleChange(o.target)})},inputs:{lastAction:"lastAction",treeview:"treeview",checkedItems:"checkedItems",valueField:"valueField",focused:[0,"checkAll","focused"]},outputs:{checkedItemsChange:"checkedItemsChange"},features:[me,q]})}return n})(),Dn={animate:!0},wn={checkChildren:!0,checkOnClick:!0},Cl=()=>!1,bl=()=>Nt([]),El=()=>!1,Dl=()=>!0,wl="medium",xl="medium",Al="solid",zn=(()=>{class n{injector;wrapper;popupService;renderer;navigationService;_zone;localization;cdr;lookup;adaptiveService;touchEnabled=fe;animationDuration=pt;searchIcon=Wt;xIcon=Je;hostClasses=!0;get isDisabled(){return this.disabled||null}treeViewId=`k-${Ye()}`;get hostAriaAutocomplete(){return this.filterable?"list":null}get isLoading(){return this.loading}get hostAriaInvalid(){return this.formControl?.invalid?!0:null}get isBusy(){return this.loading?"true":null}get id(){return this.focusableId}direction;get hostTabIndex(){return this.tabindex}role="combobox";ariaHasPopup="tree";get isReadonly(){return this.readonly?"":null}get ariaDescribedBy(){return this.tagListId}get ariaActiveDescendant(){return this.focusedTagId}get formControl(){return this.injector.get(qe,null)?.control||null}onFilterChange(e){this.filterable&&this.filterChange.emit(e)}onExpand(){this._searchableNodes=at(this.treeViewId,this.actionSheet.element.nativeElement),this.isActionSheetExpanded=!0}onCollapse(){this.isActionSheetExpanded=!1}adaptiveMode="none";title="";set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return this.adaptiveMode==="auto"}windowSize="large";isActionSheetExpanded=!1;handleKeydown(e,i){if(e.target===this.filterInput?.nativeElement&&(e.keyCode===I.ArrowLeft||e.keyCode===I.ArrowRight))return;if(i&&e.stopImmediatePropagation(),this.isWrapperActive&&e.keyCode===I.Backspace&&this.tags.length>0){this.handleBackspace();return}if(this.disabled||this.readonly)return;!this.isFilterActive&&yn(e.key)&&!this.actionSheetSearchBar?.onFocus&&this.printableCharacters.next(e.key);let s=e,o=this.navigationService.process({originalEvent:s,openOnSpace:!this.isOpen,closeOnSpace:!1});if(o===D.Open&&s.preventDefault(),this.isOpen&&o===D.Enter){let l=new KeyboardEvent("keydown",{key:" ",code:"Space",keyCode:32,which:32});this.treeview?.element.nativeElement.dispatchEvent(l)}}responsiveRendererComponent;get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get isAdaptive(){return this.isAdaptiveModeEnabled&&this.windowSize!=="large"}headerTemplate;footerTemplate;nodeTemplate;noDataTemplate;tagTemplate;groupTagTemplate;popupTemplate;container;set treeview(e){this._treeview=e,e&&((this.isFocused&&!this.filterable&&!this.checkAll||this.touchEnabled)&&e.focus(),Promise.resolve(null).then(()=>this.treeview.animate=!0))}get treeview(){return this._treeview}filterInput;checkAllInput;set tabindex(e){let i=Yt(e),t=0;this._tabindex=isNaN(i)?t:i}get tabindex(){return this.disabled?-1:this._tabindex}set size(e){let i=e||wl;this.renderer.removeClass(this.wrapper.nativeElement,L("input",this.size)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",i)),this._size=i}get size(){return this._size}set rounded(e){let i=e||xl;this.renderer.removeClass(this.wrapper.nativeElement,W(this.rounded)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(e){let i=e||Al;this.renderer.removeClass(this.wrapper.nativeElement,J("input",this.fillMode)),e!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",i)),this._fillMode=i}get fillMode(){return this._fillMode}set popupSettings(e){this._popupSettings=Object.assign({},Dn,e),this.cdr.detectChanges()}get popupSettings(){return this._popupSettings}set checkableSettings(e){this._checkableSettings=Object.assign({},wn,e)}get checkableSettings(){return this._checkableSettings}set data(e){this._nodes=e,this.setState(),this.isContentInit&&this.registerLookupItems(e)}get data(){return this._nodes}set value(e){this._value=e||[],this.setState()}get value(){return this._value}set dataItems(e){this._dataItems=(e||[]).map((i,t)=>{if(Nn(i,["dataItem","index","level"]))return i;let s=this.valueDepth[t]||0,o=rt({dataItem:i,level:s},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[t]:0);return{dataItem:i,index:null,level:s,key:o}}),this.setState()}get dataItems(){return this._dataItems||this.value.map((e,i)=>{let t=this.valueDepth[i]||0,s=rt({dataItem:e,level:t},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[i]:0);return{dataItem:e,index:null,level:t,key:s}})}textField;valueField;valueDepth=[];loading;placeholder="";set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;disabled=!1;readonly=!1;valuePrimitive=!1;loadOnDemand=!1;focusableId=`k-${Ye()}`;clearButton=!0;filterable=!1;checkAll=!1;hasChildren=Cl;fetchChildren=bl;isNodeExpanded;isNodeVisible=Dl;itemDisabled=El;tagMapper=e=>e||[];onFocus=new f;onBlur=new f;open=new f;opened=new f;close=new f;closed=new f;nodeExpand=new f;nodeCollapse=new f;valueChange=new f;removeTag=new f;filterChange=new f;get focusedTagId(){return!u(this.focusedTagIndex)||this.isOpen?null:this.tagPrefix+"-"+this.focusedTagIndex}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}get isOpen(){return xt(u(this.popupRef)||this.isActionSheetExpanded)}get width(){let e=this.wrapper.nativeElement.offsetWidth,i=this.popupSettings.width||e,t=isNaN(e)?e:`${e}px`,s=isNaN(i)?i:`${i}px`;return{min:t,max:s}}get height(){let e=this.popupSettings.height;return u(e)?`${e}px`:"auto"}get appendTo(){let{appendTo:e}=this.popupSettings;if(!(!e||e==="root"))return e==="component"?this.container:e}get popupContainerClasses(){let e=["k-multiselecttree-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}set nodes(e){this.data=e}get nodes(){return this.data}set children(e){this.fetchChildren=e}get children(){return this.fetchChildren}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set isExpanded(e){this.isNodeExpanded=e}get isExpanded(){return this.isNodeExpanded}set isVisible(e){this.isNodeVisible=e}get isVisible(){return this.isNodeVisible}get isTagFocused(){return!this.isOpen&&this.focusedTagIndex!==void 0}get isTreeViewActive(){return this.treeview&&this.treeview.isActive}get isWrapperActive(){return document.activeElement===this.wrapper.nativeElement}get isFilterActive(){return this.filterInput&&document.activeElement===this.filterInput.nativeElement}get isCheckAllActive(){return this.checkAllInput&&document.activeElement===this.checkAllInput.nativeElement}onResize(){let e=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==e&&(this.isOpen&&this.togglePopup(!1),this.windowSize=e),this.isOpen&&!this.isActionSheetExpanded){let i=this.popupRef.popupElement,{min:t,max:s}=this.width;i.style.minWidth=t,i.style.width=s}}filterStateChange=new f;filter="";checkedItems=[];isHeterogeneous;showAfter=0;allNodesHidden=!1;tagListId=`k-${Ye()}`;tagPrefix="tag-"+Ye();popupRef;tags;focusedTagIndex=void 0;disabledIndices;_subtitle;_nodes;_value=[];_tabindex=0;_popupSettings=Dn;_checkableSettings=wn;_isFocused=!1;_treeview;_dataItems;_tempValue;_initiallyCheckedItems=[];_size="medium";_rounded="medium";_fillMode="solid";_searchableNodes=[];_typedValue="";printableCharacters=new je;subs=new Ee;lastNodeOnFocus;isContentInit;constructor(e,i,t,s,o,l,g,A,w,M){this.injector=e,this.wrapper=i,this.popupService=t,this.renderer=s,this.navigationService=o,this._zone=l,this.localization=g,this.cdr=A,this.lookup=w,this.adaptiveService=M,this.direction=g.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeFocusEvents()}ngOnInit(){this.subs.add(this.printableCharacters.pipe(ie(e=>{this._typedValue+=e;let i=this._searchableNodes.find(t=>t.text.toLowerCase().indexOf(this._typedValue)===0);this.treeview.focus(i?.index)}),mi(1e3)).subscribe(()=>{this._typedValue=""})),this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded",String(this.isOpen)),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setComponentClasses(),this._initiallyCheckedItems=[...this.checkedItems]}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"click",this.handleClick.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this.actionSheet&&k()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(e){Ze(["textField","valueField","valuePrimitive"],e,!1)&&(this.isHeterogeneous=this.valueField&&Y(this.valueField),this.setState()),Ze(["valueDepth","value","dataItems"],e,!1)&&(e.value&&!e.dataItems&&!this.valuePrimitive?this.dataItems=this.value:this.dataItems=this.dataItems.map((i,t)=>Ut(Ot({},i),{key:rt({dataItem:i.dataItem,index:null,level:this.valueDepth[t]||0},this.valueField)+"_"+(this.isHeterogeneous?this.valueDepth[t]:0),level:this.valueDepth[t]||0}))),Ze(["data","children","hasChildren","loadOnDemand","valueField"],e,!0)&&!this.loadOnDemand&&(this.lookup.reset(),this.registerLookupItems(this.data))}ngAfterContentChecked(){this.verifySettings(),this.data?.length>0&&this.popupRef&&(this.allNodesHidden=this.areNodesHidden(this.data))}applyValue(){this.value=this._tempValue,this._initiallyCheckedItems=[...this.checkedItems],this.emitValueChange(this.value),this.setTags(),this.toggle(!1)}cancelValue(){this.checkedItems=[...this._initiallyCheckedItems],this.togglePopup(!1)}ngAfterContentInit(){this.isContentInit=!0,this.registerLookupItems(this.data)}isEmpty(){return!this.placeholder&&(!u(this.value)||this.value.length===0)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}focusItemAt(e){if(this.treeview){let i=this.treeview.itemLookup(e);!u(i)||this.treeview.isDisabled(i.item.dataItem,i.item.index)||this.treeview.focus(e)}}reset(){this.value=[],this.dataItems=[],this.valueDepth=[]}toggle(e){Promise.resolve(null).then(()=>{let i=u(e)?e:!u(this.popupRef);this.destroyPopup(),i&&this.createPopup()})}handleFocus(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.isFocused||(this.isFocused=!0,R(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}),this.isOpen&&this.treeview&&(this.lastNodeOnFocus&&this.lastNodeOnFocus.setAttribute("tabindex","0"),this.treeview.focus())))}handleBlur(e){if(!this.isActionSheetExpanded){let i=e&&e.relatedTarget;if(this.wrapper.nativeElement.contains(i)||this.isOpen&&this.popupRef.popupElement.contains(i))return;this.isFocused=!1,this.togglePopup(!1),this.cdr.markForCheck(),(R(this.onBlur)||Ue(this.wrapper.nativeElement)||this.formControl?.updateOn==="blur")&&this._zone.run(()=>{this.onBlur.emit(),this.onTouchedCallback()})}}handleNodeClick(e){if(!this.isFocused){let i=e.originalEvent.target.parentElement.parentElement;this.lastNodeOnFocus=i,this.focus()}}togglePopup(e){let i=this.disabled||this.readonly,t=this.isOpen===e;if(this._zone.run(()=>{this.focusedTagIndex=void 0}),i||t)return;this.triggerPopupEvents(e)?this.removeTreeViewFromTabOrder():e?this.createPopup():this.destroyPopup()}messageFor(e){return this.localization.get(e)}lastAction="check";handleCheckedItemsChange(e){this.valueDepth=e.map(i=>i.level),this.lastAction=e.length>this.dataItems.length?"check":"uncheck",this.dataItems=e.slice(),this.updateValue(this.dataItems)}handleRemoveTag({tag:e,index:i}){if(this.disabled||this.readonly)return;let t=new ii(e);if(this.removeTag.emit(t),!t.isDefaultPrevented()){if(e instanceof Array)this.dataItems=this.dataItems.filter((s,o)=>o<this.showAfter||this.disabledIndices.has(o)),this.valueDepth=this.valueDepth.filter((s,o)=>o<this.showAfter||this.disabledIndices.has(o));else if(this.loadOnDemand)this.dataItems=this.dataItems.filter((s,o)=>o!==i||this.disabledIndices.has(o)),this.valueDepth=this.valueDepth.filter((s,o)=>o!==i||this.disabledIndices.has(o));else{let o=this.dataItems.find(M=>M.tagPositionIndex===i).key,l=this.lookup.itemLookup(o),g=[l.item];this.checkableSettings.checkChildren&&(oi(l).forEach(M=>g.push(M.item)),g.push(...this.removeParents(l.parent)));let A=g.map(M=>M.key),w=[];this.dataItems=this.dataItems.filter((M,U)=>{let te=!A.includes(M.key)||this.disabledIndices.has(U);return te||w.push(U),te}),this.valueDepth=this.valueDepth.filter((M,U)=>!w.includes(U)||this.disabledIndices.has(U))}this.updateValue(this.dataItems),this.isFocused||this.focus()}}handleTagMapperChange(e){this.showAfter=Yt(e),this.setTags()}clearAll(e){e.stopImmediatePropagation(),e.preventDefault(),this.focus(),this.value=this.value.filter((i,t)=>this.disabledIndices.has(t)),this.dataItems=this.dataItems.filter((i,t)=>this.disabledIndices.has(t)),this.valueDepth=this.valueDepth.filter((i,t)=>this.disabledIndices.has(t)),this.emitValueChange(this.value)}writeValue(e){!this.valuePrimitive&&u(e)&&(this.dataItems=e),!u(e)&&u(this.value)&&(this.dataItems=null),this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}handleFilterInputChange(e){this.filter=e.value,this.filterChange.next(e.value)}get filterInputClasses(){return`${this.size?L("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?W(this.rounded):""}`}get checkAllCheckboxClasses(){return`${this.size?L("checkbox",this.size):""}`}toggleCheckAll(){this.checkAllInput.nativeElement.focus(),this.checkAllInput.nativeElement.click()}onTouchedCallback=ft;onChangeCallback=ft;verifySettings(){if(Qe()){if(!u(this.valueField)||!u(this.textField))throw new Error(Ne.textAndValue);if(!Y(this.value))throw new Error(Ne.array);if(this.value.length>0){if(this.valuePrimitive&&this.value.some(i=>_t(i)))throw new Error(Ne.primitive);let e=this.dataItems.every(i=>_t(i.dataItem));if(this.valuePrimitive&&!Y(this.dataItems))throw new Error(Ne.dataItems);if(this.valuePrimitive&&!e)throw new Error(Ne.dataItems);if(this.valuePrimitive&&this.dataItems.length!==this.value.length)throw new Error(Ne.dataItemsLength);if(!this.valuePrimitive&&!Zt(this.value))throw new Error(Ne.object);if((Y(this.valueField)||Y(this.textField))&&!Y(this.valueDepth))throw new Error(Ne.valueDepth);if((Y(this.valueField)||Y(this.textField))&&this.valueDepth.length===0)throw new Error(Ne.valueDepth);if((Y(this.valueField)||Y(this.textField))&&this.valueDepth.length!==this.value.length)throw new Error(Ne.valueDepthLength)}}}areNodesHidden(e){return e.every((i,t)=>!this.isVisible(i,String(t)))}emitValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}triggerPopupEvents(e){let i=new Be;return(R(this.open)||R(this.close))&&this._zone.run(()=>{e?this.open.emit(i):this.close.emit(i)}),i.isDefaultPrevented()}createPopup(){if(this.windowSize=this.adaptiveService.size,this.isAdaptive){this.openActionSheet(),this.cdr.detectChanges();return}let e=this.direction==="rtl"?"right":"left",i={horizontal:e,vertical:"bottom"},t={horizontal:e,vertical:"top"},s=typeof this.popupSettings.appendTo=="string"&&this.popupSettings.appendTo==="component";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:i,animate:this.popupSettings.animate,content:this.popupTemplate,popupAlign:t,positionMode:s?"fixed":"absolute",popupClass:this.popupContainerClasses});let o=this.popupRef.popupElement,{min:l,max:g}=this.width;this.appendTo||(this.renderer.setAttribute(o,"role","region"),this.renderer.setAttribute(o,"aria-label",this.messageFor("popupLabel"))),o.style.minWidth=l,o.style.width=g,o.style.height=this.height,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.treeViewId),this.renderer.setAttribute(o,"dir",this.direction),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.opened.emit(),this._searchableNodes=at(this.treeViewId,this.popupRef.popupElement)}),this.popupRef.popupClose.subscribe(()=>{R(this.closed)&&this._zone.run(()=>{this.closed.emit()})})}destroyPopup(){this.isActionSheetExpanded&&this.closeActionSheet(),this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.filter!==""&&(this.filter="",this.allNodesHidden=!1,R(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")})))}handleClick(e){this.popupRef&&this.popupRef.popupElement.contains(e.target)||this.isActionSheetExpanded||this.togglePopup(!this.isOpen)}subscribeEvents(){[this.navigationService.open.subscribe(e=>{e.originalEvent.preventDefault(),this.togglePopup(!0)}),this.navigationService.enter.pipe(ie(e=>e.originalEvent.preventDefault())).subscribe(()=>this.togglePopup(!0)),re(this.navigationService.close,this.navigationService.esc).subscribe(e=>{e.originalEvent.preventDefault(),this.focus(),this.togglePopup(!1)}),this.navigationService.tab.subscribe(this.handleTabKey.bind(this)),this.navigationService.up.subscribe(this.handleUpKey.bind(this)),this.navigationService.down.subscribe(this.handleDownKey.bind(this)),this.navigationService.left.pipe(V(()=>!this.isTreeViewActive)).subscribe(this.direction==="rtl"?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.pipe(V(()=>!this.isTreeViewActive)).subscribe(this.direction==="rtl"?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.home.pipe(V(()=>!this.isOpen)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(V(()=>!this.isOpen)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(V(()=>this.isTagFocused)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(V(()=>this.isTagFocused)).subscribe(this.handleDelete.bind(this))].forEach(e=>this.subs.add(e))}subscribeFocusEvents(){k()&&(this.handleFocus=this.handleFocus.bind(this),this.handleDocumentBlur=this.handleDocumentBlur.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.handleFocus,!0),document.addEventListener("blur",this.handleDocumentBlur,!0)}))}unSubscribeFocusEvents(){k()&&(document.removeEventListener("focus",this.handleFocus,!0),document.removeEventListener("blur",this.handleDocumentBlur,!0))}handleDocumentBlur(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.handleBlur(e))}handleTabKey(){this.isActionSheetExpanded||this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())}handleUpKey(e){if(!this.treeview||(e.originalEvent.preventDefault(),this.isWrapperActive))return;let i=this.treeview.navigationService.activeIndex==="0";this.filterable&&this.isFilterActive?this.focus():this.checkAll&&!this.isCheckAllActive&&i?this.checkAllInput.nativeElement.focus():(this.isCheckAllActive||i)&&(this.filterable?this.isActionSheetExpanded?this.actionSheetSearchBar.focus():this.filterInput.nativeElement.focus():this.isActionSheetExpanded||this.focus())}handleDownKey(e){this.treeview&&(e.originalEvent.preventDefault(),this.filterable&&this.isWrapperActive?this.filterInput.nativeElement.focus():this.checkAll&&(this.isWrapperActive||this.isFilterActive)?this.checkAllInput.nativeElement.focus():this.treeview.isActive||this.treeview.focus(),this.focusedTagIndex=void 0)}handleRightKey(e){e.originalEvent.preventDefault();let i=this.tags.length-1;this.focusedTagIndex===i?this.focusedTagIndex=void 0:this.focusedTagIndex<i?this.focusedTagIndex++:this.focusedTagIndex||(this.focusedTagIndex=0)}handleLeftKey(e){e.originalEvent.preventDefault(),this.focusedTagIndex===void 0||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:this.focusedTagIndex!==0&&this.focusedTagIndex--}handleEnd(e){e.originalEvent.preventDefault(),this.focusedTagIndex=this.tags.length-1}handleHome(e){e.originalEvent.preventDefault(),this.focusedTagIndex=0}handleBackspace(){if(this.focusedTagIndex!==void 0)this.handleDelete();else{let e=this.tags[this.tags.length-1],i=this.tags.length-1;this.handleRemoveTag({tag:e,index:i})}}handleDelete(){let e=this.tags[this.focusedTagIndex],i=this.focusedTagIndex;this.handleRemoveTag({tag:e,index:i}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}unsubscribeEvents(){this.subs.unsubscribe(),this.unSubscribeFocusEvents()}removeTreeViewFromTabOrder(){this.treeview.element.nativeElement.querySelectorAll("li").forEach(i=>{i.getAttribute("tabindex")==="0"&&(this.lastNodeOnFocus=i,this.lastNodeOnFocus.setAttribute("tabindex","-1"))})}setState(){u(this.dataItems)&&u(this.valueField)&&(this.isActionSheetExpanded||this.setTags(),this.checkedItems=this.dataItems.slice()),this.cdr.markForCheck()}setTags(){let e=this.dataItems.map(t=>t.dataItem);this.tags=this.tagMapper(e),this.disabledIndices=this.disabledItemsMapper();let i=new Map(this.tags.map((t,s)=>[JSON.stringify(t),s]));this.dataItems.forEach(t=>{let s=JSON.stringify(t.dataItem);t.tagPositionIndex=i.has(s)?i.get(s):null})}updateValue(e){let i=this.valuePrimitive?e.map(t=>rt(t,this.valueField)):e.map(t=>t.dataItem);this.isActionSheetExpanded?this._tempValue=i.slice():(this.value=i,this.emitValueChange(this.value))}onChildrenLoaded(){setTimeout(()=>{this.popupRef&&(this._searchableNodes=at(this.treeViewId,this.popupRef.popupElement)),this.isActionSheetExpanded&&(this._searchableNodes=at(this.treeViewId,this.actionSheet.element.nativeElement))})}disabledItemsMapper(){return new Set(this.dataItems.reduce((e,i,t)=>(this.itemDisabled(i.dataItem,i.index)&&e.push(t),e),[]))}setComponentClasses(){this.size!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,L("input",this.size)),this.rounded!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,W(this.rounded)),this.fillMode!=="none"&&this.renderer.addClass(this.wrapper.nativeElement,J("input",this.fillMode))}removeParents(e){let i=e,t=[];for(;i;)t.push(i.item),i=i.parent;return t}registerLookupItems(e,i=null,t=0){if(!u(e)||e.length===0)return;let s=Gn(i),o=e.map(l=>gl(l,this.valueField,t));u(i)&&this.lookup.registerChildren(s,o),o.forEach(l=>{this.lookup.registerItem(l,i),this.loadOnDemand||this.registerChildLookupItems(l,t)})}registerChildLookupItems(e,i){this.hasChildren(e.dataItem)&&this.children(e.dataItem).subscribe(t=>{let s=this.isHeterogeneous?i+1:0;this.registerLookupItems(t,e,s)})}closeActionSheet(){this.wrapper.nativeElement.focus(),this.actionSheet.toggle(!1),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.filterable&&(this.actionSheetSearchBar.value="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this.title=It(this.wrapper,this.title),this.cdr.detectChanges(),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.treeViewId),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),At(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.filterable&&this.actionSheetSearchBar.focus()}static \u0275fac=function(i){return new(i||n)(c(Re),c(X),c(nt),c(he),c(pe),c(ce),c(Q),c(Ae),c(En),c(st))};static \u0275cmp=le({type:n,selectors:[["kendo-multiselecttree"]],contentQueries:function(i,t,s){if(i&1&&(T(s,ve,5),T(s,Se,5),T(s,pi,5),T(s,Ce,5),T(s,li,5),T(s,di,5)),i&2){let o;C(o=b())&&(t.headerTemplate=o.first),C(o=b())&&(t.footerTemplate=o.first),C(o=b())&&(t.nodeTemplate=o.first),C(o=b())&&(t.noDataTemplate=o.first),C(o=b())&&(t.tagTemplate=o.first),C(o=b())&&(t.groupTagTemplate=o.first)}},viewQuery:function(i,t){if(i&1&&(O(ge,5),O(wt,7),O(Dt,7,ut),O(Tn,5),O(On,5),O(ma,5)),i&2){let s;C(s=b())&&(t.responsiveRendererComponent=s.first),C(s=b())&&(t.popupTemplate=s.first),C(s=b())&&(t.container=s.first),C(s=b())&&(t.treeview=s.first),C(s=b())&&(t.filterInput=s.first),C(s=b())&&(t.checkAllInput=s.first)}},hostVars:22,hostBindings:function(i,t){i&2&&(F("aria-disabled",t.isDisabled)("aria-autocomplete",t.hostAriaAutocomplete)("aria-invalid",t.hostAriaInvalid)("aria-busy",t.isBusy)("id",t.id)("dir",t.direction)("tabindex",t.hostTabIndex)("role",t.role)("aria-haspopup",t.ariaHasPopup)("readonly",t.isReadonly)("aria-describedby",t.ariaDescribedBy)("aria-activedescendant",t.ariaActiveDescendant),De("k-multiselecttree",t.hostClasses)("k-input",t.hostClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading)("k-readonly",t.readonly))},inputs:{adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",tabindex:"tabindex",size:"size",rounded:"rounded",fillMode:"fillMode",popupSettings:"popupSettings",checkableSettings:"checkableSettings",data:"data",value:"value",dataItems:"dataItems",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",loading:"loading",placeholder:"placeholder",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",loadOnDemand:"loadOnDemand",focusableId:"focusableId",clearButton:"clearButton",filterable:"filterable",checkAll:"checkAll",hasChildren:"hasChildren",fetchChildren:"fetchChildren",isNodeExpanded:"isNodeExpanded",isNodeVisible:"isNodeVisible",itemDisabled:"itemDisabled",tagMapper:"tagMapper"},outputs:{onFocus:"focus",onBlur:"blur",open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",valueChange:"valueChange",removeTag:"removeTag",filterChange:"filterChange"},exportAs:["kendoMultiSelectTree"],features:[Te([Q,pe,de,se,oe,En,{provide:Xe,useValue:"kendo.multiselecttree"},{multi:!0,provide:$e,useExisting:z(()=>n)},{provide:ot,useExisting:z(()=>n)},{provide:Rt,useExisting:z(()=>n)},{provide:et,useExisting:z(()=>n)}]),q],decls:14,vars:24,consts:()=>{let e;e=$localize`:kendo.multiselecttree.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`;let i;i=$localize`:kendo.multiselecttree.clearTitle|The title of the clear button:clear`;let t;t=$localize`:kendo.multiselecttree.checkAllText|The text displayed for the check-all checkbox:Check all`;let s;s=$localize`:kendo.multiselecttree.filterInputLabel|The text set as aria-label on the filter input:Filter`;let o;o=$localize`:kendo.multiselecttree.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`;let l;l=$localize`:kendo.multiselecttree.applyButton|The text of the Apply button in the action sheet:Apply`;let g;return g=$localize`:kendo.multiselecttree.cancelButton|The text of the Cancel button in the action sheet:Cancel`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["treeview",""],["filterInput",""],["checkAllInput",""],["kendoMultiSelectTreeLocalizedMessages","","noDataText",e,"clearTitle",i,"checkAllText",t,"filterInputLabel",s,"popupLabel",o,"applyButton",l,"cancelButton",g],[1,"k-input-values",3,"removeTag","size","rounded","fillMode","id","tags","focused","textField","valueField","valueDepth","disabled","tagPrefix","template","groupTemplate","disabledIndices"],[1,"k-input-inner"],["class","k-input-value-text",4,"ngIf"],["class","k-clear-value","role","button","tabindex","-1",3,"click",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],[3,"closePopup","onExpand","onCollapse","textInputChange","onApply","onCancel","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","showActionButtons","subtitle"],[3,"resize",4,"ngIf"],[1,"k-input-value-text"],["role","button","tabindex","-1",1,"k-clear-value",3,"click"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[4,"ngTemplateOutlet"],["class","k-list-filter",4,"ngIf"],[4,"ngIf"],["class","k-check-all",4,"ngIf"],["kendoMultiSelectTreeCheckable","",3,"keydown","nodeClick","expand","collapse","checkedItemsChange","childrenLoaded","size","nodes","animate","isHeterogeneous","checkable","checkedItems","valueField","textField","children","hasChildren","isExpanded","isDisabled","nodeTemplate","loadOnDemand","filter","isVisible","kendoEventsOutsideAngular","scope"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter"],[1,"k-textbox","k-input",3,"ngClass"],[1,"k-input-prefix"],["name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-input-inner",3,"input","keydown","filterInput","value","kendoEventsOutsideAngular","scope"],[3,"templateContext"],[1,"k-check-all"],[1,"k-checkbox-wrap"],["type","checkbox","role","checkbox","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-checkbox",3,"checkedItemsChange","keydown","checkAll","ngClass","treeview","checkedItems","valueField","lastAction","kendoEventsOutsideAngular","scope"],[1,"k-checkbox-label",3,"click","mousedown"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"],[3,"resize"]]},template:function(i,t){if(i&1){let s=N();H(0,6),v(1,"kendo-taglist",7),x("removeTag",function(l){return h(s),m(t.handleRemoveTag(l))}),S(),v(2,"span",8),_(3,fa,2,1,"span",9),S(),_(4,ga,2,2,"span",10)(5,va,1,0,"span",11)(6,Ca,1,1,"ng-template",null,0,$),H(8,null,1),v(10,"responsive-renderer",12),x("closePopup",function(){return h(s),m(t.togglePopup(!1))})("onExpand",function(){return h(s),m(t.onExpand())})("onCollapse",function(){return h(s),m(t.onCollapse())})("textInputChange",function(l){return h(s),m(t.onFilterChange(l))})("onApply",function(){return h(s),m(t.applyValue())})("onCancel",function(){return h(s),m(t.cancelValue())}),S(),_(11,Na,7,28,"ng-template",null,2,$)(13,ya,1,0,"kendo-resize-sensor",13)}if(i&2){let s=B(12);d(),a("size",t.size)("rounded",t.rounded)("fillMode",t.fillMode)("id",t.tagListId)("tags",t.tags)("focused",t.focusedTagIndex)("textField",t.textField)("valueField",t.valueField)("valueDepth",t.valueDepth)("disabled",t.disabled)("tagPrefix",t.tagPrefix)("template",t.tagTemplate)("groupTemplate",t.groupTagTemplate)("disabledIndices",t.disabledIndices),d(2),a("ngIf",!t.tags||!t.tags.length),d(),a("ngIf",!t.disabled&&!t.loading&&!t.readonly&&t.clearButton&&(t.tags==null?null:t.tags.length)),d(),a("ngIf",t.loading),d(5),a("sharedPopupActionSheetTemplate",s)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",t.filterable)("showActionButtons",!0)("subtitle",t.subtitle),d(3),a("ngIf",t.isOpen||t.isAdaptiveModeEnabled)}},dependencies:[vt,Ai,Ie,ze,Pe,ge,Fe,yi,Et,Oe,Sl,Mt,vl,Ge],encapsulation:2})}return n})(),Il=(()=>{class n extends bi{dropDownTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}idField;set filter(e){super.filter=e}constructor(e){super(e),this.dropDownTree=e}ngOnChanges(e){be("nodes",e,!1)&&(this.dropDownTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(i){return new(i||n)(c(ot))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownTreeFlatBinding",""]],inputs:{nodes:[0,"kendoDropDownTreeFlatBinding","nodes"],idField:[0,"valueField","idField"]},features:[me,q]})}return n})(),Tl=(()=>{class n extends Ei{dropDownTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}set filter(e){super.filter=e}constructor(e){super(e),this.dropDownTree=e}ngOnChanges(e){be("nodes",e,!1)&&(this.dropDownTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(i){return new(i||n)(c(ot))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownTreeHierarchyBinding",""]],inputs:{nodes:[0,"kendoDropDownTreeHierarchyBinding","nodes"]},features:[me,q]})}return n})(),Ol=(()=>{class n extends bi{multiSelectTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}idField;set filter(e){super.filter=e}constructor(e){super(e),this.multiSelectTree=e}ngOnChanges(e){be("nodes",e,!1)&&(this.multiSelectTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(i){return new(i||n)(c(ot))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectTreeFlatBinding",""]],inputs:{nodes:[0,"kendoMultiSelectTreeFlatBinding","nodes"],idField:[0,"valueField","idField"]},features:[me,q]})}return n})(),Nl=(()=>{class n extends Ei{multiSelectTree;set nodes(e){this._nodes=e}get nodes(){return this._nodes}set filter(e){super.filter=e}constructor(e){super(e),this.multiSelectTree=e}ngOnChanges(e){be("nodes",e,!1)&&(this.multiSelectTree.nodes=e.nodes.currentValue,super.nodes=e.nodes.currentValue),super.ngOnChanges(e)}static \u0275fac=function(i){return new(i||n)(c(ot))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectTreeHierarchyBinding",""]],inputs:{nodes:[0,"kendoMultiSelectTreeHierarchyBinding","nodes"]},features:[me,q]})}return n})(),Un=(()=>{class n extends cn{dropDownTree;set isExpanded(e){this.dropDownTree.isExpanded=e}constructor(e){super(e),this.dropDownTree=e}static \u0275fac=function(i){return new(i||n)(c(Rt))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownTreeExpandable",""],["","kendoMultiSelectTreeExpandable",""]],inputs:{isExpanded:[0,"isNodeExpanded","isExpanded"]},features:[me]})}return n})(),yl={caseSensitive:!1,operator:"startsWith"},zt=(()=>{class n{component;set data(e){this._data=e||[]}get data(){return this._data}rawSettings;filterable=!0;_data=[];filterChangeSubscription;constructor(e){this.component=e}ngOnInit(){this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe(this.handleFilterChange.bind(this))}ngOnDestroy(){u(this.filterChangeSubscription)&&this.filterChangeSubscription.unsubscribe()}handleFilterChange(e){this.component.data=this.data.filter(i=>this.matchesAnyField(i,e))}matchesAnyField(e,i){let t=this.normalizeValue(i),{fields:s}=this.filterSettings;return s.length===0?this.checkItem(e,t):s.some(o=>this.checkItem(E(e,o),t))}checkItem(e,i){return e=this.normalizeValue(e),this.filterSettings.operator==="contains"?e.indexOf(i)!==-1:e.indexOf(i)===0}normalizeValue(e){let i=u(e)?e.toString():"";return this.filterSettings.caseSensitive?i:i.toLowerCase()}getFilterFields(e){return!this.component.textField&&!this.component.valueField?[]:Y(e)&&e.length>0?e:[this.component.textField||this.component.valueField]}get filterSettings(){let e=this.rawSettings,i=u(e)&&typeof e=="object"?e.fields:[];return Object.assign({},yl,e,{fields:this.getFilterFields(i)})}static \u0275fac=function(i){return new(i||n)(c(dt))};static \u0275dir=G({type:n,selectors:[["","kendoDropDownFilter",""]],inputs:{data:"data",rawSettings:[0,"kendoDropDownFilter","rawSettings"],filterable:"filterable"}})}return n})(),St=(()=>{class n extends ti{service;constructor(e){super(),this.service=e}get override(){return!0}static \u0275fac=function(i){return new(i||n)(c(Q))};static \u0275cmp=le({type:n,selectors:[["kendo-dropdownlist-messages"],["kendo-combobox-messages"],["kendo-multicolumncombobox-messages"],["kendo-autocomplete-messages"],["kendo-multiselect-messages"],["kendo-dropdowntree-messages"],["kendo-multiselecttree-messages"]],features:[Te([{provide:ti,useExisting:z(()=>n)}]),me],decls:0,vars:0,template:function(i,t){},encapsulation:2})}return n})(),kl=(()=>{class n{multiSelectComponent;showAfter=0;constructor(e){this.multiSelectComponent=e,this.createTagMapper()}ngOnChanges(e){u(e.showAfter)&&(this.createTagMapper(),this.multiSelectComponent.onTagMapperChange())}createTagMapper(){let e=Yt(this.showAfter);this.multiSelectComponent.tagMapper=i=>{if(i.length>e){let t=i.slice(0,e);return t.push(i.slice(e,i.length)),t}else return i}}static \u0275fac=function(i){return new(i||n)(c(ki))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectSummaryTag",""]],inputs:{showAfter:[0,"kendoMultiSelectSummaryTag","showAfter"]},features:[q]})}return n})(),Rl=(()=>{class n{multiSelectTreeComponent;showAfter=0;constructor(e){this.multiSelectTreeComponent=e,this.createTagMapper()}ngOnChanges(e){u(e.showAfter)&&(this.createTagMapper(),this.multiSelectTreeComponent.handleTagMapperChange(this.showAfter))}createTagMapper(){let e=Yt(this.showAfter);this.multiSelectTreeComponent.tagMapper=i=>i.length>e?[...i.slice(0,e),i.slice(e)]:i}static \u0275fac=function(i){return new(i||n)(c(zn))};static \u0275dir=G({type:n,selectors:[["","kendoMultiSelectTreeSummaryTag",""]],inputs:{showAfter:[0,"kendoMultiSelectTreeSummaryTag","showAfter"]},features:[q]})}return n})(),Ml=[kn,We,Se,He,ve,Ke,Ce,zt,St,it,tt,Ve],Ll=[Ni,We,Se,He,ve,Ke,Ce,zt,St,it,tt,Ve,Si],Fl=[ll,Pn,Fn,Ln,We,Se,He,ve,Ke,Ce,zt,St,it,tt,Ve,Si],Pl=[Rn,We,Se,He,ve,Ke,Vt,Ce,zt,St],Gl=[ki,kl,Mn,We,Se,He,di,li,ve,Ke,Ce,zt,St,it,tt,Ve],Vl=[fl,Il,Tl,Un,pi,ve,Se,Vt,Ce,St],zl=[zn,Ol,Nl,Un,pi,Rl,di,li,ve,Se,Vt,Ce,St],Id=[...Ml,...Ll,...Fl,...Pl,...Gl,...Vl,...zl];export{Ke as a,kn as b,Ni as c,Rn as d,li as e,ki as f,Pn as g,ll as h,fl as i,Tl as j,Un as k};
